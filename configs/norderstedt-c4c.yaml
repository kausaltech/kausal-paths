id: norderstedt-c4c
default_language: de
supported_languages: [en]
site_url: https://norderstedt-c4c.paths.kausal.tech
dataset_repo:
  url: https://github.com/kausaltech/dvctest.git
  commit: c35b834c43c6b1be7fd2eab872d1f4499415977a
  dvc_remote: kausal-s3
name: Treibhausgasbilanz Norderstedt
name_en: Norderstedt Greenhouse Gas Inventory
owner: City of Norderstedt
theme_identifier: eu-climate-4-cast
target_year: 2040
model_end_year: 2040
reference_year: 2020
minimum_historical_year: 2020
maximum_historical_year: 2023
emission_unit: t_co2e/a
emission_forecast_from: 2024
emission_dimensions: []
features:
  baseline_visible_in_graphs: true
  use_datasets_from_db: true

action_groups:
- id: stationary_energy
  name: Stationäre Energie
  name_en: Stationary Energy
  color: '#4E79A7'
- id: land_use
  name: Landnutzung
  name_en: Land Use
  color: '#B07AA1'
- id: trends
  name: Trends
  name_en: Trends
  color: '#F28E2B'

impact_overviews:
- graph_type: cost_efficiency
  cost_node: net_costs
  effect_node: net_emissions
  indicator_unit: EUR/t_co2e
  cost_unit: EUR
  effect_unit: t_co2e
  plot_limit_for_indicator: 1000000
  label: Cost efficiency

# - graph_type: cost_benefit
#   cost_node: cost_benefit_analysis
#   effect_node: cost_benefit_analysis
#   indicator_unit: kEUR
#   outcome_dimension: cost_benefit
#   label: Cost-benefit

# - graph_type: return_on_investment_gross # Assumes gross benefits; costs will be subtracted
#   cost_node: total_costs
#   effect_node: total_benefits
#   indicator_unit: '%'
#   label: Return on investment

dimensions:
- id: cost_type
  label: Cost Type
  categories:
  - id: operations
    label: Operations
  - id: capex_infrastructure
    label: Capex, Infrastructure
  - id: opex_infrastructure
    label: Opex, Infrastructure

- id: sector
  label: Sektor
  label_en: Sector
  categories:
  - id: i
    label: Stationäre Energie
    label_en: Stationary Energy
  - id: i1
    label: Private Haushalte
    label_en: Private Households
  - id: i2
    label: Kleingewerbe
    label_en: Small Businesses and Industries
  - id: i3
    label: Großverbaucher und Industrie
    label_en: Manufacturing and Industry
  - id: i4
    label: Stadtverwaltung stationäre Energie
    label_en: City Administration Stationary Energy
  - id: i41
    label: Strom städtische Gebäude
    label_en: Electricity in Municipal Buildings
  - id: i42
    label: Wärme städtische Gebäude (Strom und Fernwärme)
    label_en: Electric and District Heat in Municipal Buildings
  - id: i43
    label: Wärme städtische Gebäude (fossil)
    label_en: Fossil Fuel Heat in Municipal Buildings
  - id: ii
    label: Verkehr
    label_en: Transportation
  - id: ii1
    label: Alltagsmobilität MIV
    label_en: 'Everyday Mobility: Motorised Private Transport'
  - id: ii2
    label: Alltagsmobilität ÖPNV
    label_en: 'Everyday Mobility: Public Transport'
  - id: ii3
    label: Inlandreiseverkehr (MIV+ÖPNV)
    label_en: Domestic Travel
  - id: ii4
    label: Flüge
    label_en: Air Travel
  - id: ii5
    label: LKW-Verkehre
    label_en: HGV Traffic
  - id: ii6
    label: Stadtverwaltung Verkehr
    label_en: City Administration Transport
  - id: ii61
    label: Kommunaler Fuhrpark (Kraftstoffe fossil)
    label_en: Municipal Fleet (Fossil Fuels)
  - id: iii
    label: Abfall
    label_en: Waste
  - id: iii1
    label: Abfälle
    label_en: Waste
  - id: iii2
    label: Abwasser
    label_en: Wastewater
  - id: v
    label: Landnutzung
    label_en: Land Use
  - id: v1
    label: Landwirtschaft
    label_en: Agriculture
  - id: v2
    label: Naturnahe Flächen
    label_en: Semi-Natural Areas
  - id: v3
    label: Senken
    label_en: Sinks

- id: action
  label: Action
  categories:
  - id: change_streetlights_to_led
    label: Change Streetlights to LED
  - id: tree_donation
    label: Tree Donation
  - id: reforestation
    label: Reforestation
  - id: program_energy_refurbishment_for_private_households
    label: Energy Refurbishment for Private Households
  - id: energy_refurbishment_school_building
    label: Energy Refurbishment for School Building
  - id: new_school_building
    label: New School Building
  - id: roof_refurbishment_for_public_building
    label: Roof Refurbishment for Public Building
  - id: decarbonize_municipal_electricity_corporate
    label: Decarbonize Municipal Electricity (Corporate)
  - id: decarbonize_municipal_electricity_community
    label: Decarbonize Municipal Electricity (Community)
  - id: decarbonize_municipal_district_heating_corporate
    label: Decarbonize Municipal District Heating (Corporate)
  - id: decarbonize_municipal_district_heating_community
    label: Decarbonize Municipal District Heating (Community)
  - id: change_traffic_lights_to_led_moorkamp_street
    label: Change Traffic Lights to LED (Moorkamp Street)
  - id: change_traffic_lights_to_led_total
    label: Change Traffic Lights to LED (Total)
  - id: school_forest_wittmoor
    label: School Forest "Wittmoor"
  - id: energy_refurbishment_of_kindergarten
    label: Energy Refurbishment of Kindergarten

- id: cost_benefit
  label: Kosten-Nutzen
  label_en: Cost-Benefit
  categories:
  - id: cost
    label: Kosten
    label_en: Costs
  - id: benefit
    label: Nutzen
    label_en: Benefits

emission_sectors:
- id: net_emissions
  name: Nettoemissionen (Gesamtstadt)
  name_en: Net Emissions (Territorial)
  is_outcome: true

- id: net_emissions_city_administration
  name: Nettoemissionen (Stadtverwaltung)
  name_en: Net Emissions (City Administration)
  is_outcome: true

nodes:
# ----- Emissions

# ---------- Stationary Energy
- id: i1_private_household_emissions
  name: Private Haushalte
  name_en: Private Households
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - column: sector
      value: i1
  output_nodes:
  - id: i_stationary_energy_emissions

- id: i2_small_business_and_industry_emissions
  name: Kleingewerbe
  name_en: Small Businesses and Industries
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - column: sector
      value: i2
  output_nodes:
  - id: i_stationary_energy_emissions

- id: i3_manufacturing_and_industry_emissions
  name: Großverbaucher und Industrie
  name_en: Manufacturing and Industry
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - column: sector
      value: i3
  output_nodes:
  - id: i_stationary_energy_emissions

- id: i4_city_administration_emissions
  name: Stadtverwaltung stationäre Energie
  name_en: City Administration Stationary Energy
  color: '#4E79A7'
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [sector]
  output_dimensions: [sector]
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - dimension: sector
      categories: [i41, i42, i43]
  output_nodes:
  - id: i_stationary_energy_emissions
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions: []
  - id: net_emissions_city_administration
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions: []

- id: i_stationary_energy_emissions
  name: Stationäre Energie
  name_en: Stationary Energy
  color: '#4E79A7'
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  output_nodes:
  - id: net_emissions

# ---------- Transportation
- id: ii1_private_transport_emissions
  name: Alltagsmobilität MIV
  name_en: 'Everyday Mobility: Motorised Private Transport'
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - column: sector
      value: ii1
  output_nodes:
  - id: ii_transportation_emissions

- id: ii2_public_transport_emissions
  name: Alltagsmobilität ÖPNV
  name_en: 'Everyday Mobility: Public Transport'
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - column: sector
      value: ii2
  output_nodes:
  - id: ii_transportation_emissions

- id: ii3_domestic_travel_emissions
  name: Inlandreiseverkehr (MIV+ÖPNV)
  name_en: Domestic Travel
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - column: sector
      value: ii3
  output_nodes:
  - id: ii_transportation_emissions

- id: ii4_air_travel_emissions
  name: Flüge
  name_en: Air Travel
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - column: sector
      value: ii4
  output_nodes:
  - id: ii_transportation_emissions

- id: ii5_hgv_traffic_emissions
  name: LKW-Verkehre
  name_en: HGV Traffic
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - column: sector
      value: ii5
  output_nodes:
  - id: ii_transportation_emissions

- id: ii6_city_administration_emissions
  name: Stadtverwaltung Verkehr
  name_en: City Administration Transport
  color: '#E15759'
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [sector]
  output_dimensions: [sector]
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - dimension: sector
      categories: [ii61]
  output_nodes:
  - id: ii_transportation_emissions
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions: []
  - id: net_emissions_city_administration
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions: []

- id: ii_transportation_emissions
  name: Verkehr
  name_en: Transportation
  color: '#E15759'
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: []
  output_dimensions: []
  output_nodes:
  - id: net_emissions

# ---------- Waste
- id: iii_waste_emissions
  name: Abfall
  name_en: Waste
  color: '#59A14F'
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [sector]
  output_dimensions: [sector]
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - dimension: sector
      categories: [iii1, iii2]
  output_nodes:
  - id: net_emissions
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions: []

# ---------- Land Use
- id: v_land_use_emissions
  name: Landnutzung
  name_en: Land Use
  color: '#B07AA1'
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [sector]
  output_dimensions: [sector]
  input_datasets:
  - id: norderstedt/baseline
    column: emissions
    forecast_from: 2024
    filters:
    - dimension: sector
      categories: [v1, v2, v3]
  output_nodes:
  - id: net_emissions
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions: []

# ----- Costs & Benefits
- id: i4_city_administration_costs
  name: Stadtverwaltung stationäre Energie
  name_en: City Administration Stationary Energy
  color: '#4E79A7'
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, action]
  output_dimensions: [cost_type, action]
  output_nodes:
  - id: i_stationary_energy_costs

- id: i_stationary_energy_costs
  name: Stationäre Energie
  name_en: Stationary Energy
  color: '#4E79A7'
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, action]
  output_dimensions: [cost_type, action]
  output_nodes:
  - id: net_costs
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: action
      flatten: true
    to_dimensions: []

- id: v_land_use_costs
  name: Landnutzung
  name_en: Land Use
  color: '#B07AA1'
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, action]
  output_dimensions: [cost_type, action]
  output_nodes:
  - id: net_costs
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: action
      flatten: true
    to_dimensions: []

- id: net_costs
  name: Nettokosten
  name_en: Net Costs
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: []
  output_dimensions: []

- id: total_costs
  name: Gesamtkosten
  name_en: Total Costs
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: []
  output_dimensions: []

- id: total_benefits
  name: Gesamtnutzen
  name_en: Total Benefits
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: []
  output_dimensions: []

- id: cost_benefit_analysis
  name: Kosten-Nutzen-Analyse
  name_en: Cost-Benefit Analysis
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_benefit]
  output_dimensions: [cost_benefit]
  input_nodes:
  - id: total_costs
    to_dimensions:
    - id: cost_benefit
      categories: [cost]
  - id: total_benefits
    to_dimensions:
    - id: cost_benefit
      categories: [benefit]

actions:
# - id: change_streetlights_to_led
#   name: Change Street Lights to LED
#   type: simple.AdditiveAction
#   group: i_stationary
#   input_dimensions: ['action', 'cost_type', 'scope', 'energy_carrier', 'ghg']
#   output_dimensions: ['action', 'cost_type', 'scope', 'energy_carrier', 'ghg']
#   params:
#     allow_null_categories: true

#   input_datasets:
#   - id: norderstedt/stationary_actions
#     forecast_from: 2024
#     filters:
#     - column: sector
#     - dimension: action
#       categories: [change_streetlights_to_led]

#   output_metrics:
#   - id: currency
#     unit: EUR/a
#     quantity: currency
#   - id: emissions
#     unit: kg/a
#     quantity: emissions

#   output_nodes:
#   - id: i_stationary_total_price
#     metrics: [currency]
#     from_dimensions:
#     - id: energy_carrier
#       flatten: true
#     - id: ghg
#       flatten: true
#     to_dimensions:
#     - id: action
#     - id: cost_type
#     - id: scope
#   - id: total_costs
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [capex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: energy_carrier
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: total_benefits
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [opex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: energy_carrier
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: i_stationary_total_emissions
#     metrics: [emissions]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: energy_carrier
#       flatten: true
#     to_dimensions:
#     - id: ghg


# - id: change_street_lights_to_led_moorkamp_street
#   name: Change Street Lights to LED (Moorkamp Street)
#   type: simple.AdditiveAction
#   group: i_stationary
#   input_dimensions: ['action', 'cost_type', 'scope', 'ghg']
#   output_dimensions: ['action', 'cost_type', 'scope', 'ghg']
#   params:
#     allow_null_categories: true

#   input_datasets:
#   - id: norderstedt/stationary_actions
#     forecast_from: 2024
#     filters:
#     - column: sector
#     - dimension: action
#       categories: [change_traffic_lights_to_led_moorkamp_street]
#     - column: energy_carrier

#   output_metrics:
#   - id: currency
#     unit: EUR/a
#     quantity: currency
#   - id: emissions
#     unit: kg/a
#     quantity: emissions

#   output_nodes:
#   - id: i_stationary_total_price
#     metrics: [currency]
#     from_dimensions:
#     - id: ghg
#       flatten: true
#     to_dimensions:
#     - id: action
#     - id: cost_type
#     - id: scope
#   - id: total_costs
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [capex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: total_benefits
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [opex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: i_stationary_total_emissions
#     metrics: [emissions]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       flatten: true
#     - id: scope
#       flatten: true
#     to_dimensions:
#     - id: ghg


# - id: change_traffic_lights_to_led_total
#   name: Change Traffic Lights to LED (Total)
#   type: simple.AdditiveAction
#   group: i_stationary
#   input_dimensions: ['action', 'cost_type', 'scope', 'ghg']
#   output_dimensions: ['action', 'cost_type', 'scope', 'ghg']
#   params:
#     allow_null_categories: true

#   input_datasets:
#   - id: norderstedt/stationary_actions
#     forecast_from: 2024
#     filters:
#     - column: sector
#     - dimension: action
#       categories: [change_traffic_lights_to_led_total]
#     - column: energy_carrier

#   output_metrics:
#   - id: currency
#     unit: EUR/a
#     quantity: currency
#   - id: emissions
#     unit: kg/a
#     quantity: emissions

#   output_nodes:
#   - id: i_stationary_total_price
#     metrics: [currency]
#     from_dimensions:
#     - id: ghg
#       flatten: true
#     to_dimensions:
#     - id: action
#     - id: cost_type
#     - id: scope
#   - id: total_costs
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [capex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: total_benefits
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [opex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: i_stationary_total_emissions
#     metrics: [emissions]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       flatten: true
#     - id: scope
#       flatten: true
#     to_dimensions:
#     - id: ghg


# - id: program_energy_refurbishment_for_private_households
#   name: Funding Program for Energy Refurbishment
#   type: simple.AdditiveAction
#   group: i_stationary
#   input_dimensions: ['action', 'cost_type', 'scope', 'ghg']
#   output_dimensions: ['action', 'cost_type', 'scope', 'ghg']
#   params:
#     allow_null_categories: true

#   input_datasets:
#   - id: norderstedt/stationary_actions
#     forecast_from: 2024
#     filters:
#     - column: sector
#     - dimension: action
#       categories: [program_energy_refurbishment_for_private_households]
#     - column: energy_carrier

#   output_metrics:
#   - id: emissions
#     unit: kg/a
#     quantity: emissions
#   - id: currency
#     unit: EUR/a
#     quantity: currency

#   output_nodes:
#   - id: i_stationary_total_emissions
#     metrics: [emissions]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       flatten: true
#     - id: scope
#       flatten: true
#     to_dimensions:
#     - id: ghg
#   - id: i_stationary_total_price
#     metrics: [currency]
#     from_dimensions:
#     - id: ghg
#       flatten: true
#     to_dimensions:
#     - id: action
#     - id: cost_type
#     - id: scope
#   - id: total_costs
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [capex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: total_benefits
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [operations]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: ghg
#       flatten: true


# - id: energy_refurbishment_school_building
#   name: Energy Refurbishment of School Building
#   type: simple.AdditiveAction
#   group: i_stationary
#   input_dimensions: ['action', 'cost_type', 'scope', 'energy_carrier', 'ghg']
#   output_dimensions: ['action', 'cost_type', 'scope', 'energy_carrier', 'ghg']
#   params:
#     allow_null_categories: true

#   input_datasets:
#   - id: norderstedt/stationary_actions
#     forecast_from: 2024
#     filters:
#     - column: sector
#     - dimension: action
#       categories: [energy_refurbishment_school_building]

#   output_metrics:
#   - id: currency
#     unit: EUR/a
#     quantity: currency
#   - id: emissions
#     unit: kg/a
#     quantity: emissions

#   output_nodes:
#   - id: i_stationary_total_emissions
#     metrics: [emissions]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: energy_carrier
#       flatten: true
#     to_dimensions:
#     - id: ghg
#   - id: i_stationary_total_price
#     metrics: [currency]
#     from_dimensions:
#     - id: scope
#       flatten: true
#     - id: energy_carrier
#       flatten: true
#     - id: ghg
#       flatten: true
#     to_dimensions:
#     - id: action
#     - id: cost_type
#     - id: scope
#       categories: [scope2]
#   - id: total_costs
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [capex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: energy_carrier
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: total_benefits
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [operations]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: energy_carrier
#       flatten: true
#     - id: ghg
#       flatten: true


# - id: new_school_building
#   name: New School Building
#   type: simple.AdditiveAction
#   group: i_stationary
#   input_dimensions: ['action', 'cost_type', 'scope', 'energy_carrier']
#   output_dimensions: ['action', 'cost_type', 'scope', 'energy_carrier']
#   params:
#     allow_null_categories: true

#   input_datasets:
#   - id: norderstedt/stationary_actions
#     forecast_from: 2024
#     filters:
#     - column: sector
#     - dimension: action
#       categories: [new_school_building]
#     - column: ghg

#   output_metrics:
#   - id: energy
#     unit: kWh/a
#     quantity: energy
#   - id: currency
#     unit: EUR/a
#     quantity: currency

#   output_nodes:
#   - id: i_stationary_energy_consumption
#     metrics: [energy]
#     from_dimensions:
#     - id: cost_type
#       flatten: true
#     to_dimensions:
#     - id: action
#     - id: scope
#     - id: energy_carrier
#   - id: i_stationary_total_price
#     metrics: [currency]
#     from_dimensions:
#     - id: energy_carrier
#       flatten: true
#     to_dimensions:
#     - id: action
#     - id: cost_type
#     - id: scope
#   - id: total_costs
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [capex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: energy_carrier
#       flatten: true


# - id: roof_refurbishment_of_public_building
#   name: Roof Refurbishment of Public Building
#   type: simple.AdditiveAction
#   group: i_stationary
#   input_dimensions: ['action', 'cost_type', 'scope', 'ghg']
#   output_dimensions: ['action', 'cost_type', 'scope', 'ghg']
#   params:
#     allow_null_categories: true

#   input_datasets:
#   - id: norderstedt/stationary_actions
#     forecast_from: 2024
#     filters:
#     - column: sector
#     - dimension: action
#       categories: [roof_refurbishment_for_public_building]
#     - column: energy_carrier

#   output_metrics:
#   - id: currency
#     unit: EUR/a
#     quantity: currency
#   - id: emissions
#     unit: kg/a
#     quantity: emissions

#   output_nodes:
#   - id: i_stationary_total_price
#     metrics: [currency]
#     from_dimensions:
#     - id: ghg
#       flatten: true
#     to_dimensions:
#     - id: action
#     - id: cost_type
#     - id: scope
#   - id: total_costs
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [capex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: total_benefits
#     metrics: [currency]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       categories: [opex_infrastructure]
#       flatten: true
#     - id: scope
#       flatten: true
#     - id: ghg
#       flatten: true
#   - id: i_stationary_total_emissions
#     metrics: [emissions]
#     from_dimensions:
#     - id: action
#       flatten: true
#     - id: cost_type
#       flatten: true
#     - id: scope
#       flatten: true
#     to_dimensions:
#     - id: ghg

- id: energy_refurbishment_of_kindergarten
  name: Energetische Sanierung des Kindergartens (Tannenhofstraße)
  name_en: Energy Refurbishment of Kindergarten (Tannenhofstraße)
  type: simple.AdditiveAction
  group: stationary_energy
  input_dimensions: [action, sector, cost_type]
  output_dimensions: [action, sector, cost_type]
  params:
    allow_null_categories: true
  input_datasets:
  - id: norderstedt/actions
    forecast_from: 2024
    filters:
    - dimension: action
      categories: [energy_refurbishment_of_kindergarten]
  output_metrics:
  - id: emissions
    unit: kg_co2e/a
    quantity: emissions
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: i4_city_administration_emissions
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    to_dimensions:
    - id: sector
  - id: i4_city_administration_costs
    metrics: [currency]
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
  - id: total_costs
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: sector
      flatten: true
    - id: cost_type
      flatten: true

- id: reforestation
  name: Wiederaufforstung "Am wilden Moor"
  name_en: Reforestation "Am wilden Moor"
  type: simple.AdditiveAction
  group: land_use
  input_dimensions: [action, sector, cost_type]
  output_dimensions: [action, sector, cost_type]
  params:
    allow_null_categories: true
  input_datasets:
  - id: norderstedt/actions
    forecast_from: 2024
    filters:
    - dimension: action
      categories: [reforestation]
  output_metrics:
  - id: emissions
    unit: kg_co2e/a
    quantity: emissions
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: v_land_use_emissions
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    to_dimensions:
    - id: sector
  - id: v_land_use_costs
    metrics: [currency]
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
  - id: total_costs
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: sector
      flatten: true
    - id: cost_type
      flatten: true

- id: tree_donation
  name: Baumspende
  name_en: Tree Donation
  type: simple.AdditiveAction
  group: land_use
  input_dimensions: [action, sector, cost_type]
  output_dimensions: [action, sector, cost_type]
  params:
    allow_null_categories: true
  input_datasets:
  - id: norderstedt/actions
    forecast_from: 2024
    filters:
    - dimension: action
      categories: [tree_donation]
  output_metrics:
  - id: emissions
    unit: kg_co2e/a
    quantity: emissions
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: v_land_use_emissions
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    to_dimensions:
    - id: sector
  - id: v_land_use_costs
    metrics: [currency]
    from_dimensions:
    - id: sector
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
  - id: total_costs
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: sector
      flatten: true
    - id: cost_type
      flatten: true

- id: school_forest_wittmoor
  name: Schulwald "Wittmoor"
  name_en: School Forest "Wittmoor"
  type: simple.AdditiveAction
  group: land_use
  quantity: emissions
  unit: kg_co2e/a
  input_dimensions: [sector]
  output_dimensions: [sector]
  input_datasets:
  - id: norderstedt/actions
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: action
      value: school_forest_wittmoor
    - column: cost_type
  output_nodes:
  - id: v_land_use_emissions

- id: decarbonize_municipal_electricity_corporate
  name: Stromdekarbonisierung (Stadtverwaltung)
  name_en: Decarbonisation of Electricity (Municipal)
  type: simple.AdditiveAction
  group: trends
  quantity: emissions
  unit: kg_co2e/a
  input_dimensions: [sector]
  output_dimensions: [sector]
  input_datasets:
  - id: norderstedt/actions
    column: emissions
    forecast_from: 2024
    filters:
    - column: action
      value: decarbonize_municipal_electricity_corporate
    - column: cost_type
  output_nodes:
  - id: i4_city_administration_emissions

- id: decarbonize_municipal_electricity_community
  name: Stromdekarbonisierung (Gesamtstadt)
  name_en: Decarbonisation of Electricity (Private)
  type: simple.AdditiveAction
  group: trends
  quantity: emissions
  unit: kg_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/actions
    column: emissions
    forecast_from: 2024
    filters:
    - column: action
      value: decarbonize_municipal_electricity_community
    - column: sector
    - column: cost_type
  output_nodes:
  - id: i1_private_household_emissions

- id: decarbonize_municipal_district_heating_corporate
  name: Fernwärmedekarbonisierung (Stadtverwaltung)
  name_en: Decarbonization of District Heating (Municipal)
  type: simple.AdditiveAction
  group: trends
  quantity: emissions
  unit: kg_co2e/a
  input_dimensions: [sector]
  output_dimensions: [sector]
  input_datasets:
  - id: norderstedt/actions
    column: emissions
    forecast_from: 2024
    filters:
    - column: action
      value: decarbonize_municipal_district_heating_corporate
    - column: cost_type
  output_nodes:
  - id: i4_city_administration_emissions

- id: decarbonize_municipal_district_heating_community
  name: Fernwärmedekarbonisierung (Gesamtstadt)
  name_en: Decarbonization of District Heating (Private)
  type: simple.AdditiveAction
  group: trends
  quantity: emissions
  unit: kg_co2e/a
  input_dimensions: []
  output_dimensions: []
  input_datasets:
  - id: norderstedt/actions
    column: emissions
    forecast_from: 2024
    filters:
    - column: action
      value: decarbonize_municipal_district_heating_community
    - column: sector
    - column: cost_type
  output_nodes:
  - id: i1_private_household_emissions

pages:
- id: home
  name: Norderstedt Greenhouse Gas Inventory
  path: /
  type: emission
  outcome_node: net_emissions
  lead_title: Norderstedt Climate-4-CAST Decision Support Tool
  lead_paragraph: Greenhouse gas inventory (2020-2023) and forecast (2024-2040) for the City of Norderstedt.

scenarios:
- id: baseline
  name: Business as Usual

- id: default
  default: true
  name: Climate Action Plan
  all_actions_enabled: true
