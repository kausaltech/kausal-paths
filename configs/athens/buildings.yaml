# Required nodes from outside the framework:
# net_emissions
# electricity_production_emission_factor
# Required dimensions from outside the framework:
# building_energy_class
# heating_type
# ghg
# scope
# Required parameters from outside the framework:

dimensions:

- id: building_energy_class
  label_en: Building energy class
  label_el: Ενεργειακή κλάση κτιρίου
  categories:
  - id: new_standard
    label_en: New, standard
    label_el: Νέο, τυπικό
  - id: new_top_performance
    label_en: New, top performance
    label_el: Νέο, κορυφαίας απόδοσης
  - id: old_no_renovations
    label_en: Old, no renovation
    label_el: Παλαιό, χωρίς ανακαίνιση
  - id: minor_renovation
    aliases: [minor_renovations]
    label_en: Old, minor heating renovation
    label_el: Παλαιό, μικρή ανακαίνιση θέρμανσης
  - id: major_renovation
    aliases: [major_renovations]
    label_en: Old, extensive heating renovation
    label_el: Παλαιό, εκτεταμένη ανακαίνιση θέρμανσης
  - id: no_improvement
    label_en: No improvement
    label_el: Χωρίς βελτίωση
  - id: minor_improvements
    label_en: Minor improvements
    label_el: Μικρές βελτιώσεις
  - id: aggressive_improvements
    label_en: Aggressive improvements
    label_el: Επιθετικές βελτιώσεις
  - id: moderate_improvements
    label_en: Moderate improvements
    label_el: Μέτριες βελτιώσεις
  - id: nzeb
    label_en: Net zero emission buildings
    label_el: Κτίρια μηδενικών εκπομπών
  - id: moderate_renovation
    aliases: [moderate_renovations]
    label_en: Moderate renovation
    label_el: Μέτρια ανακαίνιση

- id: heating_type
  label_en: Heating type
  label_el: Τύπος θέρμανσης
  categories:
  - id: district_heating
    label_en: District heating
    label_el: Τηλεθέρμανση
  - id: local_heating
    label_en: Local heating
    label_el: Τοπική θέρμανση

nodes:

# * = data is in the city request dataset
# Model inputs: 176* 519 257* 254* 532 544 545 272* 273* 278 290 296..299* 302..305* 319..322* 586
# 3.4 heat generation: (coming from model inputs) 19 25 248 259

- id: building_emissions
  name_en: Building emissions
  name_el: Εκπομπές κτιρίων
  description_en: 'This module (all nodes upstream) is based on the excel sheets 3.0 - 3.4 Building & heat levers.'
  description_el: 'Αυτή η ενότητα (όλοι οι ανάντη κόμβοι) βασίζεται στα φύλλα excel 3.0 - 3.4 Μοχλοί κτιρίων και θέρμανσης.'
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  color: '#4E79A7'
  output_nodes:
  - id: net_emissions
    to_dimensions:
    - id: sector
      categories: [buildings]
    - id: ghg
    - id: scope

# ----------------- Building stock ----------------------

- id: existing_building_stock
  name_en: Existing building stock
  name_el: Υφιστάμενο κτιριακό απόθεμα
  description_en: 'Calculations: The logic is that the floor area per inhabitant stays constant. Amount of construction is a fixed fraction of existing building stock and the difference between building stock increase and construction is assumed to be demolished. So, logically, construction must be greater than or equal to population growth.'
  description_el: 'Υπολογισμοί: Η λογική είναι ότι η επιφάνεια δαπέδου ανά κάτοικο παραμένει σταθερή. Το ποσό κατασκευής είναι ένα σταθερό κλάσμα του υφιστάμενου κτιριακού αποθέματος και η διαφορά μεταξύ της αύξησης του κτιριακού αποθέματος και της κατασκευής θεωρείται ότι κατεδαφίζεται. Έτσι, λογικά, η κατασκευή πρέπει να είναι μεγαλύτερη ή ίση με την αύξηση του πληθυσμού.'
  type: gpc.DatasetNode
  quantity: floor_area
  unit: ksqm
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Total floor area (residental & non-residential)

- id: projected_building_stock
  name_en: Projected building stock
  name_el: Προβλεπόμενο κτιριακό απόθεμα
  type: simple.MultiplicativeNode
  quantity: floor_area
  unit: km**2
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: existing_building_stock
    tags: [non_additive]
  - id: population
    tags: [ratio_to_last_historical_value]
    to_dimensions: []

- id: new_building_shares_historical
  name_en: New building shares historical
  name_el: Ιστορικά μερίδια νέων κτιρίων
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of new buildings built
    inventory_only: true

- id: new_building_shares_goal
  name_en: New building shares goal
  name_el: Στόχος μεριδίων νέων κτιρίων
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Share of new buildings built with high energy efficiency standards

- id: new_building_shares
  name_en: New building shares
  name_el: Μερίδια νέων κτιρίων
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Share of new buildings built

- id: demolition_rate
  name_en: Demolition rate
  name_el: Ρυθμός κατεδάφισης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%/a'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
  - id: sector
    value: Demolition rate existing buildings

- id: demolished_building_stock
  name_en: Demolished building stock
  name_el: Κατεδαφισμένο κτιριακό απόθεμα
  type: simple.MultiplicativeNode
  quantity: floor_area
  unit: km**2/a
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: projected_building_stock
    tags: [non_additive]
  - id: demolition_rate

- id: new_building_stock_total
  name_en: New building stock total
  name_el: Συνολικό νέο κτιριακό απόθεμα
  type: simple.AdditiveNode
  quantity: floor_area
  unit: km**2/a
  input_nodes:
  - id: projected_building_stock
    tags: [difference]
    from_dimensions:
    - id: building_energy_class
      flatten: true
    to_dimensions: []
  - id: demolished_building_stock
    from_dimensions:
    - id: building_energy_class
      flatten: true
    to_dimensions: []

- id: new_building_stock
  name_en: New building stock
  name_el: Νέο κτιριακό απόθεμα
  type: simple.MultiplicativeNode
  quantity: floor_area
  unit: km**2/a
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: new_building_stock_total
    tags: [non_additive]
    to_dimensions: []
  - id: new_building_shares

- id: building_stock
  name_en: Building stock
  name_el: Κτιριακό απόθεμα
  description_en: Existing building stock minus demolition plus new construction.
  description_el: Υφιστάμενο κτιριακό απόθεμα μείον κατεδαφίσεις συν νέες κατασκευές.
  type: simple.AdditiveNode
  quantity: floor_area
  unit: km**2
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: existing_building_stock
    tags: [extend_values]
  - id: new_building_stock
    tags: [cumulative]
  - id: demolished_building_stock
    tags: [arithmetic_inverse, cumulative]
  - id: renovated_building_stock
    tags: [extend_values, cumulative]
    to_dimensions:
    - id: building_energy_class

- id: old_building_renovation_rate_historical
  name_en: Old building renovation rate historical
  name_el: Ιστορικός ρυθμός ανακαίνισης παλαιών κτιρίων
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%/a'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of building stock renovated each year  # This is also rate for appliance efficiency renovations

- id: old_building_renovation_rate_goal
  name_en: Old building renovation rate goal
  name_el: Στόχος ρυθμού ανακαίνισης παλαιών κτιρίων
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%/a'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Renovation rate - decarbonisation scenario

- id: old_building_renovation_rate_observed
  name_en: Old building renovation rate
  name_el: Ρυθμός ανακαίνισης παλαιών κτιρίων
  description_en: Shifts building stock from non-renovated to minor or agressively renovated stock. The effect is cumulative, i.e. the renovated stock stays permanently in the new category and thus the stock accumulates to renovated categories.
  description_el: Μετατοπίζει το κτιριακό απόθεμα από μη ανακαινισμένο σε ελαφρώς ή εντατικά ανακαινισμένο απόθεμα. Η επίδραση είναι αθροιστική, δηλαδή το ανακαινισμένο απόθεμα παραμένει μόνιμα στη νέα κατηγορία και έτσι το απόθεμα συσσωρεύεται στις ανακαινισμένες κατηγορίες.
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%/a'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of building stock renovated each year

- id: renovation_intensity_shares_historical
  name_en: Renovation intensity shares historical
  name_el: Ιστορικά μερίδια έντασης ανακαίνισης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Renovations Actual share of market in baseline scenario

- id: renovation_intensity_shares_goal
  name_en: Renovation intensity shares goal
  name_el: Στόχος μεριδίων έντασης ανακαίνισης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Assumed share of type of renovation in lever

- id: renovation_intensity_shares
  name_en: Renovation intensity shares
  name_el: Μερίδια έντασης ανακαίνισης
  type: simple.AdditiveNode
  quantity: fraction
  unit: '%'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: renovation_intensity_shares_historical

- id: renovated_building_stock
  name_en: Renovated building stock
  name_el: Ανακαινισμένο κτιριακό απόθεμα
  type: simple.MultiplicativeNode
  quantity: floor_area
  unit: km**2/a
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: existing_building_stock
    tags: [non_additive]
    from_dimensions:
    - id: building_energy_class
      categories: [old_no_renovations]
      flatten: true
    to_dimensions: []
  - id: old_building_renovation_rate_observed
    from_dimensions:
    - id: building_energy_class
      flatten: true
    to_dimensions: []
  - id: renovation_intensity_shares

# --------------------- Heating ---------------------

# TODO Rename shares better
- id: total_building_heat_energy_use
  name_en: Total building heat energy use
  name_el: Συνολική χρήση θερμικής ενέργειας κτιρίων
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Total heating demand (space heating + domestic hot water + heat for cooking)

- id: heat_energy_use_difference
  name_en: Heat energy use difference
  name_el: Διαφορά χρήσης θερμικής ενέργειας
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_nodes:
  - id: total_building_heat_energy_use
    tags: [arithmetic_inverse]
  - id: building_heat_energy_use
    from_dimensions:
    - id: heating_type
      flatten: true
    - id: building_energy_class
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: fuel_type
      flatten: true
    - id: scope
      flatten: true

- id: statistical_heat_energy_use
  name_en: Statistical heat energy use
  name_el: Στατιστική χρήση θερμικής ενέργειας
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Total heating demand (space heating + domestic hot water + heat for cooking)
  input_nodes:
  - id: heat_energy_use_difference

- id: energy_use_intensity_data
  name_en: Energy use intensity data for heating
  name_el: Δεδομένα έντασης χρήσης ενέργειας για θέρμανση
  type: gpc.DatasetNode
  quantity: energy_factor
  unit: kWh/m**2/a
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: energy use intensity

- id: energy_use_intensity_ratio
  name_en: Energy use intensity ratio for heating
  name_el: Αναλογία έντασης χρήσης ενέργειας για θέρμανση
  description_en: Relative energy use intensity by building energy class. Old, no renovations gets value 1.
  description_el: Σχετική ένταση χρήσης ενέργειας ανά ενεργειακή κλάση κτιρίου. Παλαιό, χωρίς ανακαινίσεις παίρνει τιμή 1.
  type: simple.AdditiveNode
  quantity: energy_factor
  unit: dimensionless
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes: [energy_use_intensity_data]
  params:
    use_input_node_unit_when_adding: true
    reference_category: 'building_energy_class:old_no_renovations'

- id: energy_use_intensity_relative_old
  name_en: Relative energy use intensity of existing building classes
  name_el: Σχετική ένταση χρήσης ενέργειας υφιστάμενων κτιριακών κλάσεων
  type: gpc.DatasetNode
  quantity: fraction
  unit: dimensionless
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Energy efficiency improvements from building renovations

- id: energy_use_intensity_old
  name_en: Energy use intensity of existing buildings
  name_el: Ένταση χρήσης ενέργειας υφιστάμενων κτιρίων
  type: simple.MultiplicativeNode
  quantity: energy_factor
  unit: kWh/m**2/a
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: total_building_heat_energy_use
    to_dimensions: []
  - id: existing_building_stock
    tags: [geometric_inverse]
    from_dimensions:
    - id: building_energy_class
      flatten: true
    to_dimensions: []
  - id: energy_use_intensity_ratio
    tags: [non_additive]
    from_dimensions:
    - id: building_energy_class
      categories: [old_no_renovations]
      flatten: true
    to_dimensions: []
  - id: energy_use_intensity_relative_old
    tags: [complement]
  - id: building_heating_shares_pre
    tags: [geometric_inverse, inventory_only, extend_values]
    from_dimensions:
    - id: heating_type
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: fuel_type
      flatten: true
    to_dimensions: []

- id: energy_use_intensity_change_new
  name_en: Energy use intensity change for new buildings
  name_el: Αλλαγή έντασης χρήσης ενέργειας για νέα κτίρια
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Improvement in energy efficiency relative to minimum requirement

- id: energy_use_intensity_new
  name_en: Energy use intensity for heating of new buildings
  name_el: Ένταση χρήσης ενέργειας για θέρμανση νέων κτιρίων
  type: simple.MultiplicativeNode
  quantity: energy_factor
  unit: kWh/m**2/a
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: energy_use_intensity_data
    tags: [non_additive]
  - id: energy_use_intensity_change_new
    tags: [complement]

- id: energy_use_intensity
  name_en: Energy use intensity excluding electricity
  name_el: Ένταση χρήσης ενέργειας εξαιρουμένου του ηλεκτρισμού
  type: simple.AdditiveNode
  quantity: energy_factor
  unit: kWh/m**2/a
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: energy_use_intensity_new
  - id: energy_use_intensity_old

- id: building_heating_type_share_historical
  name_en: Building heating type share historical
  name_el: Ιστορικό μερίδιο τύπου θέρμανσης κτιρίων
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [heating_type]
  output_dimensions: [heating_type]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Heating technologies

- id: building_heating_type_share_goal
  name_en: District heating share goal
  name_el: Στόχος μεριδίου τηλεθέρμανσης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  group: buildings
  input_dimensions: [heating_type]
  output_dimensions: [heating_type]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Heating technologies in 2030

- id: building_heating_type_share
  name_en: Building heating type shares of local vs. district
  name_el: Μερίδια τύπων θέρμανσης κτιρίων τοπικής έναντι τηλεθέρμανσης
  type: simple.AdditiveNode
  quantity: fraction
  unit: '%'
  group: buildings
  input_dimensions: [heating_type]
  output_dimensions: [heating_type]
  input_nodes:
  - id: building_heating_type_share_historical

- id: heating_fuel_share_historical
  name_en: Heating fuel share historical
  name_el: Ιστορικό μερίδιο καυσίμου θέρμανσης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [energy_carrier, heating_type, fuel_type]
  output_dimensions: [energy_carrier, heating_type, fuel_type]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of heating fuel

- id: heating_fuel_share_goal
  name_en: Heating fuel share goal
  name_el: Στόχος μεριδίου καυσίμου θέρμανσης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [heating_type, fuel_type, energy_carrier]
  output_dimensions: [heating_type, fuel_type, energy_carrier]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of heating in 2030

- id: heating_fuel_share
  name_en: Heating energy carrier shares
  name_el: Μερίδια φορέων ενέργειας θέρμανσης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [energy_carrier, heating_type, fuel_type]
  output_dimensions: [energy_carrier, heating_type, fuel_type]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of heating fuel

- id: heating_fossil_share_historical
  name_en: Heating fossil shares historical
  name_el: Ιστορικά μερίδια ορυκτών καυσίμων θέρμανσης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [fuel_type, heating_type, energy_carrier]
  output_dimensions: [fuel_type, heating_type, energy_carrier]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of waste used in district heating that is fossil / non-fossil

- id: heating_fossil_share_goal
  name_en: Heating fossil shares goal
  name_el: Στόχος μεριδίων ορυκτών καυσίμων θέρμανσης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [fuel_type, heating_type, energy_carrier]
  output_dimensions: [fuel_type, heating_type, energy_carrier]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of waste in 2030 used in district heating that is fossil / non-fossil

- id: heating_waste_fossil_share
  name_en: Heating fossil shares
  name_el: Μερίδια ορυκτών καυσίμων θέρμανσης
  description_en: This node applies to fossil shares of waste used in district heating.
  description_el: Αυτός ο κόμβος αφορά τα μερίδια ορυκτών καυσίμων των αποβλήτων που χρησιμοποιούνται στην τηλεθέρμανση.
  type: simple.AdditiveNode
  quantity: fraction
  unit: '%'
  input_dimensions: [fuel_type, heating_type, energy_carrier]
  output_dimensions: [fuel_type, heating_type, energy_carrier]
  input_nodes:
  - id: heating_fossil_share_historical

- id: building_heating_shares_pre
  name_en: Building heating shares unadjusted
  name_el: Μη προσαρμοσμένα μερίδια θέρμανσης κτιρίων
  type: simple.MultiplicativeNode
  quantity: fraction
  unit: '%'
  input_dimensions: [heating_type, energy_carrier, fuel_type]
  output_dimensions: [heating_type, energy_carrier, fuel_type]
  input_nodes:
  - id: building_heating_type_share
    tags: [non_additive]
    to_dimensions:
    - id: heating_type
  - id: heating_fuel_share
    tags: [non_additive]
    to_dimensions:
    - id: heating_type
    - id: energy_carrier
    - id: fuel_type

- id: waste_energy_fraction
  name_en: Waste energy fraction of total building energy
  name_el: Κλάσμα ενέργειας αποβλήτων επί της συνολικής ενέργειας κτιρίων
  type: simple.MultiplicativeNode
  quantity: fraction
  unit: '%'
  input_dimensions: [heating_type, energy_carrier, fuel_type]
  output_dimensions: [heating_type, energy_carrier, fuel_type]
  input_nodes:
  - id: building_heating_shares_pre
    tags: [non_additive]
    from_dimensions:
    - id: energy_carrier
      categories: [waste]
    - id: fuel_type
      flatten: true
    to_dimensions:
    - id: heating_type
    - id: energy_carrier
  - id: heating_waste_fossil_share
    tags: [non_additive]
    to_dimensions:
    - id: heating_type
    - id: energy_carrier
    - id: fuel_type

- id: building_heating_shares
  name_en: Building heating shares
  name_el: Μερίδια θέρμανσης κτιρίων
  type: simple.AdditiveNode
  quantity: fraction
  unit: '%'
  input_dimensions: [heating_type, energy_carrier, fuel_type]
  output_dimensions: [heating_type, energy_carrier, fuel_type]
  input_nodes:
  - id: building_heating_shares_pre
    from_dimensions:
    - id: fuel_type
      categories: [mixed]
      exclude: true
  - id: waste_energy_fraction

- id: scope_of_energy_carriers
  name_en: Scope of energy carriers
  name_el: Εμβέλεια φορέων ενέργειας
  type: gpc.DatasetNode
  quantity: fraction
  unit: dimensionless
  input_dimensions: [scope, heating_type, energy_carrier]
  output_dimensions: [scope, heating_type, energy_carrier]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Scope of energy carriers

- id: building_heat_energy_use
  name_en: Building heat energy use
  name_el: Χρήση θερμικής ενέργειας κτιρίων
  description_en: Building heat energy consumed for building heating, hot water, and cooking. Note that for heat pumps, this is the amount of heat produced, not the amount of electricity consumed.
  description_el: Θερμική ενέργεια που καταναλώνεται για θέρμανση κτιρίων, ζεστό νερό και μαγείρεμα. Σημειώστε ότι για τις αντλίες θερμότητας, αυτό είναι το ποσό της θερμότητας που παράγεται, όχι το ποσό του ηλεκτρισμού που καταναλώνεται.
  type: simple.MultiplicativeNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating_type, building_energy_class, energy_carrier, fuel_type, scope]
  output_dimensions: [heating_type, building_energy_class, energy_carrier, fuel_type, scope]
  input_nodes:
  - id: building_stock
    to_dimensions:
    - id: building_energy_class
  - id: energy_use_intensity
    to_dimensions:
    - id: building_energy_class
  - id: building_heating_shares
    to_dimensions:
    - id: heating_type
    - id: energy_carrier
    - id: fuel_type
  - id: scope_of_energy_carriers
    to_dimensions:
    - id: scope
    - id: heating_type
    - id: energy_carrier

- id: efficiency_of_heat_pumps
  name_en: Efficiency of heat pumps
  name_el: Απόδοση αντλιών θερμότητας
  type: gpc.DatasetNode
  quantity: energy_factor
  unit: MWh/MWh
  input_dimensions: [fuel_type, energy_carrier]
  output_dimensions: [fuel_type, energy_carrier]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Efficiency of heat pumps

- id: building_heat_electricity_use
  name_en: Building heat electricity use
  name_el: Χρήση ηλεκτρισμού για θέρμανση κτιρίων
  description_en: Electricity used to produce heat with heat pumps and direct electricity.
  description_el: Ηλεκτρική ενέργεια που χρησιμοποιείται για την παραγωγή θερμότητας με αντλίες θερμότητας και άμεσο ηλεκτρισμό.
  type: simple.MultiplicativeNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [fuel_type, heating_type, building_energy_class, energy_carrier, scope]
  output_dimensions: [fuel_type, heating_type, building_energy_class, energy_carrier, scope]
  input_nodes:
  - id: building_heat_energy_use
    tags: [non_additive]
    from_dimensions:
    - id: fuel_type
      flatten: true
    - id: energy_carrier
      categories: [electricity]
    to_dimensions:
    - id: building_energy_class
    - id: heating_type
    - id: energy_carrier
    - id: scope
  - id: building_heating_shares_pre
    to_dimensions:
    - id: heating_type
    - id: energy_carrier
    - id: fuel_type
  - id: efficiency_of_heat_pumps
    tags: [geometric_inverse]
    to_dimensions:
    - id: fuel_type
    - id: energy_carrier
  output_nodes:
  - id: total_electricity_consumption_uncorr
    from_dimensions:
    - id: fuel_type
      flatten: true
    - id: heating_type
      flatten: true
    - id: building_energy_class
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: sector
      categories: [electricity]

- id: average_heating_emission_factor
  name_en: Average heating emission factor
  name_el: Μέσος συντελεστής εκπομπών θέρμανσης
  description_en: Emission factor for building heating. Averaged over all heating types currently in use.
  description_el: Συντελεστής εκπομπών για θέρμανση κτιρίων. Μέσος όρος όλων των τύπων θέρμανσης που χρησιμοποιούνται επί του παρόντος.
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: g/kWh
  input_dimensions: [pollutant, heating_type]
  output_dimensions: [pollutant, heating_type]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Emission factors from heat production

- id: building_heat_fossil_energy
  name_en: Building heat fossil energy
  name_el: Ορυκτή ενέργεια θέρμανσης κτιρίων
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating_type, fuel_type]
  output_dimensions: [heating_type, fuel_type]
  input_nodes:
  - id: building_heat_energy_use
    from_dimensions:
    - id: building_energy_class
      flatten: true
    - id: scope
      flatten: true
    - id: energy_carrier
      categories: [electricity]
      exclude: true
      flatten: true
    to_dimensions:
    - id: heating_type
    - id: fuel_type

- id: building_heat_fossil_ratio
  name_en: Building heat fossil ratio
  name_el: Αναλογία ορυκτής θέρμανσης κτιρίων
  type: simple.MultiplicativeNode
  quantity: fraction
  unit: '%'
  input_dimensions: [heating_type, fuel_type]
  output_dimensions: [heating_type, fuel_type]
  input_nodes:
  - id: building_heat_energy_use
    tags: [geometric_inverse]
    from_dimensions:
    - id: building_energy_class
      flatten: true
    - id: scope
      flatten: true
    - id: energy_carrier
      categories: [electricity]
      exclude: true
      flatten: true
    - id: fuel_type
      flatten: true
    to_dimensions:
    - id: heating_type
  - id: building_heat_fossil_energy
  params:
    replace_nans: 0.0

- id: heating_emission_factor
  name_en: Heating emission factor
  name_el: Συντελεστής εκπομπών θέρμανσης
  description_en: Emission factor for building heating. This applies only to fossil fuel types, as non-fossil fuels are assumed to have zero emissions.
  description_el: Συντελεστής εκπομπών για θέρμανση κτιρίων. Αυτό ισχύει μόνο για ορυκτούς τύπους καυσίμων, καθώς τα μη ορυκτά καύσιμα θεωρείται ότι έχουν μηδενικές εκπομπές.
  type: simple.MultiplicativeNode
  quantity: emission_factor
  unit: g/kWh
  input_dimensions: [pollutant, heating_type, fuel_type]
  output_dimensions: [pollutant, heating_type, fuel_type]
  input_nodes:
  - id: average_heating_emission_factor
    tags: [non_additive]
    to_dimensions:
    - id: pollutant
    - id: heating_type
  - id: building_heat_fossil_ratio
    tags: [inventory_only, geometric_inverse, extend_values]
    from_dimensions:
    - id: fuel_type
      categories: [fossil]
    to_dimensions:
    - id: heating_type
    - id: fuel_type
  params:
    replace_nans: 0.0

- id: building_heating_emissions
  name_en: Building heating emissions
  name_el: Εκπομπές θέρμανσης κτιρίων
  description_en: Building heating emissions exclude emissions from electricity, which are calculated elsewhere.
  description_el: Οι εκπομπές θέρμανσης κτιρίων δεν περιλαμβάνουν εκπομπές από ηλεκτρισμό, οι οποίες υπολογίζονται αλλού.
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating_type, fuel_type, pollutant, scope]
  output_dimensions: [heating_type, fuel_type, pollutant, scope]
  input_nodes:
  - id: building_heat_energy_use
    from_dimensions:
    - id: building_energy_class
      flatten: true
    - id: energy_carrier
      categories: [electricity]
      exclude: true
      flatten: true
    to_dimensions:
    - id: heating_type
    - id: scope
    - id: fuel_type
  - id: heating_emission_factor
    to_dimensions:
    - id: pollutant
    - id: heating_type
    - id: fuel_type
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: pollutant
      categories: [co2]
      flatten: true
    - id: heating_type
      flatten: true
    - id: fuel_type
      flatten: true
    to_dimensions:
    - id: ghg
      categories: [co2e]
    - id: scope

- id: new_building_current_unit_price
  name_en: Building current unit price
  name_el: Τρέχουσα τιμή μονάδας κτιρίου
  type: gpc.DatasetNode
  quantity: unit_price
  unit: EUR/m**2
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Building costs - new buildings

- id: new_building_unit_price
  name_en: New building unit price
  name_el: Τιμή μονάδας νέου κτιρίου
  type: costs.ExponentialNode
  quantity: unit_price
  unit: EUR/m**2
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_nodes:
  - id: new_building_current_unit_price
  params:
  - id: annual_change
    value: -1.024671139
    unit: '%'

- id: new_building_cost_shares
  name_en: Building current cost shares
  name_el: Τρέχοντα μερίδια κόστους κτιρίων
  type: gpc.DatasetNode
  quantity: fraction
  unit: dimensionless
  input_dimensions: [stakeholder, cost_type]
  output_dimensions: [stakeholder, cost_type]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: investment costs in new buildings

- id: new_building_cost
  name_en: New building cost
  name_el: Κόστος νέου κτιρίου
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [building_energy_class, stakeholder, cost_type]
  output_dimensions: [building_energy_class, stakeholder, cost_type]
  input_nodes:
  - id: new_building_stock
    to_dimensions:
    - id: building_energy_class
  - id: new_building_unit_price
    to_dimensions:
    - id: building_energy_class
  - id: new_building_cost_shares
    to_dimensions:
    - id: stakeholder
    - id: cost_type

# -------------------- Consumer electricity use --------------------

- id: efficient_appliances_renovation_rate_historical
  name_en: Lighting & appliances renovation rate historical
  name_el: Ιστορικός ρυθμός ανακαίνισης φωτισμού & συσκευών
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%/a'
  input_dimensions: [building_energy_class]
  output_dimensions: [building_energy_class]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Share of building stock renovated each year

- id: efficient_appliances_renovation_rate_goal
  name_en: Lighting & appliances renovation rate goal
  name_el: Στόχος ρυθμού ανακαίνισης φωτισμού & συσκευών
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%/a'
  input_dimensions: [energy_carrier]
  output_dimensions: [energy_carrier]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: 3.3 Efficient lighting & appliances

- id: efficient_appliances_rate
  name_en: Lighting & appliances renovation rate
  name_el: Ρυθμός ανακαίνισης φωτισμού & συσκευών
  type: simple.AdditiveNode
  quantity: fraction
  unit: '%/a'
  input_dimensions: [energy_carrier]
  output_dimensions: [energy_carrier]
  input_nodes:
  - id: efficient_appliances_renovation_rate_historical
    from_dimensions:
    - id: building_energy_class
      flatten: true
    to_dimensions:
    - id: energy_carrier
      categories: [electricity]

- id: consumer_electricity_intensity_baseline
  name_en: Electricity use intensity for lighting & appliances, baseline
  name_el: Ένταση χρήσης ηλεκτρισμού για φωτισμό & συσκευές, βασική γραμμή
  type: gpc.DatasetNode
  quantity: energy_factor
  unit: kWh/m**2/a
  input_dimensions: [energy_carrier]
  output_dimensions: [energy_carrier]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Average electricity use for lighting & appliances

- id: efficiency_programme_shares_historical
  name_en: Efficiency programme shares historical
  name_el: Ιστορικά μερίδια προγράμματος αποδοτικότητας
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [efficiency_programme, energy_carrier]
  output_dimensions: [efficiency_programme, energy_carrier]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Current share of type of efficiency programme

- id: efficiency_programme_shares_goal
  name_en: Efficiency programme shares goal
  name_el: Στόχος μεριδίων προγράμματος αποδοτικότητας
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [efficiency_programme, energy_carrier]
  output_dimensions: [efficiency_programme, energy_carrier]
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Assumed share of type of efficiency programme for lever

- id: efficiency_programme_shares
  name_en: Electricity efficiency programme intensity shares
  name_el: Μερίδια έντασης προγράμματος αποδοτικότητας ηλεκτρισμού
  type: simple.FillNewCategoryNode
  quantity: fraction
  unit: '%'
  input_dimensions: [efficiency_programme, energy_carrier]
  output_dimensions: [efficiency_programme, energy_carrier]
  input_nodes:
  - id: efficiency_programme_shares_historical
  params:
    new_category: 'efficiency_programme:no_improvements'

- id: electricity_need_reduction
  name_en: Electricity need reduction after improvements
  name_el: Μείωση αναγκών ηλεκτρισμού μετά από βελτιώσεις
  description_en: Relative changes in electricity use intensity.
  description_el: Σχετικές αλλαγές στην ένταση χρήσης ηλεκτρισμού.
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [efficiency_programme, energy_carrier]
  output_dimensions: [efficiency_programme, energy_carrier]
  output_nodes:
  - id: consumer_electricity_intensity
    tags: [complement]
    to_dimensions:
    - id: efficiency_programme
    - id: energy_carrier
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Efficiency improvements for each renovation

- id: consumer_electricity_intensity
  name_en: Electricity use intensity for lighting & appliances
  name_el: Ένταση χρήσης ηλεκτρισμού για φωτισμό & συσκευές
  type: simple.MultiplicativeNode
  quantity: energy_factor
  unit: kWh/m**2/a
  input_dimensions: [efficiency_programme, energy_carrier]
  output_dimensions: [efficiency_programme, energy_carrier]
  input_nodes:
  - id: consumer_electricity_intensity_baseline
    tags: [non_additive]
    to_dimensions:
    - id: energy_carrier

- id: electricity_non_renovated_old_buildings
  name_en: Electricity-non-renovated old buildings
  name_el: Παλαιά κτίρια χωρίς ηλεκτρική ανακαίνιση
  description_en: Old buildings that have not (yet) gone through electricity renovation
  description_el: Παλαιά κτίρια που δεν έχουν (ακόμη) υποβληθεί σε ηλεκτρική ανακαίνιση
  type: simple.MultiplicativeNode
  quantity: fraction
  unit: km**2
  input_dimensions: [energy_carrier]
  output_dimensions: [energy_carrier]
  input_nodes:
  - id: efficient_appliances_rate
    tags: [complement_cumulative_product]
    to_dimensions:
    - id: energy_carrier
  - id: building_stock
    tags: [non_additive]
    from_dimensions:
    - id: building_energy_class
      categories: [old_no_renovations, minor_renovation, major_renovation]
      flatten: true
    to_dimensions: []

- id: electricity_renovated_buildings
  name_en: Electricity-renovated buildings
  name_el: Κτίρια με ηλεκτρική ανακαίνιση
  type: formula.FormulaNode
  quantity: fraction
  unit: km**2
  input_dimensions: [efficiency_programme, energy_carrier]
  output_dimensions: [efficiency_programme, energy_carrier]
  input_nodes:
  - id: electricity_non_renovated_old_buildings
    tags: [arithmetic_inverse]
    to_dimensions:
    - id: energy_carrier
  - id: building_stock
    from_dimensions:
    - id: building_energy_class
      flatten: true
    to_dimensions:
    - id: energy_carrier
      categories: [electricity]
  - id: efficiency_programme_shares
  params:
    formula: efficiency_programme_shares * (electricity_non_renovated_old_buildings + building_stock)

- id: building_stock_by_electricity_renovation
  name_en: Building stock by electricity renovation
  name_el: Κτιριακό απόθεμα ανά ηλεκτρική ανακαίνιση
  type: simple.AdditiveNode
  quantity: floor_area
  unit: km**2
  input_dimensions: [efficiency_programme, energy_carrier]
  output_dimensions: [efficiency_programme, energy_carrier]
  input_nodes:
  - id: electricity_non_renovated_old_buildings
    to_dimensions:
    - id: energy_carrier
    - id: efficiency_programme
      categories: [no_improvements]
  - id: electricity_renovated_buildings

- id: consumer_electricity_use
  name_en: Electricity use for lighting & appliances
  name_el: Χρήση ηλεκτρισμού για φωτισμό & συσκευές
  type: simple.MultiplicativeNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [efficiency_programme, energy_carrier]
  output_dimensions: [efficiency_programme, energy_carrier]
  input_nodes:
  - id: building_stock_by_electricity_renovation
  - id: consumer_electricity_intensity
  output_nodes:
  - id: total_electricity_consumption_uncorr
    from_dimensions:
    - id: efficiency_programme
      flatten: true
    to_dimensions:
    - id: sector
      categories: [electricity]
    - id: energy_carrier

# --------------- Emissions ------------

- id: building_air_pollutant_emissions
  name_en: Building air pollutant emissions
  name_el: Εκπομπές ατμοσφαιρικών ρύπων κτιρίων
  type: simple.AdditiveNode
  quantity: emissions
  unit: t/a
  input_dimensions: [pollutant]
  output_dimensions: [pollutant]
  input_nodes:
  - id: building_heating_emissions
    from_dimensions:
    - id: heating_type
      flatten: true
    - id: scope
      flatten: true
    - id: fuel_type
      flatten: true
    - id: pollutant
      categories: [nox, pm25_combustion, pm10_combustion]

# --------------- Costs ----------------

- id: jobs_per_renovation_investment
  name_en: Jobs per renovation investment
  name_el: Θέσεις εργασίας ανά επένδυση ανακαίνισης
  type: gpc.DatasetNode
  quantity: unit_price
  unit: jobs/(MEUR/a)
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Jobs created by investment in renovation

- id: jobs_created_by_renovations
  name_en: Jobs created by renovations
  name_el: Θέσεις εργασίας που δημιουργούνται από ανακαινίσεις
  type: simple.MultiplicativeNode
  quantity: employment
  unit: jobs
  input_nodes:
  - id: old_building_renovation_costs
    from_dimensions:
    - id: stakeholder
      flatten: true
    - id: building_energy_class
      flatten: true
    - id: cost_type
      flatten: true
  - id: jobs_per_renovation_investment
  output_nodes:
  - id: total_jobs_created

- id: air_pollutant_distance_index
  name_en: Air pollutant distance index
  name_el: Δείκτης απόστασης ατμοσφαιρικών ρύπων
  type: gpc.DatasetNode
  quantity: fraction
  unit: dimensionless
  input_dimensions: [pollutant, heating_type, area_distance]
  output_dimensions: [pollutant, heating_type, area_distance]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Air pollutant distance index

- id: building_air_pollution_cost
  name_en: Building air pollution cost
  name_el: Κόστος ατμοσφαιρικής ρύπανσης κτιρίων
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [pollutant, heating_type, area_distance, cost_type, stakeholder]
  output_dimensions: [pollutant, heating_type, area_distance, cost_type, stakeholder]
  input_nodes:
  - id: building_air_pollutant_emissions
    to_dimensions:
    - id: pollutant
  - id: air_pollutant_distance_index
    to_dimensions:
    - id: pollutant
    - id: heating_type
    - id: area_distance
  - id: air_pollution_unit_price
    to_dimensions:
    - id: pollutant
    - id: cost_type
    - id: area_distance
  - id: co_benefit_cost_shares
    to_dimensions:
    - id: cost_type
    - id: stakeholder
  output_nodes:
  - id: building_cost
    from_dimensions:
    - id: pollutant
      flatten: true
    - id: area_distance
      flatten: true
    - id: heating_type
      flatten: true
    to_dimensions:
    - id: stakeholder
    - id: cost_type

- id: efficiency_programme_unit_price
  name_en: Efficiency programme unit price
  name_el: Τιμή μονάδας προγράμματος αποδοτικότητας
  type: gpc.DatasetNode
  quantity: unit_price
  unit: EUR/m**2
  input_dimensions: [efficiency_programme, energy_carrier, cost_type]
  output_dimensions: [efficiency_programme, energy_carrier, cost_type]
  input_datasets:
  - id: gpc/athens_nzc
    filters:
    - column: Energy carrier
      value: electricity
      drop_col: false
  params:
    sector: Cost of efficiency programme per m2

- id: old_building_renovation_unit_price
  name_en: Old building renovation unit price
  name_el: Τιμή μονάδας ανακαίνισης παλαιού κτιρίου
  type: gpc.DatasetNode
  quantity: unit_price
  unit: EUR/m**2
  input_dimensions: [building_energy_class, cost_type]
  output_dimensions: [building_energy_class, cost_type]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: Cost of energy renovations

- id: old_building_cost_shares
  name_en: Old building cost shares
  name_el: Μερίδια κόστους παλαιών κτιρίων
  type: gpc.DatasetNode
  quantity: fraction
  unit: dimensionless
  input_dimensions: [stakeholder, cost_type]
  output_dimensions: [stakeholder, cost_type]
  input_datasets:
  - id: gpc/athens_nzc
  params:
    sector: building renovation investments

- id: old_building_renovation_costs
  name_en: Old building renovation costs
  name_el: Κόστη ανακαίνισης παλαιών κτιρίων
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [building_energy_class, cost_type, stakeholder]
  output_dimensions: [building_energy_class, cost_type, stakeholder]
  input_nodes:
  - id: old_building_renovation_unit_price
    to_dimensions:
    - id: building_energy_class
    - id: cost_type
  - id: old_building_cost_shares
    to_dimensions:
    - id: stakeholder
    - id: cost_type
  - id: renovated_building_stock
    from_dimensions:
    - id: building_energy_class
      categories: [old_no_renovations]
      exclude: true
    to_dimensions:
    - id: building_energy_class
  output_nodes:
  - id: building_cost
    from_dimensions:
    - id: building_energy_class
      flatten: true

- id: efficiency_programme_cost
  name_en: Efficiency programme cost
  name_el: Κόστος προγράμματος αποδοτικότητας
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [efficiency_programme, energy_carrier, stakeholder, cost_type]
  output_dimensions: [efficiency_programme, energy_carrier, stakeholder, cost_type]
  input_nodes:
  - id: building_stock_by_electricity_renovation
    tags: [difference]
    to_dimensions:
    - id: energy_carrier
    - id: efficiency_programme
  - id: efficiency_programme_unit_price
    from_dimensions:
    - id: cost_type
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: efficiency_programme
  - id: old_building_cost_shares
    to_dimensions:
    - id: stakeholder
    - id: cost_type

- id: heating_re_investment_fraction
  name_en: Heating re-investment fraction
  name_el: Κλάσμα επανεπένδυσης θέρμανσης
  description_en: Share of current fossil production that would need to be re-invested in by 2030, if current production were to continue. (However, the calculations account for re-investments also after 2030, so the user can use their own timeline here as long as they interpret the results accordingly.)
  description_el: Μερίδιο της τρέχουσας ορυκτής παραγωγής που θα χρειαζόταν να επανεπενδυθεί έως το 2030, εάν η τρέχουσα παραγωγή συνεχιζόταν. (Ωστόσο, οι υπολογισμοί λαμβάνουν υπόψη τις επανεπενδύσεις και μετά το 2030, έτσι ώστε ο χρήστης να μπορεί να χρησιμοποιήσει το δικό του χρονοδιάγραμμα εδώ, αρκεί να ερμηνεύει τα αποτελέσματα αναλόγως.)
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [heating_type, energy_carrier]
  output_dimensions: [heating_type, energy_carrier]
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Share of current fossil production that would need to be re-invested in by 2030, if current production where to continue

- id: new_heating_capacity_needed
  name_en: New heating capacity needed (differential investments)
  name_el: Απαιτούμενη νέα δυναμικότητα θέρμανσης (διαφορικές επενδύσεις)
  description_en: This the amount that is needed to invest or de-vest on heat production due to changes in production types compared with a situation where the production types remain constant. The investments needed in the constant situation are ignored here and only the difference is estimated.
  description_el: Αυτό είναι το ποσό που απαιτείται για επένδυση ή απεπένδυση στην παραγωγή θερμότητας λόγω αλλαγών στους τύπους παραγωγής σε σύγκριση με μια κατάσταση όπου οι τύποι παραγωγής παραμένουν σταθεροί. Οι επενδύσεις που απαιτούνται στη σταθερή κατάσταση αγνοούνται εδώ και εκτιμάται μόνο η διαφορά.
  type: simple.MultiplicativeNode
  quantity: currency
  unit: GWh/a**2
  input_dimensions: [heating_type, energy_carrier]
  output_dimensions: [heating_type, energy_carrier]
  input_nodes:
  - id: building_heat_energy_use
    tags: [non_additive, difference]
    from_dimensions:
    - id: scope
      flatten: true
    - id: building_energy_class
      flatten: true
    - id: fuel_type
      flatten: true
    to_dimensions:
    - id: heating_type
    - id: energy_carrier
  - id: heating_re_investment_fraction
    to_dimensions:
    - id: heating_type
    - id: energy_carrier

- id: heating_cost_stakeholder_shares
  name_en: Heating cost stakeholder shares
  name_el: Μερίδια ενδιαφερόμενων μερών στο κόστος θέρμανσης
  type: gpc.DatasetNode
  quantity: fraction
  unit: '%'
  input_dimensions: [stakeholder, cost_type, heating_type]
  output_dimensions: [stakeholder, cost_type, heating_type]
  input_datasets: [gpc/athens_nzc]
  params:
    sector: heating costs

- id: new_heating_capacity_cost
  name_en: New heating capacity cost
  name_el: Κόστος νέας δυναμικότητας θέρμανσης
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [energy_carrier, cost_type, heating_type, stakeholder]
  output_dimensions: [energy_carrier, cost_type, heating_type, stakeholder]
  input_nodes:
  - id: new_heating_capacity_needed
    to_dimensions:
    - id: heating_type
    - id: energy_carrier
  - id: heat_production_capital_unit_price
    to_dimensions:
    - id: cost_type
    - id: heating_type
    - id: energy_carrier
  - id: heating_cost_stakeholder_shares
    to_dimensions:
    - id: stakeholder
    - id: cost_type
    - id: heating_type
  - id: multiplier_node
    to_dimensions: []
  output_nodes:
  - id: building_cost
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: heating_type
      flatten: true

- id: consumer_heating_unit_price
  name_en: Consumer heating unit price
  name_el: Τιμή μονάδας θέρμανσης καταναλωτή
  type: gpc.DatasetNode
  quantity: unit_price
  unit: EUR/MWh
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Retail price of heating

- id: consumer_heating_cost
  name_en: Consumer heating cost (excluding electricity)
  name_el: Κόστος θέρμανσης καταναλωτή (εξαιρουμένου του ηλεκτρισμού)
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [energy_carrier, stakeholder, cost_type, heating_type]
  output_dimensions: [energy_carrier, stakeholder, cost_type, heating_type]
  input_nodes:
  - id: consumer_heating_unit_price
    to_dimensions: []
  - id: building_heat_energy_use
    from_dimensions:
    - id: fuel_type
      flatten: true
    - id: scope
      flatten: true
    - id: building_energy_class
      flatten: true
    - id: energy_carrier
      categories: [electricity]
      exclude: true
    to_dimensions:
    - id: energy_carrier
    - id: heating_type
  - id: heating_cost_stakeholder_shares
    from_dimensions:
    - id: cost_type
      categories: [opex]
    to_dimensions:
    - id: stakeholder
    - id: cost_type
    - id: heating_type
  output_nodes:
  - id: building_cost
    from_dimensions:
    - id: heating_type
      flatten: true
    - id: energy_carrier
      flatten: true

- id: heat_production_unit_price
  name_en: Heat production unit price
  name_el: Τιμή μονάδας παραγωγής θερμότητας
  type: gpc.DatasetNode
  quantity: unit_price
  unit: EUR/MWh
  input_dimensions: [energy_carrier, heating_type, cost_type]
  output_dimensions: [energy_carrier, heating_type, cost_type]
  input_datasets: [gpc/athens_nzc]
  params:
    sector: (Un-levelised) costs of Decarbonised heating

- id: heat_production_cost
  name_en: Heat production cost
  name_el: Κόστος παραγωγής θερμότητας
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [stakeholder, energy_carrier, heating_type, cost_type]
  output_dimensions: [stakeholder, energy_carrier, heating_type, cost_type]
  input_nodes:
  - id: heat_production_unit_price
    from_dimensions:
    - id: cost_type
      categories: [opex]
    to_dimensions:
    - id: heating_type
    - id: cost_type
    - id: energy_carrier
  - id: building_heat_energy_use
    from_dimensions:
    - id: building_energy_class
      flatten: true
    - id: scope
      flatten: true
    - id: fuel_type
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: heating_type
  - id: heating_cost_stakeholder_shares
    to_dimensions:
    - id: stakeholder
    - id: heating_type
    - id: cost_type
  output_nodes:
  - id: building_cost
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: heating_type
      flatten: true
    to_dimensions:
    - id: stakeholder
    - id: cost_type

- id: heat_production_capital_unit_price
  name_en: Heat production capital unit price
  name_el: Τιμή μονάδας κεφαλαίου παραγωγής θερμότητας
  type: gpc.DatasetNode
  quantity: unit_price
  unit: EUR/MWh
  input_dimensions: [energy_carrier, heating_type, cost_type]
  output_dimensions: [energy_carrier, heating_type, cost_type]
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Un-levelized capital cost of heating

- id: heat_production_capital_cost
  name_en: Heat production capital cost
  name_el: Κόστος κεφαλαίου παραγωγής θερμότητας
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [stakeholder, energy_carrier, heating_type, cost_type]
  output_dimensions: [stakeholder, energy_carrier, heating_type, cost_type]
  input_nodes:
  - id: heat_production_capital_unit_price
    to_dimensions:
    - id: heating_type
    - id: cost_type
    - id: energy_carrier
  - id: building_heat_energy_use
    from_dimensions:
    - id: building_energy_class
      flatten: true
    - id: scope
      flatten: true
    - id: fuel_type
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: heating_type
  - id: heating_cost_stakeholder_shares
    to_dimensions:
    - id: stakeholder
    - id: heating_type
    - id: cost_type
  output_nodes:
  - id: building_cost
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: heating_type
      flatten: true
    to_dimensions:
    - id: stakeholder
    - id: cost_type

- id: heat_production_network_unit_price
  name_en: Heat production network unit price
  name_el: Τιμή μονάδας δικτύου παραγωγής θερμότητας
  type: gpc.DatasetNode
  quantity: unit_price
  unit: EUR/MWh
  input_dimensions: [heating_type, cost_type]
  output_dimensions: [heating_type, cost_type]
  input_datasets: [gpc/athens_nzc]
  params:
    sector: Un-levelized capital cost of heating network

- id: new_heating_network_cost
  name_en: New heating network cost
  name_el: Κόστος νέου δικτύου θέρμανσης
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [stakeholder, heating_type, cost_type]
  output_dimensions: [stakeholder, heating_type, cost_type]
  input_nodes:
  - id: new_heating_capacity_needed
    from_dimensions:
    - id: energy_carrier
      flatten: true
    to_dimensions:
    - id: heating_type
  - id: heat_production_network_unit_price
    to_dimensions:
    - id: heating_type
    - id: cost_type
  - id: heating_cost_stakeholder_shares
    from_dimensions:
    - id: cost_type
      categories: [capex]
      flatten: true
    to_dimensions:
    - id: stakeholder
    - id: heating_type
  - id: multiplier_node
    to_dimensions: []
  output_nodes:
  - id: building_cost
    from_dimensions:
    - id: heating_type
      flatten: true
    to_dimensions:
    - id: stakeholder
    - id: cost_type

# ---------------- Summary ---------------------

- id: building_cost
  name_en: Building cost
  name_el: Κόστος κτιρίου
  type: simple.AdditiveNode
  quantity: currency
  unit: MEUR/a
  color: '#e41a1c'
  input_dimensions: [stakeholder, cost_type]
  output_dimensions: [stakeholder, cost_type]
  input_nodes:
  - id: new_building_cost
    from_dimensions:
    - id: building_energy_class
      flatten: true
  - id: efficiency_programme_cost
    from_dimensions:
    - id: efficiency_programme
      flatten: true
    - id: energy_carrier
      flatten: true
    to_dimensions:
    - id: stakeholder
    - id: cost_type
  output_nodes:
  - total_cost
