id: tampere-c4c
default_language: fi
supported_languages: [en]
site_url: https://tampere-c4c.paths.kausal.tech
dataset_repo:
  url: https://github.com/kausaltech/dvctest.git
  commit: a0202c9e8edf49b7cdc5c4d9bba3323dcffbb36b
  dvc_remote: kausal-s3
name: C4C Hiilineutraali Tampere 2030
name_en: C4C Carbon-neutral Tampere 2030
owner: Tampereen kaupunki
owner_en: City of Tampere
theme_identifier: fi-tampere-c4c
model_end_year: 2030
target_year: 2030
reference_year: 1990
minimum_historical_year: 2010
maximum_historical_year: 2023
emission_dataset: tampere/scenarios/emissions/bau
emission_unit: kt_co2e/a
emission_forecast_from: 2024
params:
- id: municipality_name
  value: Tampere
features:
  baseline_visible_in_graphs: true
  use_datasets_from_db: true

impact_overviews:
- graph_type: cost_efficiency
  cost_node: net_cost
  effect_node: net_emissions
  indicator_unit: EUR/t_co2e
  cost_unit: EUR
  effect_unit: t_co2e
  plot_limit_for_indicator: 50000
  label: Kustannusvaikuttavuus

- graph_type: cost_benefit
  effect_node: cost_benefit_analysis
  indicator_unit: kEUR
  outcome_dimension: cost_benefit
  label: Cost-benefit

- graph_type: return_on_investment
  cost_node: aggregate_total_costs
  effect_node: aggregate_total_benefits
  indicator_unit: '%'
  label: Return on investment

action_groups:
- id: transportation
  name: Liikenne
  name_en: Transportation
  color: '#668EC9'
- id: building_heating
  name: Rakennuksen lämmitys
  name_en: Building heating
  color: '#AD3963'
- id: electricity_consumption
  name: Sähkön kulutus
  name_en: Electricity consumption
  color: '#F4D240'
- id: industry_and_machinery
  name: Teollisuus ja työkoneet
  name_en: Industry and machinery
  color: '#E8B455'
- id: parameters
  name: Parametrit
  name_en: Parameters
  color: '#999999'

dimensions:
- id: vehicle_type
  label: Ajoneuvotyyppi
  label_en: Vehicle type
  categories:
  - id: buses
    label: Bussi
    label_en: Buses
  - id: local_trains
    label: Paikallisjuna
    label_en: Local trains
  - id: motorcycles
    label: Moottoripyörä
    label_en: Motorcycles
  - id: passenger_cars
    label: Henkilöauto
    label_en: Passenger cars
  - id: trams
    label: Ratikka
    label_en: Trams
  - id: trucks
    label: Kuorma-auto
    label_en: Trucks
  - id: vans
    label: Pakettiauto
    label_en: Vans

- id: streetlight_type
  label: Streetlight Type
  categories:
  - id: incandescent
    label: Incandescent
  - id: led
    label: LED

- id: cost_type
  label: Kustannustyyppi
  label_en: Cost type
  categories:
  - id: investment
    label: Investointikustannukset
    label_en: Investment
  - id: energy
    label: Energiakustannukset
    label_en: Energy
  - id: maintenance
    label: Huoltokustannukset
    label_en: Maintenance
  - id: operations
    label: Käyttötalouskustannukset
    label_en: Operations
  - id: operations_savings
    label: Käyttötaloussäästöt
    label_en: Operations savings
  - id: corporate_tax_impact
    label: Yhteisöverovaikutus
    label_en: Corporate tax impact
  - id: tax_impact
    label: Kunnallisverovaikutus
    label_en: Municipal tax impact
  - id: value_added
    label: Arvonlisä
    label_en: Value added
  - id: gross_output
    label: Tuotosvaikutus
    label_en: Gross output
  - id: carbon_shadow
    label: Hiilen varjohinta
    label_en: Shadow cost of carbon

- id: energy_carrier
  label: Energian kantaja
  label_en: Energy carrier
  categories:
  - id: district_heat
    label: Kaukolämpö
    label_en: District heat
  - id: electricity
    label: Sähkö
    label_en: Electricity
  - id: fuel_oil
    label: Polttoöljy
    label_en: Fuel oil
  - id: natural_gas
    label: Maakaasu
    label_en: Natural gas

- id: heating
  label: Lämmitys
  label_en: Heating
  categories:
  - id: direct_electric_heat
    label: Suorasähkölämpö
    label_en: Direct electric heat
  - id: district_heat
    label: Kaukolämpö
    label_en: District heat
  - id: fuel_oil
    label: Polttoöljy
    label_en: Fuel oil
  - id: geothermal
    label: Maalämpö
    label_en: Geothermal
  - id: natural_gas
    label: Maakaasu
    label_en: Natural gas
  - id: water_to_air_heat_pump
    label: Vesi-ilmalämpöpumppu
    label_en: Water-to-air heat pump

- id: ghg
  label: GHG
  categories:
  - id: co2e
    label: CO2e

- id: owner
  label: Omistaja
  label_en: Owner
  categories:
  - id: municipal
    label: Kaupunki
    label_en: Municipal
  - id: private
    label: Yksityinen
    label_en: Private
  - id: region
    label: Kaupunkialue
    label_en: City region
  - id: subsidiary
    label: Tytäryhtiö
    label_en: Subsidiary
  - id: state
    label: Valtio
    label_en: State
  - id: society
    label: Yhteiskunta
    label_en: Society

- id: scope
  label: Scope
  label_en: Scope
  categories:
  - id: scope1
    label: Scope 1
    label_en: Scope 1
  - id: scope2
    label: Scope 2
    label_en: Scope 2

- id: cost_benefit
  label: Cost-benefit
  label_en: Cost-benefit
  categories:
  - id: cost
    label: Cost
    label_en: Cost
  - id: benefit
    label: Benefit
    label_en: Benefit

- id: sector
  label: GPC-sektori
  label_en: GPC sector
  categories:
  - id: i
    label: I Kiinteät lähteet
    label_en: I Stationary
  - id: i1
    label: I.1 Asuinkiinteistöt
    label_en: I.1 Residential
  - id: i11
    label: I.1.1 Asuinkiinteistöjen polttoaine
    label_en: I.1.1 Residential fuel
  - id: i12
    label: I.1.2 Asuinkiinteistöjen verkkoenergia
    label_en: I.1.2 Residential grid energy
  - id: i13
    label: I.1.3 Asuinkiinteistöjen siirto- ja jakeluhäviöt
    label_en: I.1.3 Residential T & D loss
  - id: i2
    label: I.2 Kaupalliset ja julkiset rakennukset
    label_en: I.2 Commercial & institutional
  - id: i21
    label: I.2.1 Kaupallisten ja julkisten polttoaine
    label_en: I.2.1 Commercial & institutional fuel
  - id: i22
    label: I.2.2 Kaupallisten ja julkisten verkkoenergia
    label_en: I.2.2 Commercial & institutional grid energy
  - id: i23
    label: I.2.3 Kaupallisten ja julkisten siirtohäviöt
    label_en: I.2.3 Commercial & institutional T & D loss
  - id: i3
    label: I.3 Teollisuus
    label_en: I.3 Manufacturing
  - id: i31
    label: I.3.1 Teollisuuden polttoaine
    label_en: I.3.1 Manufacturing fuel
  - id: i32
    label: I.3.2 Teollisuuden verkkoenergia
    label_en: I.3.2 Manufacturing grid energy
  - id: i33
    label: I.3.3 Teollisuuden siirto- ja jakeluhäviöt
    label_en: I.3.3 Manufacturing T & D loss
  - id: i4
    label: I.4 Energia
    label_en: I.4 Energy
  - id: i41
    label: I.4.1 Energian polttoaine
    label_en: I.4.1 Energy fuel
  - id: i42
    label: I.4.2 Energian verkkoenergia
    label_en: I.4.2 Energy grid energy
  - id: i43
    label: I.4.3 Energian siirto- ja jakeluhäviöt
    label_en: I.4.3 Energy T & D loss
  - id: i5
    label: I.5 Maa-, metsä- ja kalatalous
    label_en: I.5 Ag, forestry, & fishing
  - id: i51
    label: I.5.1 Maa-, metsä- ja kalatalouden polttoaine
    label_en: I.5.1 Ag, forestry, & fishing fuel
  - id: i52
    label: I.5.2 Maa-, metsä- ja kalatalouden verkkoenergia
    label_en: I.5.2 Ag, forestry, & fishing grid energy
  - id: i53
    label: I.5.3 Maa-, metsä- ja kalatalouden siirtohäviöt
    label_en: I.5.3 Ag, forestry, & fishing T & D loss
  - id: i6
    label: I.6 Määrittelemätön
    label_en: I.6 Non-specified
  - id: i61
    label: I.6.1 Määrittelemättömien polttoaine
    label_en: I.6.1 Non-specified fuel
  - id: i62
    label: I.6.2 Määrittelemättömien verkkoenergia
    label_en: I.6.2 Non-specified grid energy
  - id: i63
    label: I.6.3 Määrittelemättömien siirto- ja jakeluhäviöt
    label_en: I.6.3 Non-specified T & D loss
  - id: i7
    label: I.7 Hiilen haihtumapäästöt
    label_en: I.7 Fugitive coal
  - id: i71
    label: I.7.1 Hiilen haihtumapäästöt
    label_en: I.7.1 Fugitive coal
  - id: i8
    label: I.8 Öljyn ja maakaasun haihtumapäästöt
    label_en: I.8 Fugitive oil & natural gas
  - id: i81
    label: I.8.1 Öljyn ja maakaasun haihtumapäästöt
    label_en: I.8.1 Fugitive oil & natural gas
  - id: ii
    label: II Liikenne
    label_en: II Transportation
  - id: ii1
    label: II.1 Tieliikenne
    label_en: II.1 On-road transport
  - id: ii11
    label: II.1.1 Tieliikenteen polttoaine
    label_en: II.1.1 On-road transport fuel
  - id: ii12
    label: II.1.2 Tieliikenteen verkkoenergia
    label_en: II.1.2 On-road transport grid energy
  - id: ii13
    label: II.1.3 Tieliikenteen kaupungin ulkopuolella
    label_en: II.1.3 On-road transport outside city, T & D loss
  - id: ii2
    label: II.2 Rautatieliikenne
    label_en: II.2 Railway
  - id: ii21
    label: II.2.1 Rautatieliikenteen polttoaine
    label_en: II.2.1 Railway fuel
  - id: ii22
    label: II.2.2 Rautatieliikenteen verkkoenergia
    label_en: II.2.2 Railway grid energy
  - id: ii23
    label: II.2.3 Rautatieliikenteen kaupungin ulkopuolella
    label_en: II.2.3 Railway outside city, T & D loss
  - id: ii3
    label: II.3 Vesiliikenne
    label_en: II.3 Waterborne
  - id: ii31
    label: II.3.1 Vesiliikenteen polttoaine
    label_en: II.3.1 Waterborne fuel
  - id: ii32
    label: II.3.2 Vesiliikenteen verkkoenergia
    label_en: II.3.2 Waterborne grid energy
  - id: ii33
    label: II.3.3 Vesiliikenteen kaupungin ulkopuolella
    label_en: II.3.3 Waterborne outside city, T & D loss
  - id: ii4
    label: II.4 Ilmailu
    label_en: II.4 Aviation
  - id: ii41
    label: II.4.1 Ilmailun polttoaine
    label_en: II.4.1 Aviation fuel
  - id: ii42
    label: II.4.2 Ilmailun verkkoenergia
    label_en: II.4.2 Aviation grid energy
  - id: ii43
    label: II.4.3 Ilmailun kaupungin ulkopuolella
    label_en: II.4.3 Aviation outside city, T & D loss
  - id: ii5
    label: II.5 Maastoliikenne
    label_en: II.5 Off-road transport
  - id: ii51
    label: II.5.1 Maastoliikenteen polttoaine
    label_en: II.5.1 Off-road transport fuel
  - id: ii52
    label: II.5.2 Maastoliikenteen verkkoenergia
    label_en: II.5.2 Off-road transport grid energy
  - id: ii53
    label: II.5.3 Maastoliikenteen kaupungin ulkopuolella
    label_en: II.5.3 Off-road transport outside city, T & D loss
  - id: iii
    label: III Jäte
    label_en: III Waste
  - id: iii1
    label: III.1 Kiinteä jäte
    label_en: III.1 Solid waste
  - id: iii11
    label: III.1.1 Kaupungissa käsitelty jäte
    label_en: III.1.1 Solid waste disposed in city
  - id: iii12
    label: III.1.2 Kaupungin ulkopuolella käsitelty jäte
    label_en: III.1.2 Solid waste disposed outside city
  - id: iii2
    label: III.2 Biologinen jäte
    label_en: III.2 Biological waste
  - id: iii21
    label: III.2.1 Kaupungissa käsitelty biojäte
    label_en: III.2.1 Biological waste treated in city
  - id: iii22
    label: III.2.2 Kaupungin ulkopuolella käsitelty biojäte
    label_en: III.2.2 Biological waste treated outside city
  - id: iii3
    label: III.3 Jätteenpoltto
    label_en: III.3 Incineration
  - id: iii31
    label: III.3.1 Jätteenpoltto kaupungissa
    label_en: III.3.1 Incineration in city
  - id: iii32
    label: III.3.2 Jätteenpoltto kaupungin ulkopuolella
    label_en: III.3.2 Incineration outside city
  - id: iii4
    label: III.4 Jätevesi
    label_en: III.4 Wastewater
  - id: iii41
    label: III.4.1 Kaupungissa käsitelty jätevesi
    label_en: III.4.1 Wastewater treated in city
  - id: iii42
    label: III.4.2 Kaupungin ulkopuolella käsitelty jätevesi
    label_en: III.4.2 Wastewater treated outside city
  - id: iv
    label: IV Teollisuusprosessit ja tuotteiden käyttö
    label_en: IV IPPU
  - id: iv1
    label: IV.1 Teollisuusprosessit
    label_en: IV.1 Industrial processes
  - id: iv2
    label: IV.2 Tuotteiden käyttö
    label_en: IV.2 Product use
  - id: v
    label: V Maatalous, metsätalous ja muu maankäyttö
    label_en: V AFOLU
  - id: v1
    label: V.1 Kotieläimet
    label_en: V.1 Livestock
  - id: v2
    label: V.2 Maa
    label_en: V.2 Land
  - id: v3
    label: V.3 Yhdistetyt lähteet
    label_en: V.3 Aggregate sources

- id: action
  label: Toimenpide
  label_en: Action
  categories:
  - id: replacing_street_lighting_with_leds
    label: Katuvalaistuksen vaihtaminen LED-valaisimiksi
    label_en: Replacing street lighting with LEDs
  - id: building_renewable_electricity_production_pv
    label: Hajautettu uusiutuva energia (aurinkosähkö)
    label_en: Building renewable electricity production (PV)
  - id: replacing_oil_heating_with_heat_pumps
    label: Öljylämmityksestä siirtyminen lämpöpumppuihin
    label_en: Replacing oil heating with heat pumps
  - id: energy_efficiency_renovations_in_city_buildings
    label: Korjausrakentaminen kaupungin kiinteistössä
    label_en: Energy efficiency renovations in city buildings
  - id: energy_efficiency_measures_for_new_construction
    label: Uusien rakennusten energiatehokkuustoimet
    label_en: Energy efficiency measures for new construction
  - id: change_in_the_propulsion_of_bus_fleet
    label: Bussiliikenteen käyttövoimamuutos
    label_en: Change in the propulsion of bus fleet
  - id: shift_to_lowcarbon_in_electricity_production
    label: Kansallinen sähköntuotanto puhdistuu
    label_en: Shift to low-carbon in electricity production
  - id: replacing_fossil_fuels_with_res_in_city_machinery
    label: Fossiilipolttoaineista luopuminen työkoneissa
    label_en: Replacing fossil fuels with RES in city machinery
  - id: replacing_oil_heating_with_geothermal
    label: Öljylämmityksestä siirtyminen maalämpöihin
    label_en: Replacing oil heating with geothermal
  - id: change_in_vehicle_propulsion
    label: Autoliikenteen käyttövoimamuutos
    label_en: Change in vehicle propulsion
  - id: tramline_3_construction
    label: Ratikan 3 vaihe
    label_en: Tramline 3 construction
  - id: improving_the_service_level_of_public_transport
    label: Joukkoliikenteen palvelutason nosto
    label_en: Improving the service level of public transport
  - id: promoting_walking_and_cycling
    label: Kävelyn ja pyöräilyn edistäminen
    label_en: Promoting walking and cycling
  - id: parking_policy_to_support_sustainable_mobility
    label: Kestävää liikkumista tukeva pysäköintipolitiikka
    label_en: Parking policy to support sustainable mobility
  - id: solar_power_in_municipal_building_stock
    label: Solar power in municipal building stock
  - id: geothermal_and_awhps_in_municipal_building_stock
    label: Öljylämmityksestä luopuminen
    label_en: Replace oil heating in buildings
  - id: aahps_in_municipal_building_stock
    label: Ilmalämpöpumput lämmityksen tukena
    label_en: Air-to-air heat pump investments
  - id: additional_investments_in_naistenlahti_3
    label: Naistenlahti 3 -voimalaitoksen lisäinvestoinnit
    label_en: Additional investments in Naistenlahti 3
  - id: waste_heat_recovery_in_district_heating
    label: Hukkalämpöjen talteenotto kaukolämmityksen tukena
    label_en: Waste heat recovery in district heating
  - id: electric_boiler_and_district_heat_battery
    label: Sähkökattila ja kaukolämpöakku
    label_en: Electric boiler and district heat battery
  - id: smart_grid_and_virtual_power_plant_development
    label: Älykäs energiaverkko ja virtuaalilaitoksen kehitys
    label_en: Smart grid and virtual power plant development

emission_sectors:
- id: net_emissions
  name: Kokonaispäästöt
  name_en: Net emissions
  order: 1
  is_outcome: true
  target_year_goal: 260

# ----- Transportation

- id: transportation_emissions
  name: Liikenteen päästöt
  name_en: Transportation emissions
  part_of: net_emissions
  color: '#668EC9'
  target_year_goal: 115

# ----- Building Heating

- id: building_heating_emissions
  name: Rakennusten lämmityksen päästöt
  name_en: Building heating emissions
  part_of: net_emissions
  color: '#AD3963'

- id: separate_heating_emissions
  name: Erillislämmityksen päästöt
  name_en: Separate heating emissions
  part_of: building_heating_emissions

- id: electric_heating_emissions
  name: Sähkölämmityksen päästöt
  name_en: Electric heating emissions
  part_of: building_heating_emissions

# ----- Waste

- id: waste_treatment_emissions
  name: Jätehuollon päästöt
  name_en: Waste treatment
  part_of: net_emissions
  color: '#397368'

# ----- Agriculture

- id: agriculture_emissions
  name_en: Agriculture
  name: Maatalouden päästöt
  part_of: net_emissions
  color: '#ABC872'

nodes:
# ----- WASTE -----------------------------------------------------------------

- id: solid_waste_treatment_emissions
  name: Kiinteän jätteen käsittelyn päästöt
  name_en: Solid waste treatment
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  input_datasets:
  - id: tampere/waste
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: iii11
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: waste_treatment_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: waste_water_treatment_emissions
  name: Jäteveden puhdistuksen päästöt
  name_en: Waste water treatment
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  input_datasets:
  - id: tampere/waste
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: iii41
  output_nodes:
  - id: waste_treatment_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- AFOLU -----------------------------------------------------------------

- id: cattle_digestion_emissions
  name: Eläinten ruoansulatuksen päästöt
  name_en: Cattle digestion emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  input_datasets:
  - id: tampere/afolu
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: v1
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: agriculture_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: field_crops_emissions
  name: Peltoviljelyn päästöt
  name_en: Field crops emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  input_datasets:
  - id: tampere/afolu
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: v2
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: agriculture_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: manure_treatment_emissions
  name: Lannan käsittelyn päästöt
  name_en: Manure treatment emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  input_datasets:
  - id: tampere/afolu
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: v3
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: agriculture_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- BUILDING HEATING ------------------------------------------------------

- id: heating_emission_factors
  name: Lämmityspäästökerroin
  name_en: Heating emission factors
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t_co2e/GWh
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emission_factor
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      values: [i11, i12]
    - column: owner
    - column: cost_type
  output_nodes:
  - id: gas_heating_emissions
  - id: oil_heating_emissions
  - id: direct_electric_heating_emissions
  - id: district_heating_emissions
  - id: geothermal_heating_emissions
# - id: water_to_air_heat_pump_emissions
  - id: heating_emissions_impacts
    from_dimensions:
    - id: heating
      categories: [district_heat, fuel_oil, natural_gas]
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: ghg
    - id: scope

# ----- District Heating

- id: district_heating_energy_consumption
  name: Kaukolämmön energiankulutus
  name_en: District heating energy consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  input_datasets:
  - id: tampere/stationary
    column: energy
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i12
    - column: ghg
    - column: owner
    - dimension: heating
      categories: [district_heat]
    - column: cost_type
  output_nodes:
  - id: district_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: district_heating_energy_consumption_price
  name: Kaukolämmön energiankulutuksen kustannukset
  name_en: District heating energy consumption cost
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [heating, energy_carrier, scope, owner, cost_type]
  output_dimensions: [heating, energy_carrier, scope, owner, cost_type]
  input_nodes:
  - id: district_heating_energy_consumption
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
    - id: owner
    - id: cost_type
  output_nodes:
  - id: building_heating_price
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: district_heating_emissions
  name: Kaukolämmön päästöt
  name_en: District heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: district_heating_emissions_total

- id: district_heating_emissions_total
  name: Kaukolämmön kokonaispäästöt
  name_en: Total district heating emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i12
    - column: owner
    - dimension: heating
      categories: [district_heat]
    - column: cost_type
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: building_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Separate Heating

- id: gas_heating_energy_consumption
  name: Kaasulämmityksen energiankulutus
  name_en: Gas heating energy consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  input_datasets:
  - id: tampere/stationary
    column: energy
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i11
    - column: ghg
    - column: owner
    - dimension: heating
      categories: [natural_gas]
    - column: cost_type
  output_nodes:
  - id: gas_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: gas_heating_emissions
  name: Kaasulämmityksen päästöt
  name_en: Gas heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: separate_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: oil_heating_energy_consumption
  name: Öljylämmityksen energiankulutus
  name_en: Oil heating energy consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  input_datasets:
  - id: tampere/stationary
    column: energy
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i11
    - column: ghg
    - column: owner
    - dimension: heating
      categories: [fuel_oil]
    - column: cost_type
  output_nodes:
  - id: oil_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: oil_heating_energy_consumption_price
  name: Öljylämmityksen energiankulutuksen kustannukset
  name_en: Oil heating energy consumption cost
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [heating, energy_carrier, scope, owner, cost_type]
  output_dimensions: [heating, energy_carrier, scope, owner, cost_type]
  input_nodes:
  - id: oil_heating_energy_consumption
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
    - id: owner
    - id: cost_type
  output_nodes:
  - id: building_heating_price
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: oil_heating_emissions
  name: Öljylämmityksen päästöt
  name_en: Oil heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: oil_heating_emissions_total

- id: oil_heating_emissions_total
  name: Öljylämmityksen kokonaispäästöt
  name_en: Total oil heating emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i11
    - column: owner
    - dimension: heating
      categories: [fuel_oil]
    - column: cost_type
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: separate_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Electric Heating

- id: geothermal_heating_electricity_consumption
  name: Maalämmön sähkönkulutus
  name_en: Geothermal heating electricity consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  input_datasets:
  - id: tampere/stationary
    column: energy
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i12
    - column: ghg
    - column: owner
    - dimension: heating
      categories: [geothermal]
    - column: cost_type
  output_nodes:
  - id: geothermal_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: geothermal_heating_electricity_consumption_price
  name: Maalämmön sähkönkulutuksen kustannukset
  name_en: Geothermal heating electricity consumption cost
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [heating, energy_carrier, scope, owner, cost_type]
  output_dimensions: [heating, energy_carrier, scope, owner, cost_type]
  input_nodes:
  - id: geothermal_heating_electricity_consumption
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
    - id: owner
    - id: cost_type
  output_nodes:
  - id: building_heating_price
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: geothermal_heating_emissions
  name: Maalämmön päästöt
  name_en: Geothermal heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: geothermal_heating_emissions_total

- id: geothermal_heating_emissions_total
  name: Maalämmön kokonaispäästöt
  name_en: Total geothermal heating emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i12
    - column: owner
    - dimension: heating
      categories: [geothermal]
    - column: cost_type
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: electric_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: direct_electric_heating_electricity_consumption
  name: Suorasähkölämmityksen sähkönkulutus
  name_en: Direct electric heating electricity consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  input_datasets:
  - id: tampere/stationary
    column: energy
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i12
    - column: ghg
    - column: owner
    - dimension: heating
      categories: [direct_electric_heat]
    - column: cost_type
  output_nodes:
  - id: direct_electric_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: direct_electric_heating_electricity_consumption_price
  name: Suorasähkölämmityksen sähkönkulutuksen kustannukset
  name_en: Direct electric heating electricity consumption cost
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [heating, energy_carrier, scope, owner, cost_type]
  output_dimensions: [heating, energy_carrier, scope, owner, cost_type]
  input_nodes:
  - id: direct_electric_heating_electricity_consumption
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
    - id: owner
    - id: cost_type
  output_nodes:
  - id: building_heating_price
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: direct_electric_heating_emissions
  name: Suorasähkölämmityksen päästöt
  name_en: Direct electric heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: direct_electric_heating_emissions_total

- id: direct_electric_heating_emissions_total
  name: Suorasähkölämmityksen kokonaispäästöt
  name_en: Total direct electric heating emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i12
    - column: owner
    - dimension: heating
      categories: [direct_electric_heat]
    - column: cost_type
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: electric_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- ELECTRICITY -----------------------------------------------------------

- id: industrial_electricity_consumption
  name: Teollisuuden sähkönkulutus
  name_en: Industrial electricity consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [energy_carrier, scope]
  output_dimensions: [energy_carrier, scope]
  input_datasets:
  - id: tampere/stationary
    column: energy
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i32
    - column: ghg
    - column: owner
    - column: heating
    - column: cost_type
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: industrial_electricity_emissions
    to_dimensions:
    - id: energy_carrier
    - id: scope

- id: industrial_electricity_consumption_price
  name: Teollisuuden sähkönkulutuksen kustannukset
  name_en: Industrial electricity consumption cost
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [energy_carrier, scope, owner, cost_type]
  output_dimensions: [energy_carrier, scope, owner, cost_type]
  input_nodes:
  - id: industrial_electricity_consumption
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
    - id: owner
    - id: cost_type
  output_nodes:
  - id: electricity_consumption_price
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: industrial_electricity_emission_factors
  name: Teollisuuden sähkönkulutuksen päästökerroin
  name_en: Industrial electricity emission factors
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t_co2e/GWh
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emission_factor
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i32
    - column: owner
    - column: heating
    - column: cost_type
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: industrial_electricity_emissions

- id: industrial_electricity_emissions
  name: Teollisuuden sähkönkulutuksen päästöt
  name_en: Industrial electricity emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  output_nodes:
  - id: electricity_consumption_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: other_electricity_consumption
  name: Muu sähkönkulutus
  name_en: Other electricity consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [energy_carrier, scope]
  output_dimensions: [energy_carrier, scope]
  input_datasets:
  - id: tampere/stationary
    column: energy
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i62
    - column: ghg
    - column: owner
    - column: heating
    - column: cost_type
  output_nodes:
  - id: other_electricity_emissions
    to_dimensions:
    - id: energy_carrier
    - id: scope

- id: other_electricity_consumption_price
  name: Muun sähkönkulutuksen kustannukset
  name_en: Other electricity consumption cost
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [energy_carrier, scope, owner, cost_type]
  output_dimensions: [energy_carrier, scope, owner, cost_type]
  input_nodes:
  - id: other_electricity_consumption
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
    - id: owner
    - id: cost_type
  output_nodes:
  - id: electricity_consumption_price
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: other_electricity_emission_factors
  name: Muun sähkönkulutuksen päästökerroin
  name_en: Other electricity emission factors
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t_co2e/GWh
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emission_factor
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i62
    - column: owner
    - column: heating
    - column: cost_type
  output_nodes:
  - id: other_electricity_emissions
  - id: electricity_emissions_impacts
    to_dimensions:
    - id: energy_carrier
    - id: ghg
    - id: scope

- id: other_electricity_emissions
  name: Muun sähkönkulutuksen päästöt
  name_en: Other electricity emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  output_nodes:
  - id: other_electricity_emissions_total

- id: other_electricity_emissions_total
  name: Muun sähkönkulutuksen kokonaispäästöt
  name_en: Total other electricity emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i62
    - column: owner
    - column: heating
    - column: cost_type
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: electricity_consumption_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: electricity_consumption_emissions
  name: Sähkön kulutuksen päästöt
  name_en: Electricity consumption emissions
  color: '#F4D240'
  type: simple.SectorEmissions
  unit: kt_co2e/a
  output_nodes:
  - id: net_emissions

# ----- TRANSPORTATION --------------------------------------------------------

- id: onroad_transportation_emission_factors
  name: Tieliikenteen päästökertoimet
  name_en: On-road transportation emission factors
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: g_co2e/vkm
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: emission_factor
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
  output_nodes:
  - id: bus_emissions
  - id: motorcycle_emissions
  - id: car_emissions
  - id: truck_emissions
  - id: van_emissions
  - id: onroad_emissions_impacts
    to_dimensions:
    - id: vehicle_type
    - id: ghg
    - id: scope

- id: rail_transportation_emission_factors
  name: Rautatieliikenteen päästökertoimet
  name_en: Rail transportation emission factors
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: g_co2e/vkm
  input_dimensions: [vehicle_type, energy_carrier, ghg, scope]
  output_dimensions: [vehicle_type, energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/other_transportation
    column: emission_factor
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii22
  output_nodes:
  - id: local_train_emissions
  - id: tram_emissions
  - id: rail_emissions_impacts
    from_dimensions:
    - id: energy_carrier
      flatten: true
    to_dimensions:
    - id: vehicle_type
    - id: ghg
    - id: scope

# ----- Buses

- id: bus_kilometers
  name: Bussisuorite
  name_en: Bus kilometers
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, scope]
  output_dimensions: [vehicle_type, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: mileage
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - column: ghg
    - dimension: vehicle_type
      categories: [buses]
  output_nodes:
  - id: bus_emissions
    to_dimensions:
    - id: vehicle_type
    - id: scope

- id: bus_emissions
  name: Bussiliikenteen päästöt
  name_en: Bus emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  output_nodes:
  - id: bus_emissions_total

- id: bus_emissions_total
  name: Bussiliikenteen kokonaispäästöt
  name_en: Total bus emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - dimension: vehicle_type
      categories: [buses]
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Local Trains

- id: local_train_kilometers
  name: Paikallisjunasuorite
  name_en: Local train kilometers
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [energy_carrier, vehicle_type, scope]
  output_dimensions: [energy_carrier, vehicle_type, scope]
  input_datasets:
  - id: tampere/other_transportation
    column: mileage
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii22
    - column: ghg
    - dimension: vehicle_type
      categories: [local_trains]
  output_nodes:
  - id: local_train_emissions
    to_dimensions:
    - id: energy_carrier
    - id: vehicle_type
    - id: scope

- id: local_train_emissions
  name: Lähijunaliikenteen päästöt
  name_en: Local train emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Motorcycles

- id: motorcycle_kilometers
  name: Moottoripyöräsuorite
  name_en: Motorcycle kilometers
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, scope]
  output_dimensions: [vehicle_type, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: mileage
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - column: ghg
    - dimension: vehicle_type
      categories: [motorcycles]
  output_nodes:
  - id: motorcycle_emissions
    to_dimensions:
    - id: vehicle_type
    - id: scope

- id: motorcycle_emissions
  name: Moottoripyöräliikenteen päästöt
  name_en: Motorcycle emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  output_nodes:
  - id: motorcycle_emissions_total

- id: motorcycle_emissions_total
  name: Moottoripyöräliikenteen kokonaispäästöt
  name_en: Total motorcycle emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - dimension: vehicle_type
      categories: [motorcycles]
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Passenger Cars

- id: car_kilometers
  name: Henkilöautosuorite
  name_en: Passenger car kilometers
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, scope]
  output_dimensions: [vehicle_type, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: mileage
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - column: ghg
    - dimension: vehicle_type
      categories: [passenger_cars]
  output_nodes:
  - id: car_emissions
    to_dimensions:
    - id: vehicle_type
    - id: scope

- id: car_emissions
  name: Henkilöautoliikenteen päästöt
  name_en: Passenger car emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  output_nodes:
  - id: car_emissions_total

- id: car_emissions_total
  name: Henkilöautoliikenteen kokonaispäästöt
  name_en: Total passenger car emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - dimension: vehicle_type
      categories: [passenger_cars]
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Trams

- id: tram_kilometers
  name: Ratikkasuorite
  name_en: Tram kilometers
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [energy_carrier, vehicle_type, scope]
  output_dimensions: [energy_carrier, vehicle_type, scope]
  input_datasets:
  - id: tampere/other_transportation
    column: mileage
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii22
    - column: ghg
    - dimension: vehicle_type
      categories: [trams]
  output_nodes:
  - id: tram_emissions
    to_dimensions:
    - id: energy_carrier
    - id: vehicle_type
    - id: scope

- id: tram_emissions
  name: Ratikkaliikenteen päästöt
  name_en: Tram emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Trucks

- id: truck_kilometers
  name: Kuorma-autosuorite
  name_en: Truck kilometers
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, scope]
  output_dimensions: [vehicle_type, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: mileage
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - column: ghg
    - dimension: vehicle_type
      categories: [trucks]
  output_nodes:
  - id: truck_emissions
    to_dimensions:
    - id: vehicle_type
    - id: scope

- id: truck_emissions
  name: Kuorma-autoliikenteen päästöt
  name_en: Truck emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  output_nodes:
  - id: truck_emissions_total

- id: truck_emissions_total
  name: Kuorma-autoliikenteen kokonaispäästöt
  name_en: Total truck emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - dimension: vehicle_type
      categories: [trucks]
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Vans

- id: van_kilometers
  name: Pakettiautosuorite
  name_en: Van kilometers
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, scope]
  output_dimensions: [vehicle_type, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: mileage
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - column: ghg
    - dimension: vehicle_type
      categories: [vans]
  output_nodes:
  - id: van_emissions
    to_dimensions:
    - id: vehicle_type
    - id: scope

- id: van_emissions
  name: Pakettiautoliikenteen päästöt
  name_en: Van emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  output_nodes:
  - id: van_emissions_total

- id: van_emissions_total
  name: Pakettiautoliikenteen kokonaispäästöt
  name_en: Total van emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  input_datasets:
  - id: tampere/onroad_transportation
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: ii11
    - dimension: vehicle_type
      categories: [vans]
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- INDUSTRY & MACHINERY --------------------------------------------------

- id: industry_and_machinery_emissions
  name: Teollisuuden ja työkoneiden päästöt
  name_en: Industry and machinery emissions
  color: '#E8B455'
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt_co2e/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  input_datasets:
  - id: tampere/stationary
    column: emissions
    dropna: true
    forecast_from: 2024
    filters:
    - column: sector
      value: i31
    - column: energy_carrier
    - column: owner
    - column: heating
    - column: cost_type
  input_dataset_processors: [LinearInterpolation]
  output_nodes:
  - id: net_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- LED STREETLIGHT DETAILED ACTION MODULE --------------------------------

- id: baseline_streetlights
  name: Baseline Streetlights
  type: gpc.DetailedDatasetNode
  quantity: number
  unit: count
  input_dimensions: [streetlight_type]
  output_dimensions: [streetlight_type]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: streetlights

- id: annual_new_streetlights
  name: Annual New Streetlights
  type: gpc.DetailedDatasetNode
  quantity: number
  unit: count/a
  input_dimensions: [streetlight_type]
  output_dimensions: [streetlight_type]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: streetlights
    tags: [cumulative]
  - id: new_streetlight_costs
    to_dimensions:
    - id: streetlight_type

- id: streetlights
  name: Streetlights
  type: simple.AdditiveNode
  quantity: number
  unit: count
  input_dimensions: [streetlight_type]
  output_dimensions: [streetlight_type]
  output_nodes:
  - id: streetlight_energy_consumption
    to_dimensions:
    - id: streetlight_type
  - id: maintenance_costs
    to_dimensions:
    - id: streetlight_type

- id: new_streetlight_unit_costs
  name: New Streetlight Unit Costs
  type: gpc.DetailedDatasetNode
  quantity: unit_price
  unit: EUR/count
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: new_streetlight_costs

- id: new_streetlight_costs
  name: New Streetlight Costs
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]

- id: streetlight_energy_factor
  name: Streetlight Energy Factor
  type: gpc.DetailedDatasetNode
  quantity: energy_factor
  unit: kWh/count/a
  input_dimensions: [streetlight_type, energy_carrier]
  output_dimensions: [streetlight_type, energy_carrier]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: streetlight_energy_consumption
    tags: [non_additive]

- id: streetlight_energy_consumption
  name: Streetlight Energy Consumption
  type: simple.MultiplicativeNode
  quantity: energy
  unit: kWh/a
  input_dimensions: [streetlight_type, energy_carrier]
  output_dimensions: [streetlight_type, energy_carrier]
  output_nodes:
  - id: energy_costs
    to_dimensions:
    - id: streetlight_type
    - id: energy_carrier
  - id: energy_consumption_emissions
    to_dimensions:
    - id: streetlight_type
    - id: energy_carrier

- id: energy_unit_costs
  name: Energy Unit Costs
  type: gpc.DetailedDatasetNode
  quantity: unit_price
  unit: EUR/kWh
  input_dimensions: [cost_type, energy_carrier]
  output_dimensions: [cost_type, energy_carrier]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: energy_costs
    to_dimensions:
    - id: cost_type
    - id: energy_carrier

- id: energy_costs
  name: Energy Costs
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [streetlight_type, cost_type, energy_carrier]
  output_dimensions: [streetlight_type, cost_type, energy_carrier]

- id: maintenance_unit_costs
  name: Maintenance Unit Costs
  type: gpc.DetailedDatasetNode
  quantity: unit_price
  unit: EUR/count/a
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: maintenance_costs
    tags: [non_additive]

- id: maintenance_costs
  name: Maintenance Costs
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]

- id: energy_emission_factor
  name: Energy Emission Factor
  type: gpc.DetailedDatasetNode
  quantity: emission_factor
  unit: kg/kWh
  input_dimensions: [energy_carrier, ghg]
  output_dimensions: [energy_carrier, ghg]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: energy_consumption_emissions
    to_dimensions:
    - id: energy_carrier
    - id: ghg

- id: energy_consumption_emissions
  name: Energy Consumption Emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: t/a
  input_dimensions: [streetlight_type, energy_carrier, ghg]
  output_dimensions: [streetlight_type, energy_carrier, ghg]

- id: streetlight_total_costs
  name: Streetlight Total Costs
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type]
  output_dimensions: [cost_type]
  input_nodes:
  - id: new_streetlight_costs
    from_dimensions:
    - id: streetlight_type
      flatten: true
  - id: energy_costs
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: streetlight_type
      flatten: true
  - id: maintenance_costs
    from_dimensions:
    - id: streetlight_type
      flatten: true

# ----- ECONOMY ---------------------------------------------------------------

- id: energy_unit_prices
  name: Energy unit prices
  name_en: Energy unit prices
  type: simple.AdditiveNode
  quantity: unit_price
  unit: EUR/kWh
  input_dimensions: [energy_carrier, owner, cost_type]
  output_dimensions: [energy_carrier, owner, cost_type]
  output_nodes:
  - id: energy_cost_reductions
    to_dimensions:
    - id: energy_carrier
    - id: owner
    - id: cost_type
  - id: energy_cost_increases
    to_dimensions:
    - id: energy_carrier
    - id: owner
    - id: cost_type

- id: carbon_unit_price
  name: Hiilen varjohinta
  name_en: Shadow cost of carbon
  type: simple.AdditiveNode
  quantity: unit_price
  unit: EUR/t_co2e
  input_dimensions: []
  output_dimensions: []
  forecast_values: [[2024, 148], [2025, 165], [2026, 182], [2027, 199],
    [2028, 216], [2029, 233], [2030, 250]]
  output_nodes:
  - id: energy_emissions_cost_reductions
    to_dimensions:
    - id: cost_type
      categories: [carbon_shadow]
    - id: owner
      categories: [society]
  - id: energy_emissions_cost_increases
    to_dimensions:
    - id: cost_type
      categories: [carbon_shadow]
    - id: owner
      categories: [society]
  - id: transport_emissions_cost_reductions
    to_dimensions:
    - id: cost_type
      categories: [carbon_shadow]
    - id: owner
      categories: [society]
  - id: transport_emissions_cost_increases
    to_dimensions:
    - id: cost_type
      categories: [carbon_shadow]
    - id: owner
      categories: [society]
  - id: emissions_cost_reductions
    to_dimensions:
    - id: cost_type
      categories: [carbon_shadow]
    - id: owner
      categories: [society]
  - id: emissions_cost_increases
    to_dimensions:
    - id: cost_type
      categories: [carbon_shadow]
    - id: owner
      categories: [society]

- id: net_price
  name: Kokonaiskustannus
  name_en: Net cost
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner]
  output_dimensions: [cost_type, owner]
  order: 2
  is_outcome: true
  output_nodes:
  - id: net_cost
    tags: [currency]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true

- id: net_cost
  name: Nettokustannus
  name_en: Net cost
  type: simple.DiscountNode
  quantity: currency
  unit: EUR/a
  input_dimensions: []
  output_dimensions: []
  params:
    start_year: 2026

- id: building_heating_price
  name: Rakennusten lämmityksen kustannukset
  name_en: Building heating cost
  type: simple.AdditiveNode
  color: '#AD3963'
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner]
  output_dimensions: [cost_type, owner]
  output_nodes:
  - id: net_price

- id: transportation_price
  name: Liikenteen kustannukset
  name_en: Transportation cost
  type: simple.AdditiveNode
  color: '#668EC9'
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner]
  output_dimensions: [cost_type, owner]
  output_nodes:
  - id: net_price

- id: industry_and_machinery_price
  name: Teollisuuden ja työkoneiden kustannukset
  name_en: Industry and machinery cost
  type: simple.AdditiveNode
  color: '#E8B455'
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner]
  output_dimensions: [cost_type, owner]
  output_nodes:
  - id: net_price

- id: electricity_consumption_price
  name: Sähkön kulutuksen kustannukset
  name_en: Electricity consumption cost
  type: simple.AdditiveNode
  color: '#F4D240'
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner]
  output_dimensions: [cost_type, owner]
  output_nodes:
  - id: net_price

# ----- COSTS & BENEFITS ------------------------------------------------------

# ----- Direct

- id: annuitized_costs
  name: Annuitized Costs
  name_en: Annuitized Costs
  type: simple.AnnuityNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: building_heating_price
    from_dimensions:
    - id: action
      categories: [additional_investments_in_naistenlahti_3, electric_boiler_and_district_heat_battery]
      flatten: true
  - id: electricity_consumption_price
    from_dimensions:
    - id: action
      categories: [building_renewable_electricity_production_pv]
      flatten: true
  - id: transportation_price
    from_dimensions:
    - id: action
      categories: [change_in_vehicle_propulsion, promoting_walking_and_cycling, tramline_3_construction]
      flatten: true

- id: total_costs
  name: Kokonaiskustannukset
  name_en: Total costs
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: aggregate_total_costs
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: action
      flatten: true
    to_dimensions: []

- id: aggregate_total_costs
  name: Kustannusten kokonaismäärä
  name_en: Aggregate total costs
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: []
  output_dimensions: []
  output_nodes:
  - id: cost_benefit_analysis
    to_dimensions:
    - id: cost_benefit
      categories: [cost]

- id: total_benefits
  name: Kokonaishyödyt
  name_en: Total benefits
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: aggregate_total_benefits
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: action
      flatten: true
    to_dimensions: []

- id: aggregate_total_benefits
  name: Hyötyjen kokonaismäärä
  name_en: Aggregate total benefits
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: []
  output_dimensions: []
  output_nodes:
  - id: cost_benefit_analysis
    to_dimensions:
    - id: cost_benefit
      categories: [benefit]

- id: cost_benefit_analysis
  name: Kustannukset ja hyödyt
  name_en: Cost-benefit analysis
  type: simple.AdditiveNode
  quantity: currency
  unit: kEUR/a
  input_dimensions: [cost_benefit]
  output_dimensions: [cost_benefit]

# ----- Energy

- id: energy_consumption_impacts
  name: Energy consumption impacts
  name_en: Energy consumption impacts
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [energy_carrier, action]
  output_dimensions: [energy_carrier, action]
  output_nodes:
  - id: energy_cost_reductions
    tags: [make_nonpositive]
    to_dimensions:
    - id: energy_carrier
    - id: action
  - id: energy_cost_increases
    tags: [make_nonnegative]
    to_dimensions:
    - id: energy_carrier
    - id: action
  - id: heating_emissions_impacts
    from_dimensions:
    - id: energy_carrier
      categories: [district_heat, fuel_oil, natural_gas]
    to_dimensions:
    - id: energy_carrier
    - id: action
  - id: electricity_emissions_impacts
    from_dimensions:
    - id: energy_carrier
      categories: [electricity]
    to_dimensions:
    - id: energy_carrier
    - id: action

- id: energy_cost_reductions
  name: Energy cost reductions
  name_en: Energy cost reductions
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [energy_carrier, owner, cost_type, action]
  output_dimensions: [energy_carrier, owner, cost_type, action]
  output_nodes:
  - id: total_benefits
    from_dimensions:
    - id: energy_carrier
      flatten: true
    to_dimensions:
    - id: owner
    - id: cost_type
    - id: action

- id: energy_cost_increases
  name: Energy cost increases
  name_en: Energy cost increases
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [energy_carrier, owner, cost_type, action]
  output_dimensions: [energy_carrier, owner, cost_type, action]
  output_nodes:
  - id: total_costs
    from_dimensions:
    - id: energy_carrier
      flatten: true
    to_dimensions:
    - id: owner
    - id: cost_type
    - id: action

- id: heating_emissions_impacts
  name: Heating fuel emissions impacts
  name_en: Heating fuel emissions impacts
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [energy_carrier, ghg, scope, action]
  output_dimensions: [energy_carrier, ghg, scope, action]
  output_nodes:
  - id: energy_emissions_reductions
    tags: [make_nonpositive]
  - id: energy_emissions_increases
    tags: [make_nonnegative]

- id: electricity_emissions_impacts
  name: Electricity emissions impacts
  name_en: Electricity emissions impacts
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [energy_carrier, ghg, scope, action]
  output_dimensions: [energy_carrier, ghg, scope, action]
  output_nodes:
  - id: energy_emissions_reductions
    tags: [make_nonpositive]
  - id: energy_emissions_increases
    tags: [make_nonnegative]

- id: energy_emissions_reductions
  name: Energian päästövähennykset
  name_en: Energy emissions reductions
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [energy_carrier, ghg, scope, action]
  output_dimensions: [energy_carrier, ghg, scope, action]
  output_nodes:
  - id: energy_emissions_cost_reductions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action

- id: energy_emissions_cost_reductions
  name: Energian päästöjen kustannussäästöt
  name_en: Energy emissions cost reductions
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: total_benefits

- id: energy_emissions_increases
  name: Energy emissions increases
  name_en: Energy emissions increases
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [energy_carrier, ghg, scope, action]
  output_dimensions: [energy_carrier, ghg, scope, action]
  output_nodes:
  - id: energy_emissions_cost_increases
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action

- id: energy_emissions_cost_increases
  name: Energy emissions cost increases
  name_en: Energy emissions cost increases
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: total_costs

# ----- Mileage

- id: transport_kilometer_impacts
  name: Kilometer impacts
  name_en: Kilometer impacts
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, action]
  output_dimensions: [vehicle_type, action]
  output_nodes:
  - id: onroad_emissions_impacts
    from_dimensions:
    - id: vehicle_type
      categories: [passenger_cars, buses, motorcycles, trucks, vans]
    to_dimensions:
    - id: vehicle_type
    - id: action
  - id: rail_emissions_impacts
    from_dimensions:
    - id: vehicle_type
      categories: [local_trains, trams]
    to_dimensions:
    - id: vehicle_type
    - id: action

- id: onroad_emissions_impacts
  name: On-road emissions impacts
  name_en: On-road emissions impacts
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [vehicle_type, ghg, scope, action]
  output_dimensions: [vehicle_type, ghg, scope, action]
  output_nodes:
  - id: transport_emissions_reductions
    tags: [make_nonpositive]
  - id: transport_emissions_increases
    tags: [make_nonnegative]

- id: rail_emissions_impacts
  name: Rail emissions impacts
  name_en: Rail emissions impacts
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [vehicle_type, ghg, scope, action]
  output_dimensions: [vehicle_type, ghg, scope, action]
  output_nodes:
  - id: transport_emissions_reductions
    tags: [make_nonpositive]
  - id: transport_emissions_increases
    tags: [make_nonnegative]

- id: transport_emissions_reductions
  name: Transport emissions reductions
  name_en: Transport emissions reductions
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [vehicle_type, ghg, scope, action]
  output_dimensions: [vehicle_type, ghg, scope, action]
  output_nodes:
  - id: transport_emissions_cost_reductions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action

- id: transport_emissions_increases
  name: Transport emissions increases
  name_en: Transport emissions increases
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [vehicle_type, ghg, scope, action]
  output_dimensions: [vehicle_type, ghg, scope, action]
  output_nodes:
  - id: transport_emissions_cost_increases
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action

- id: transport_emissions_cost_reductions
  name: Transport emissions cost reductions
  name_en: Transport emissions cost reductions
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: total_benefits

- id: transport_emissions_cost_increases
  name: Transport emissions cost increases
  name_en: Transport emissions cost increases
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: total_costs

# ----- Emissions

- id: emissions_impacts
  name: Emissions impacts
  name_en: Emissions impacts
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [action]
  output_dimensions: [action]
  output_nodes:
  - id: emissions_reductions
    tags: [make_nonpositive]
  - id: emissions_increases
    tags: [make_nonnegative]

- id: emissions_reductions
  name: Emissions reductions
  name_en: Emissions reductions
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [action]
  output_dimensions: [action]
  output_nodes:
  - id: emissions_cost_reductions
    to_dimensions:
    - id: action

- id: emissions_increases
  name: Emissions increases
  name_en: Emissions increases
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  input_dimensions: [action]
  output_dimensions: [action]
  output_nodes:
  - id: emissions_cost_increases
    to_dimensions:
    - id: action

- id: emissions_cost_reductions
  name: Emissions cost reductions
  name_en: Emissions cost reductions
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: total_benefits

- id: emissions_cost_increases
  name: Emissions cost increases
  name_en: Emissions cost increases
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: total_costs


# ----- Outcome

- id: electrify_public_transportation_cost_benefit
  name: Bussiliikenteen käyttövoimamuutos
  name_en: Change in the propulsion of bus fleet
  color: '#668EC9'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [change_in_the_propulsion_of_bus_fleet]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [change_in_the_propulsion_of_bus_fleet]
  output_nodes:
  - id: transportation_cost_benefit

- id: change_in_vehicle_propulsion_of_private_cars_cost_benefit
  name: Henkilöautoliikenteen käyttövoimamuutos
  name_en: Change in vehicle propulsion of private cars
  color: '#668EC9'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [change_in_vehicle_propulsion]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [change_in_vehicle_propulsion]
  output_nodes:
  - id: transportation_cost_benefit

- id: promoting_walking_and_cycling_cost_benefit
  name: Pyöräilyn edistäminen
  name_en: Promoting cycling
  color: '#668EC9'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [promoting_walking_and_cycling]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [promoting_walking_and_cycling]
  output_nodes:
  - id: transportation_cost_benefit

- id: tramline_3_construction_cost_benefit
  name: Ratikan 3. rakennusvaihe (2028-2030)
  name_en: Tramline 3 construction (2028-2030)
  color: '#668EC9'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [tramline_3_construction]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [tramline_3_construction]
  output_nodes:
  - id: transportation_cost_benefit

- id: transportation_cost_benefit
  name: Liikenne kustannukset ja hyödyt
  name_en: Transportation costs and benefits
  short_name: Liikenne
  short_name_en: Transportation
  color: '#668EC9'
  type: simple.AdditiveNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: cost_benefit


- id: aahps_in_municipal_building_stock_cost_benefit
  name: Ilmalämpöpumppuinvestoinnit koko kaupungin rakennuskannassa
  name_en: Air-to-air heat pump investments across the municipal building stock
  color: '#AD3963'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [aahps_in_municipal_building_stock]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [aahps_in_municipal_building_stock]
  output_nodes:
  - id: building_heating_cost_benefit

- id: geothermal_and_awhps_in_municipal_building_stock_cost_benefit
  name: Öljylämmityksestä luopuminen koko kaupungin rakennuskannassa
  name_en: Replacing oil heating across the municipal building stock
  color: '#AD3963'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [geothermal_and_awhps_in_municipal_building_stock]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [geothermal_and_awhps_in_municipal_building_stock]
  output_nodes:
  - id: building_heating_cost_benefit

- id: energy_efficiency_renovations_in_buildings_cost_benefit
  name: Korjausrakentaminen kaupungin kiinteistössä
  name_en: Energy efficiency renovations in city's building stock
  color: '#AD3963'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [energy_efficiency_renovations_in_city_buildings]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [energy_efficiency_renovations_in_city_buildings]
  output_nodes:
  - id: building_heating_cost_benefit

- id: additional_investments_in_naistenlahti_3_cost_benefit
  name: Naistenlahti 3 -voimalaitoksen lisäinvestoinnit
  name_en: Additional investments in Naistenlahti 3
  color: '#AD3963'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [additional_investments_in_naistenlahti_3]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [additional_investments_in_naistenlahti_3]
  output_nodes:
  - id: building_heating_cost_benefit

- id: electric_boiler_and_district_heat_battery_cost_benefit
  name: Sähkökattila ja kaukolämpöakku
  name_en: Electric boiler and district heat battery
  color: '#AD3963'
  type: formula.FormulaNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  params:
    formula: total_costs + total_benefits
  input_nodes:
  - id: total_costs
    from_dimensions:
    - id: action
      categories: [electric_boiler_and_district_heat_battery]
  - id: total_benefits
    from_dimensions:
    - id: action
      categories: [electric_boiler_and_district_heat_battery]
  output_nodes:
  - id: building_heating_cost_benefit

- id: building_heating_cost_benefit
  name: Rakennuksen lämmitys kustannukset ja hyödyt
  name_en: Building heating costs and benefits
  short_name: Rakennuksen lämmitys
  short_name_en: Building heating
  color: '#AD3963'
  type: simple.AdditiveNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]
  output_nodes:
  - id: cost_benefit


- id: cost_benefit
  name: Kustannukset ja hyödyt
  name_en: Costs and benefits
  type: simple.AdditiveNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [cost_type, owner, action]
  output_dimensions: [cost_type, owner, action]

# ----- TEMPORARY -------------------------------------------------------------

- id: reduce_electricity_emission_factors
  name: Reduce electricity emission factors
  name_en: Reduce electricity emission factors
  type: simple.FixedMultiplierNode
  quantity: emission_factor
  unit: t_co2e/GWh
  input_dimensions: ['energy_carrier', 'ghg', 'heating']
  output_dimensions: ['energy_carrier', 'ghg', 'heating']
  params:
  - id: multiplier
    value: 1.0
    unit: t_co2e/t
  output_nodes:
  - id: heating_emission_factors
    to_dimensions:
    - id: energy_carrier
    - id: ghg
    - id: heating
    - id: scope
      categories: ['scope2']
  - id: industrial_electricity_emission_factors
    from_dimensions:
    - id: heating
      categories: ['direct_electric_heat']
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: ghg
    - id: scope
      categories: ['scope2']
  - id: other_electricity_emission_factors
    from_dimensions:
    - id: heating
      categories: ['direct_electric_heat']
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: ghg
    - id: scope
      categories: ['scope2']

- id: electrify_public_transportation_emissions
  name: Vaikutus (Päästöt)
  name_en: Impact (Emissions)
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: electrify_public_transportation_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: change_in_vehicle_propulsion_of_private_cars_emissions
  name: Vaikutus (Päästöt)
  name_en: Impact (Emissions)
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: change_in_vehicle_propulsion_of_private_cars_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: promoting_walking_and_cycling_mileage
  name: Vaikutus (Suorite)
  name_en: Impact (Mileage)
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: promoting_walking_and_cycling_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: tramline_3_construction_car_mileage
  name: Vaikutus (Suorite, Henkilöauto)
  name_en: Impact (Car Mileage)
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: tramline_3_construction_tram_mileage
  name: Vaikutus (Suorite, Ratikka)
  name_en: Impact (Tram Mileage)
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mvkm/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: tramline_3_construction_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 5
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: energy_efficiency_renovations_in_buildings_district_heating
  name: Vaikutus (Energiaa, Kaukolämpö)
  name_en: Impact (District Heating)
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: energy_efficiency_renovations_in_buildings_electricity
  name: Vaikutus (Energiaa, Sähkö)
  name_en: Impact (Electricity)
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: energy_efficiency_renovations_in_buildings_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 5
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: build_renewable_electricity_production_energy
  name: Vaikutus (Energiaa)
  name_en: Impact (Energy)
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: build_renewable_electricity_production_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: change_streetlights_to_led_energy
  name: Vaikutus (Energiaa)
  name_en: Impact (Energy)
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: change_streetlights_to_led_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: energy_efficiency_of_new_construction_district_heating
  name: Vaikutus (Energiaa, Kaukolämpö)
  name_en: Impact (District Heating)
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: energy_efficiency_of_new_construction_electricity
  name: Vaikutus (Energiaa, Sähkö)
  name_en: Impact (Electricity)
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: energy_efficiency_of_new_construction_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 5
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: replacing_fossil_fuels_with_res_in_city_machinery_emissions
  name: Vaikutus (Päästöt)
  name_en: Impact (Emissions)
  type: simple.AdditiveNode
  quantity: emissions
  unit: t_co2e/a
  order: 3
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

- id: replacing_fossil_fuels_with_res_in_city_machinery_currency
  name: Vaikutus (Kustannus)
  name_en: Impact (Costs)
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  order: 4
  is_outcome: true
  input_dimensions: []
  output_dimensions: []

# ----- ACTIONS ---------------------------------------------------------------

actions:
# ----- Liikenne
- id: electrify_public_transportation
  name: Bussiliikenteen käyttövoimamuutos
  name_en: Change in the propulsion of bus fleet
  type: simple.AdditiveAction
  group: transportation
  input_dimensions: [action, cost_type, owner, vehicle_type, ghg, scope]
  output_dimensions: [action, cost_type, owner, vehicle_type, ghg, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/transportation_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [change_in_the_propulsion_of_bus_fleet]
  output_metrics:
  - id: emissions
    unit: t_co2e/a
    quantity: emissions
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: bus_emissions_total
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: vehicle_type
    - id: ghg
    - id: scope
  - id: emissions_impacts
    metrics: [emissions]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
  - id: transportation_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: electrify_public_transportation_emissions
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
  - id: electrify_public_transportation_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: change_in_vehicle_propulsion_of_private_cars
  name: Henkilöautoliikenteen käyttövoimamuutos
  name_en: Change in vehicle propulsion of private cars
  type: simple.AdditiveAction
  group: transportation
  input_dimensions: [action, cost_type, owner, vehicle_type, ghg, scope]
  output_dimensions: [action, cost_type, owner, vehicle_type, ghg, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/transportation_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [change_in_vehicle_propulsion]
  output_metrics:
  - id: emissions
    unit: t_co2e/a
    quantity: emissions
  - id: currency
    unit: EUR/a
    quantity: currency
  - id: term
    unit: a
    quantity: number
  output_nodes:
  - id: car_emissions_total
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: vehicle_type
    - id: ghg
    - id: scope
  - id: emissions_impacts
    metrics: [emissions]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
  - id: transportation_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      categories: [investment]
      exclude: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: annuitized_costs
    metrics: [currency, term]
    from_dimensions:
    - id: cost_type
      categories: [investment]
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: change_in_vehicle_propulsion_of_private_cars_emissions
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
  - id: change_in_vehicle_propulsion_of_private_cars_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: improving_the_service_level_of_public_transport
  name: Joukkoliikenteen palvelutason nosto
  name_en: Improving the service level of public transport
  type: simple.AdditiveAction
  group: transportation
  unit: Mvkm/a
  quantity: mileage
  input_dimensions: [action, vehicle_type, scope]
  output_dimensions: [action, vehicle_type, scope]
  input_datasets:
  - id: tampere/transportation_actions
    column: mileage
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [improving_the_service_level_of_public_transport]
    - column: owner
    - column: ghg
    - column: cost_type
  output_nodes:
  - id: car_kilometers
    from_dimensions:
    - id: action
      flatten: true
    to_dimensions:
    - id: vehicle_type
    - id: scope
  - id: transport_kilometer_impacts
    from_dimensions:
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: vehicle_type

- id: promoting_walking_and_cycling
  name: Kävelyn ja pyöräilyn edistäminen
  name_en: Promoting walking and cycling
  type: simple.AdditiveAction
  group: transportation
  input_dimensions: [action, cost_type, owner, vehicle_type, scope]
  output_dimensions: [action, cost_type, owner, vehicle_type, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/transportation_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [promoting_walking_and_cycling]
    - column: ghg
  output_metrics:
  - id: mileage
    unit: Mvkm/a
    quantity: mileage
  - id: currency
    unit: EUR/a
    quantity: currency
  - id: term
    unit: a
    quantity: number
  output_nodes:
  - id: car_kilometers
    metrics: [mileage]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: vehicle_type
    - id: scope
  - id: transport_kilometer_impacts
    metrics: [mileage]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: vehicle_type
  - id: transportation_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      categories: [investment]
      exclude: true
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: annuitized_costs
    metrics: [currency, term]
    from_dimensions:
    - id: cost_type
      categories: [investment]
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: promoting_walking_and_cycling_mileage
    metrics: [mileage]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
  - id: promoting_walking_and_cycling_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true

- id: parking_policy_to_support_sustainable_mobility
  name: Kestävää liikkumista tukeva pysäköintipolitiikka
  name_en: Parking policy to support sustainable mobility
  type: simple.AdditiveAction
  group: transportation
  unit: Mvkm/a
  quantity: mileage
  input_dimensions: [action, vehicle_type, scope]
  output_dimensions: [action, vehicle_type, scope]
  input_datasets:
  - id: tampere/transportation_actions
    column: mileage
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [parking_policy_to_support_sustainable_mobility]
    - column: owner
    - column: ghg
    - column: cost_type
  output_nodes:
  - id: car_kilometers
    from_dimensions:
    - id: action
      flatten: true
    to_dimensions:
    - id: vehicle_type
    - id: scope
  - id: transport_kilometer_impacts
    from_dimensions:
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: vehicle_type

- id: tramline_3_construction
  name: Ratikan 3 vaihe (2028-2030)
  name_en: Tramline 3 construction (2028-2030)
  type: simple.AdditiveAction
  group: transportation
  input_dimensions: [action, cost_type, owner, vehicle_type, scope]
  output_dimensions: [action, cost_type, owner, vehicle_type, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/transportation_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [tramline_3_construction]
    - column: ghg
  output_metrics:
  - id: mileage
    unit: Mvkm/a
    quantity: mileage
  - id: currency
    unit: EUR/a
    quantity: currency
  - id: term
    unit: a
    quantity: number
  output_nodes:
  - id: car_kilometers
    metrics: [mileage]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      categories: [passenger_cars]
    to_dimensions:
    - id: vehicle_type
    - id: scope
  - id: tram_kilometers
    metrics: [mileage]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      categories: [trams]
    to_dimensions:
    - id: vehicle_type
    - id: scope
    - id: energy_carrier
      categories: [electricity]
  - id: transport_kilometer_impacts
    metrics: [mileage]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: vehicle_type
  - id: transportation_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      categories: [investment]
      exclude: true
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: annuitized_costs
    metrics: [currency, term]
    from_dimensions:
    - id: cost_type
      categories: [investment]
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: tramline_3_construction_car_mileage
    metrics: [mileage]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      categories: [passenger_cars]
      flatten: true
    - id: scope
      flatten: true
  - id: tramline_3_construction_tram_mileage
    metrics: [mileage]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      categories: [trams]
      flatten: true
    - id: scope
      flatten: true
  - id: tramline_3_construction_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: scope
      flatten: true

# ----- Rakennuksen Lämmitys
- id: aahps_in_municipal_building_stock
  name: AAHPs in municipal building stock
  name_en: AAHPs in municipal building stock
  type: simple.AdditiveAction
  group: building_heating
  input_dimensions: [action, cost_type, owner, heating, energy_carrier, scope]
  output_dimensions: [action, cost_type, owner, heating, energy_carrier, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [aahps_in_municipal_building_stock]
    - column: ghg
  output_metrics:
  - id: energy
    unit: GWh/a
    quantity: energy
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: direct_electric_heating_electricity_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: energy_consumption_impacts
    metrics: [energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: energy_carrier
  - id: building_heating_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner

- id: geothermal_and_awhps_in_municipal_building_stock
  name: Geothermal and AWHPs in municipal building stock
  name_en: Geothermal and AWHPs in municipal building stock
  type: simple.AdditiveAction
  group: building_heating
  input_dimensions: [action, cost_type, owner, heating, energy_carrier, scope]
  output_dimensions: [action, cost_type, owner, heating, energy_carrier, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [geothermal_and_awhps_in_municipal_building_stock]
    - column: ghg
  output_metrics:
  - id: energy
    unit: GWh/a
    quantity: energy
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: direct_electric_heating_electricity_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      categories: [direct_electric_heat]
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: geothermal_heating_electricity_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      categories: [geothermal]
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: oil_heating_energy_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      categories: [fuel_oil]
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: energy_consumption_impacts
    metrics: [energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: energy_carrier
  - id: building_heating_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner

- id: waste_heat_recovery_in_district_heating
  name: Hukkalämpöjen talteenotto kaukolämmityksen tukena
  name_en: Waste heat recovery in district heating
  type: simple.AdditiveAction
  group: building_heating
  quantity: emission_factor
  unit: t_co2e/GWh
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  input_datasets:
  - id: tampere/stationary_actions
    column: emission_factor
    forecast_from: 2024
    filters:
    - column: sector
    - column: action
      value: waste_heat_recovery_in_district_heating
    - column: cost_type
    - column: owner
  output_nodes:
  - id: heating_emission_factors

- id: energy_efficiency_renovations_in_buildings
  name: Korjausrakentaminen kaupungin kiinteistössä
  name_en: Energy efficiency renovations in city's building stock
  type: simple.AdditiveAction
  group: building_heating
  input_dimensions: [action, cost_type, owner, heating, energy_carrier, scope]
  output_dimensions: [action, cost_type, owner, heating, energy_carrier, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [energy_efficiency_renovations_in_city_buildings]
    - column: ghg
  output_metrics:
  - id: energy
    unit: GWh/a
    quantity: energy
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: district_heating_energy_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      categories: [district_heat]
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: other_electricity_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      categories: [district_heat]
      exclude: true
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: energy_consumption_impacts
    metrics: [energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: energy_carrier
  - id: building_heating_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: energy_efficiency_renovations_in_buildings_district_heating
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      categories: [district_heat]
      flatten: true
    - id: scope
      flatten: true
  - id: energy_efficiency_renovations_in_buildings_electricity
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      categories: [electricity]
      flatten: true
    - id: scope
      flatten: true
  - id: energy_efficiency_renovations_in_buildings_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: additional_investments_in_naistenlahti_3
  name: Naistenlahti 3 -voimalaitoksen lisäinvestoinnit
  name_en: Additional investments in Naistenlahti 3
  type: simple.AdditiveAction
  group: building_heating
  input_dimensions: [action, cost_type, owner, heating, energy_carrier, ghg, scope]
  output_dimensions: [action, cost_type, owner, heating, energy_carrier, ghg, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [additional_investments_in_naistenlahti_3]
  output_metrics:
  - id: emission_factor
    unit: t_co2e/GWh
    quantity: emission_factor
  - id: currency
    unit: EUR/a
    quantity: currency
  - id: term
    unit: a
    quantity: number
  output_nodes:
  - id: heating_emission_factors
    metrics: [emission_factor]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: ghg
    - id: scope
  - id: building_heating_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      categories: [investment]
      exclude: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: annuitized_costs
    metrics: [currency, term]
    from_dimensions:
    - id: cost_type
      categories: [investment]
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner

- id: electric_boiler_and_district_heat_battery
  name: Sähkökattila ja kaukolämpöakku
  name_en: Electric boiler and district heat battery
  type: simple.AdditiveAction
  group: building_heating
  input_dimensions: [action, cost_type, owner, heating, energy_carrier, ghg, scope]
  output_dimensions: [action, cost_type, owner, heating, energy_carrier, ghg, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [electric_boiler_and_district_heat_battery]
  output_metrics:
  - id: emission_factor
    unit: t_co2e/GWh
    quantity: emission_factor
  - id: currency
    unit: EUR/a
    quantity: currency
  - id: term
    unit: a
    quantity: number
  output_nodes:
  - id: heating_emission_factors
    metrics: [emission_factor]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: ghg
    - id: scope
  - id: building_heating_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      categories: [investment]
      exclude: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: annuitized_costs
    metrics: [currency, term]
    from_dimensions:
    - id: cost_type
      categories: [investment]
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner

- id: smart_grid_and_virtual_power_plant_development
  name: Älykäs energiaverkko ja virtuaalilaitoksen kehitys
  name_en: Smart grid and virtual power plant development
  type: simple.AdditiveAction
  group: building_heating
  input_dimensions: [action, cost_type, owner, heating, energy_carrier, ghg, scope]
  output_dimensions: [action, cost_type, owner, heating, energy_carrier, ghg, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [smart_grid_and_virtual_power_plant_development]
  output_metrics:
  - id: emission_factor
    unit: t_co2e/GWh
    quantity: energy
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: heating_emission_factors
    metrics: [emission_factor]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: ghg
    - id: scope
  - id: building_heating_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner

# ----- Sähkön Kulutus
- id: build_renewable_electricity_production
  name: Hajautettu uusiutuva energia (aurinkosähkö)
  name_en: Building renewable electricity production (PV)
  type: simple.AdditiveAction
  group: electricity_consumption
  input_dimensions: [action, cost_type, owner, energy_carrier, scope]
  output_dimensions: [action, cost_type, owner, energy_carrier, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [building_renewable_electricity_production_pv]
    - column: ghg
    - column: heating
  output_metrics:
  - id: energy
    unit: GWh/a
    quantity: energy
  - id: currency
    unit: EUR/a
    quantity: currency
  - id: term
    unit: a
    quantity: number
  output_nodes:
  - id: other_electricity_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: energy_consumption_impacts
    metrics: [energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: energy_carrier
  - id: electricity_consumption_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      categories: [investment]
      exclude: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: annuitized_costs
    metrics: [currency, term]
    from_dimensions:
    - id: cost_type
      categories: [investment]
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: build_renewable_electricity_production_energy
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
  - id: build_renewable_electricity_production_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: change_streetlights_to_led
  name: Katuvalaistuksen vaihtaminen LED-valaisimiksi
  name_en: Replacing street lighting with LEDs
  type: simple.AdditiveAction
  group: electricity_consumption
  input_dimensions: [action, cost_type, owner, energy_carrier, scope]
  output_dimensions: [action, cost_type, owner, energy_carrier, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [replacing_street_lighting_with_leds]
    - column: ghg
    - column: heating
  output_metrics:
  - id: energy
    unit: GWh/a
    quantity: energy
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: other_electricity_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: energy_consumption_impacts
    metrics: [energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: energy_carrier
  - id: electricity_consumption_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: change_streetlights_to_led_energy
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
  - id: change_streetlights_to_led_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

- id: energy_efficiency_of_new_construction
  name: Uusien rakennusten energiatehokkuustoimet
  name_en: Energy efficiency measures for new construction projects
  type: simple.AdditiveAction
  group: electricity_consumption
  input_dimensions: [action, cost_type, owner, heating, energy_carrier, scope]
  output_dimensions: [action, cost_type, owner, heating, energy_carrier, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [energy_efficiency_measures_for_new_construction]
    - column: ghg
  output_metrics:
  - id: energy
    unit: GWh/a
    quantity: energy
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: district_heating_energy_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      categories: [district_heat]
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: other_electricity_consumption
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      categories: [district_heat]
      exclude: true
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: energy_consumption_impacts
    metrics: [energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: energy_carrier
  - id: building_heating_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: energy_efficiency_of_new_construction_district_heating
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      categories: [district_heat]
      flatten: true
    - id: scope
      flatten: true
  - id: energy_efficiency_of_new_construction_electricity
    metrics: [energy]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      categories: [electricity]
      flatten: true
    - id: scope
      flatten: true
  - id: energy_efficiency_of_new_construction_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true

# ----- Teollisuus ja Työkoneet
- id: replacing_fossil_fuels_with_res_in_city_machinery
  name: Fossiilisista polttoaineista luopuminen kaupungin työkoneissa
  name_en: Replacing fossil fuels with renewables in the city's own machinery
  type: simple.AdditiveAction
  group: industry_and_machinery
  input_dimensions: [action, cost_type, owner, ghg, scope]
  output_dimensions: [action, cost_type, owner, ghg, scope]
  params:
    allow_null_categories: true
  input_datasets:
  - id: tampere/stationary_actions
    forecast_from: 2024
    filters:
    - column: sector
    - dimension: action
      categories: [replacing_fossil_fuels_with_res_in_city_machinery]
    - column: heating
    - column: energy_carrier
  output_metrics:
  - id: emissions
    unit: t_co2e/a
    quantity: emissions
  - id: currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: industry_and_machinery_emissions
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: ghg
    - id: scope
  - id: emissions_impacts
    metrics: [emissions]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
  - id: industry_and_machinery_price
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner
  - id: total_costs
    metrics: [currency]
    tags: [make_nonnegative]
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: total_benefits
    metrics: [currency]
    tags: [make_nonpositive]
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: action
    - id: cost_type
    - id: owner
  - id: replacing_fossil_fuels_with_res_in_city_machinery_emissions
    metrics: [emissions]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true
  - id: replacing_fossil_fuels_with_res_in_city_machinery_currency
    metrics: [currency]
    from_dimensions:
    - id: action
      flatten: true
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Parametrit
- id: shift_to_low_carbon_in_national_electricity_production
  name: Kansallinen sähköntuotanto puhdistuu
  name_en: Shift to low-carbon in national electricity production
  type: gpc.DatasetActionMFM
  group: parameters
  unit: t/GWh
  quantity: emission_factor
  input_dimensions: [energy_carrier, ghg, heating]
  output_dimensions: [energy_carrier, ghg, heating]
  params:
  - id: action
    value: Shift to Low-Carbon in National Electricity Production
  - id: target_value
    values:
      default: 0
    min_value: -20
    max_value: 0
    step: 1
    unit: t/GWh
    description: Sähköntuotannon päästökertoimen muutos
    description_en: Change in electricity production emission factor
  - id: target_metric
    value: Value
  input_datasets:
  - id: gpc/tampere_simple_actions
    forecast_from: 2024
  output_nodes:
  - id: reduce_electricity_emission_factors

- id: parameter_discount_rate
  name: Diskonttokorko
  name_en: Discount rate
  type: simple.ParameterAction
  group: parameters
  unit: '%'
  quantity: fraction
  input_dimensions: []
  output_dimensions: []
  params:
  - id: from_value
    value: 3.5
    min_value: 0.0
    max_value: 7.0
    step: 0.5
    unit: '%'
    description: Diskonttokorko
    description_en: Discount rate
  - id: default_value
    value: 3.5
    unit: '%'
  output_nodes:
  - id: annuitized_costs
    tags: [discount_rate]
    to_dimensions: []
  - id: net_cost
    tags: [discount_rate]

- id: parameter_district_heating_price
  name: Kaukolämmön hinta
  name_en: District heating price
  type: simple.ParameterAction
  group: parameters
  unit: EUR/MWh
  quantity: unit_price
  input_dimensions: []
  output_dimensions: []
  params:
  - id: from_value
    value: 93.9
    min_value: 90.0
    max_value: 110.0
    step: 0.1
    unit: EUR/MWh
    description: Kaukolämmön hinta
    description_en: District heating price
  - id: percent_change
    value: 0.0
    min_value: -5.0
    max_value: 5.0
    step: 0.1
    unit: '%/a'
    description: Hinnan muutos
    description_en: Price change
  - id: default_value
    value: 93.9
    unit: EUR/MWh
  - id: default_change
    value: 0.0
    unit: '%/a'
  output_nodes:
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
      categories: [district_heat]
    - id: owner
      categories: [private]
    - id: cost_type
      categories: [energy]

- id: parameter_electricity_price
  name: Sähkön hinta
  name_en: Electricity price
  type: simple.ParameterAction
  group: parameters
  unit: centiEUR/kWh
  quantity: unit_price
  input_dimensions: []
  output_dimensions: []
  params:
  - id: from_value
    value: 18.0
    min_value: 5.0
    max_value: 40.0
    step: 1.0
    unit: centiEUR/kWh
    description: Sähkön hinta
    description_en: Electricity price
  - id: percent_change
    value: 0.0
    min_value: -5.0
    max_value: 5.0
    step: 0.1
    unit: '%/a'
    description: Hinnan muutos
    description_en: Price change
  - id: default_value
    value: 18.0
    unit: centiEUR/kWh
  - id: default_change
    value: 0.0
    unit: '%/a'
  output_nodes:
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
      categories: [electricity]
    - id: owner
      categories: [private]
    - id: cost_type
      categories: [energy]

- id: parameter_oil_price
  name: Öljyn hinta
  name_en: Oil price
  type: simple.ParameterAction
  group: parameters
  unit: centiEUR/kWh
  quantity: unit_price
  input_dimensions: []
  output_dimensions: []
  params:
  - id: from_value
    value: 14.5
    min_value: 10.0
    max_value: 20.0
    step: 1.0
    unit: centiEUR/kWh
    description: Öljyn hinta
    description_en: Oil price
  - id: percent_change
    value: 0.0
    min_value: -5.0
    max_value: 5.0
    step: 0.1
    unit: '%/a'
    description: Hinnan muutos
    description_en: Price change
  - id: default_value
    value: 14.5
    unit: centiEUR/kWh
  - id: default_change
    value: 0.0
    unit: '%/a'
  output_nodes:
  - id: energy_unit_prices
    to_dimensions:
    - id: energy_carrier
      categories: [fuel_oil]
    - id: owner
      categories: [private]
    - id: cost_type
      categories: [energy]

# - id: streetlight_replacement_action
#   name: Streetlight Replacement Detailed Action
#   type: gpc.StockReplacementAction
#   quantity: number
#   unit: count
#   input_dimensions: [streetlight_type, cost_type]
#   output_dimensions: [streetlight_type, cost_type]
#   params:
#   - id: sector
#     value: I.2.2
#   - id: action
#     value: LED Streetlights
#   - id: investment_value
#     values:
#       default: 961800
#     min_value: 0
#     max_value: 3000000
#     step: 10000
#     unit: EUR/a
#     description: Maximum annual investment
#   - id: investment_units
#     value: EUR/a
#   input_datasets:
#   - id: gpc/tampere_detailed_actions
#     forecast_from: 2021
#   input_nodes:
#   - id: baseline_streetlights
#     tags: [baseline]
#     to_dimensions:
#     - id: streetlight_type
#   - id: annual_new_streetlights
#     tags: [new]
#     to_dimensions:
#     - id: streetlight_type
#   output_metrics:
#   - id: i22_number
#     unit: count
#     quantity: number
#   - id: i22_currency
#     unit: EUR/a
#     quantity: currency
#   output_nodes:
#   - id: streetlights
#     metrics: [i22_number]
#     from_dimensions:
#     - id: cost_type
#       flatten: true
#   - id: streetlight_total_costs
#     metrics: [i22_currency]
#     from_dimensions:
#     - id: streetlight_type
#       flatten: true

pages:
- id: home
  name: Hiilineutraali Tampere 2030 -päästöskenaario
  name_en: Climate neutral Tampere 2030 emission scenario
  path: /
  type: emission
  outcome_node: net_emissions
  lead_title: Tampereen päästöskenaariot
  lead_title_en: Tampere emission scenarios
  lead_paragraph: Tampereen päästöskenaariot visualisoi Tampereen kasvihuonekaasupäästöjen
    kehityksen. Voit tarkastella, mistä Tampereen kaupungin alueen päästöt syntyvät
    ja kuinka niiden ennustetaan muuttuvan vuoteen 2030 mennessä. Valittavana on peruskehitys-skenaario,
    Hiilineutraali Tampere 2030 -tiekartan mukainen skenaario ja skenaario, jota voit
    itse muokata. Hiilineutraaliksi pääseminen edellyttää vielä lisää toimia, ja niiden
    riittävyyttä arvioidaan jatkossa tämän työkalun avulla.
  lead_paragraph_en: Tampere's emission scenarios visualize the development of Tampere's
    greenhouse gas emissions. You can look at where emissions from the Tampere city
    area come from and how they are projected to change by 2030. There is a basic
    development scenario to choose from, a scenario according to the Carbon Neutral
    Tampere 2030 roadmap and a scenario that you can edit yourself. Further efforts
    are needed to become carbon neutral, and their adequacy will be assessed in the
    future using this tool.

scenarios:
- id: baseline
  name: Nykykehitys
  name_en: Baseline

- id: default
  default: true
  name: Hiilineutraali Tampere 2030 -tiekartta
  name_en: Carbon-neutral Tampere 2030 roadmap
  all_actions_enabled: true
