id: tampere-c4c
default_language: fi
supported_languages: [en]
site_url: https://tampere-c4c.paths.kausal.tech
dataset_repo:
  url: https://github.com/kausaltech/dvctest.git
  commit: 1a8120ca1818582e32f5814adc3a6bce6576da2b
  dvc_remote: kausal-s3
name: C4C Hiilineutraali Tampere 2030
name_en: C4C Carbon-neutral Tampere 2030
owner: Tampereen kaupunki
owner_en: City of Tampere
theme_identifier: tampere-ilmasto
model_end_year: 2030
target_year: 2030
reference_year: 1990
minimum_historical_year: 2010
maximum_historical_year: 2022
emission_dataset: tampere/scenarios/emissions/bau
emission_unit: kt/a
emission_forecast_from: 2023
params:
- id: municipality_name
  value: Tampere

action_efficiency_pairs:
- graph_type: cost_effectiveness
  cost_node: aggregate_net_price
  impact_node: net_emissions
  invert_cost: false
  invert_impact: true
  indicator_unit: EUR/t
  cost_unit: EUR
  impact_unit: t
  label: Cost efficiency

action_groups:
- id: transportation
  name: Kestävä liikennejärjestelmä
  name_en: Sustainable transportation
- id: buildings
  name: Kestävä rakentaminen
  name_en: Sustainable buildings
- id: energy
  name: Kestävä energia
  name_en: Sustainable energy

dimensions:
- id: tram_phase
  label: Ratikan vaihe
  label_en: Tram phase
  categories:
  - id: phase1
    label: Vaihe 1
    label_en: Phase 1
  - id: phase2
    label: Vaihe 2
    label_en: Phase 2
  - id: phase3
    label: Vaihe 3
    label_en: Phase 3

- id: vehicle
  label: Ajoneuvo
  label_en: Vehicle
  categories:
  - id: tram
    label: Ratikka
    label_en: Tram
  - id: car
    label: Henkilöauto
    label_en: Car
  - id: bus
    label: Bussi
    label_en: Bus

- id: vehicle_type
  label: Vehicle type
  label_en: Vehicle type
  categories:
  - id: buses
    label: Bussi
    label_en: Buses
  - id: local_trains
    label: Paikallisjuna
    label_en: Local Trains
  - id: motorcycles
    label: Moottoripyörä
    label_en: Motorcycles
  - id: passenger_cars
    label: Henkilöauto
    label_en: Passenger cars
  - id: trams
    label: Ratikka
    label_en: Trams
  - id: trucks
    label: Kuorma-auto
    label_en: Trucks
  - id: vans
    label: Pakettiauto
    label_en: Vans

- id: road_type
  label: Road type
  label_en: Road type
  categories:
  - id: streets
    label: Katuajo
    label_en: Streets
  - id: roads
    label: Maantieajo
    label_en: Roads

- id: energy_consumption
  label: Energiankulutus
  label_en: Energy consumption
  categories:
  - id: district_heating
    label: Kaukolämpö
    label_en: District heating
  - id: other_electricity
    label: Kuluttajasähkö
    label_en: Consumer electricity
  - id: direct_electric_heating
    label: Suora sähkölämmitys
    label_en: Direct electric heating
  - id: oil_heating
    label: Öljylämmitys
    label_en: Oil heating
  - id: geothermal_heating_electricity
    label: Maalämmön sähkö
    label_en: Geothermal heating electricity

- id: fuel
  label: Polttoaine
  label_en: Fuel
  categories:
  - id: diesel_fossil
    label: Diesel (fossiilinen)
  - id: diesel_renewable
    label: Diesel (uusiutuva)
  - id: gasoline
    label: Bensiini
  - id: fuel_oil
    label: Kevyt polttoöljy

- id: streetlight_type
  label: Streetlight Type
  categories:
  - id: incandescent
    label: Incandescent
  - id: led
    label: LED

- id: cost_type
  label: Cost Type
  categories:
  - id: investment
    label: Investment
  - id: energy
    label: Energy
  - id: maintenance
    label: Maintenance

- id: energy_carrier
  label: Energian kantaja
  label_en: Energy carrier
  categories:
  - id: district_heat
    label: Kaukolämpö
    label_en: District heat
  - id: electricity
    label: Sähkö
    label_en: Electricity
  - id: fuel_oil
    label: Polttoöljy
    label_en: Fuel oil
  - id: natural_gas
    label: Maakaasu
    label_en: Natural gas

- id: heating
  label: Lämmitys
  label_en: Heating
  categories:
  - id: direct_electric_heat
    label: Suorasähkölämpö
    label_en: Direct electric heat
  - id: district_heat
    label: Kaukolämpö
    label_en: District heat
  - id: fuel_oil
    label: Polttoöljy
    label_en: Fuel oil
  - id: geothermal
    label: Maalämpö
    label_en: Geothermal
  - id: natural_gas
    label: Maakaasu
    label_en: Natural gas

- id: ghg
  label: GHG
  categories:
  - id: co2e
    label: CO2e

- id: owner
  label: Owner
  categories:
  - id: municipal
    label: Municipal
  - id: private
    label: Private

- id: scope
  label: Scope
  label_en: Scope
  categories:
  - id: scope1
    label: Scope 1
    label_en: Scope 1
  - id: scope2
    label: Scope 2
    label_en: Scope 2

emission_sectors:
- id: net_emissions
  name: Kokonaispäästöt
  name_en: Net emissions
  is_outcome: true
  target_year_goal: 260

# ----- Transportation

- id: transportation_emissions
  name: Liikenteen päästöt
  name_en: Transportation emissions
  description: Liikennepäästölaskenta perustuu kolmeen perustekijään. Liikennesuoritteeseen
    ajoneuvotyypeittäin, liikenteen käyttövoimien päästökertoimiin eri ajoneuvoille
    ja käyttövoimajakaumiin ajoneuvotyypeittäin.
  description_en: The traffic emission calculation is based on three basic factors.
    Mileage by vehicle type, emission factors for vehicle types with different propulsion,
    and propulsion distributions by vehicle type.
  part_of: net_emissions
  color: '#668EC9'
  target_year_goal: 115

# ----- Building Heating

- id: building_heating_emissions
  name: Rakennusten lämmityksen päästöt
  name_en: Building heating emissions
  part_of: net_emissions
  color: '#AD3963'

- id: separate_heating_emissions
  name: Erillislämmityksen päästöt
  name_en: Separate heating emissions
  part_of: building_heating_emissions

- id: electric_heating_emissions
  name: Sähkölämmityksen päästöt
  name_en: Electric heating emissions
  description: Sähkölämmitys sisältää arviot sekä suorasähkölämmityksen että maalämmön
    päästöistä ja laskee ne yhteen.
  description_en: Electric heating emissions include estimates of both direct electric
    heating and geothermal emissions.
  part_of: building_heating_emissions

# ----- Waste

- id: waste_treatment_emissions
  name: Jätehuollon päästöt
  name_en: Waste treatment
  description: Jätehuollon päästöt sisältävät kiinteät jätteet, biojätteet ja jäteveden.
  description_en: Emissions from waste management include solid waste, biowaste and
    wastewater.
  part_of: net_emissions
  color: '#397368'

# ----- Agriculture

- id: agriculture_emissions
  name_en: Agriculture
  name: Maatalouden päästöt
  description: Maatalouden päästöt perustuvat CO2-raportin päästötoteumaan eläinten
    ruoansulatuksen, lannan käsittelyn ja peltoviljelyn päästöistä.
  description_en: Emissions from agriculture are based on the emission estimates of
    the CO2 Report on animal digestion, manure treatment and arable farming.
  part_of: net_emissions
  color: '#ABC872'

nodes:
# ----- WASTE -----------------------------------------------------------------

- id: solid_waste_treatment_emissions
  name: Kiinteän jätteen käsittelyn päästöt
  name_en: Solid waste treatment
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  params:
    gpc_sector: III.1.1
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: waste_treatment_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: waste_water_treatment_emissions
  name: Jäteveden puhdistuksen päästöt
  name_en: Waste water treatment
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  params:
    gpc_sector: III.4.1
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: waste_treatment_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- AFOLU -----------------------------------------------------------------

- id: cattle_digestion_emissions
  name: Eläinten ruoansulatus
  name_en: Cattle digestion
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  params:
    gpc_sector: V.1
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: agriculture_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: field_crops_emissions
  name: Peltoviljelyn päästöt
  name_en: Field crops
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  params:
    gpc_sector: V.2
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: agriculture_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: manure_treatment_emissions
  name: Lannankäsittely
  name_en: Manure treatment
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  params:
    gpc_sector: V.3
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: agriculture_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- BUILDING HEATING ------------------------------------------------------

- id: heating_fuel_emission_factors
  name: Lämmityspolttoaineen päästökerroin
  name_en: Heating fuel emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: t/GWh
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  params:
    gpc_sector: I.1.1
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: gas_heating_emissions
  - id: oil_heating_emissions

- id: other_heating_emission_factors
  name: Lämmityspäästökerroin
  name_en: Heating emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: t/GWh
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  params:
    gpc_sector: I.1.2
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: direct_electric_heating_emissions
  - id: district_heating_emissions
  - id: geothermal_heating_emissions

# ----- District Heating

- id: district_heating_energy_consumption
  name: Kaukolämmön energiankulutus
  name_en: District heating energy consumption
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  params:
    gpc_sector: I.1.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: District Heat
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: district_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: district_heating_emissions
  name: Kaukolämmön päästöt
  name_en: District heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: district_heating_emissions_total

- id: district_heating_emissions_total
  name: Kaukolämmön kokonaispäästöt
  name_en: Total district heating emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  params:
    gpc_sector: I.1.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: District Heat
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: building_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Separate Heating

- id: gas_heating_energy_consumption
  name: Kaasulämmityksen energiankulutus
  name_en: Gas heating energy consumption
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  params:
    gpc_sector: I.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: Natural Gas
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: gas_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: gas_heating_emissions
  name: Kaasulämmityksen päästöt
  name_en: Gas heating emissions
  description: Kaasulämmityksen päästöt saadaan kertomalla maakaasun kulutus päästökertoimella.
  description_en: Emissions from gas heating are calculated by multiplying the consumption
    of natural gas by the emission factor.
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: separate_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: oil_heating_energy_consumption
  name: Öljylämmityksen energiankulutus
  name_en: Oil heating energy consumption
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  params:
    gpc_sector: I.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: Fuel Oil
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: oil_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: oil_heating_emissions
  name: Öljylämmityksen päästöt
  name_en: Oil heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: oil_heating_emissions_total

- id: oil_heating_emissions_total
  name: Öljylämmityksen kokonaispäästöt
  name_en: Total oil heating emissions
  description: Öljylämmityksen päästöt lasketaan kertomalla lämmitysöljyn kulutus
    päästökertoimella.
  description_en: Emissions from oil heating are calculated by multiplying the consumption
    of heating oil by the emission factor.
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  params:
    gpc_sector: I.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: Fuel Oil
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: separate_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Electric Heating

- id: geothermal_heating_electricity_consumption
  name: Maalämmön sähkönkulutus
  name_en: Geothermal heating electricity consumption
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  params:
    gpc_sector: I.1.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: Geothermal
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: geothermal_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: geothermal_heating_emissions
  name: Maalämmön päästöt
  name_en: Geothermal heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: geothermal_heating_emissions_total

- id: geothermal_heating_emissions_total
  name: Maalämmön kokonaispäästöt
  name_en: Total geothermal heating emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  params:
    gpc_sector: I.1.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: Geothermal
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: electric_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: direct_electric_heating_electricity_consumption
  name: Suorasähkölämmityksen sähkönkulutus
  name_en: Direct electric heating electricity consumption
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [heating, energy_carrier, scope]
  output_dimensions: [heating, energy_carrier, scope]
  params:
    gpc_sector: I.1.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: Direct Electric Heat
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: direct_electric_heating_emissions
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope

- id: direct_electric_heating_emissions
  name: Suorasähkölämmityksen päästöt
  name_en: Direct electric heating emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  output_nodes:
  - id: direct_electric_heating_emissions_total

- id: direct_electric_heating_emissions_total
  name: Suorasähkölämmityksen kokonaispäästöt
  name_en: Total direct electric heating emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [heating, energy_carrier, ghg, scope]
  output_dimensions: [heating, energy_carrier, ghg, scope]
  params:
    gpc_sector: I.1.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Heating
      value: Direct Electric Heat
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: electric_heating_emissions
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- ELECTRICITY -----------------------------------------------------------

- id: industrial_electricity_consumption
  name: Teollisuuden sähkönkulutus
  name_en: Industrial electricity consumption
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [energy_carrier, scope]
  output_dimensions: [energy_carrier, scope]
  params:
    gpc_sector: I.3.2
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: industrial_electricity_emissions
    to_dimensions:
    - id: energy_carrier
    - id: scope

- id: industrial_electricity_emission_factors
  name: Teollisuuden sähkönkulutuksen päästökerroin
  name_en: Industrial electricity emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: t/GWh
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  params:
    gpc_sector: I.3.2
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: industrial_electricity_emissions

- id: industrial_electricity_emissions
  name: Teollisuuden sähkönkulutuksen päästöt
  name_en: Industrial electricity emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  output_nodes:
  - id: electricity_consumption_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: other_electricity_consumption
  name: Muu sähkönkulutus
  name_en: Other electricity consumption
  type: gpc.DatasetNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [energy_carrier, scope]
  output_dimensions: [energy_carrier, scope]
  params:
    gpc_sector: I.6.2
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: other_electricity_emissions
    to_dimensions:
    - id: energy_carrier
    - id: scope

- id: other_electricity_emission_factors
  name: Muun sähkönkulutuksen päästökerroin
  name_en: Other electricity emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: t/GWh
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  params:
    gpc_sector: I.6.2
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: other_electricity_emissions

- id: other_electricity_emissions
  name: Muun sähkönkulutuksen päästöt
  name_en: Other electricity emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  output_nodes:
  - id: other_electricity_emissions_total

- id: other_electricity_emissions_total
  name: Muun sähkönkulutuksen kokonaispäästöt
  name_en: Total other electricity emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [energy_carrier, ghg, scope]
  output_dimensions: [energy_carrier, ghg, scope]
  params:
    gpc_sector: I.6.2
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: electricity_consumption_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

- id: electricity_consumption_emissions
  name: Sähkön kulutuksen päästöt
  name_en: Electricity consumption emissions
  description: Sähkön päästölaskenta perustuu kahteen komponenttiin. Sähkön kulutus
    ja sähkön päästökerroin. Tässä on muu sähkönkulutus kuin lämmitys.
  description_en: The calculation of electricity emissions is based on two components.
    Electricity consumption and the emission factor for electricity. This is electricity
    consumption other than heating.
  color: '#F4D240'
  type: simple.SectorEmissions
  unit: kt/a
  output_nodes:
  - id: net_emissions

# - id: renewable_electricity_consumption_reduction
#   name: Uusiutuvalla sähköntuotannolla aikaansaatu ostoenergian säästö
#   name_en: Decrease in purchased energy due to renewable electricity production
#   quantity: energy
#   type: simple.FixedMultiplierNode
#   output_nodes:
#   - other_electricity_consumption
#   params:
#     multiplier: -1
#   unit: GWh/a

# ----- TRANSPORTATION --------------------------------------------------------

# ----- Buses

- id: bus_kilometers
  name: Bussisuorite
  name_en: Bus kilometers
  type: gpc.DatasetNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [road_type, vehicle_type, scope]
  output_dimensions: [road_type, vehicle_type, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Buses
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: bus_emissions
    to_dimensions:
    - id: road_type
    - id: vehicle_type
    - id: scope

- id: bus_emission_factors
  name: Bussin päästökerroin
  name_en: Bus emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: g/vkm
  input_dimensions: [road_type, vehicle_type, ghg, scope]
  output_dimensions: [road_type, vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Buses
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: bus_emissions

- id: bus_emissions
  name: Bussiliikenteen päästöt
  name_en: Bus emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [road_type, vehicle_type, ghg, scope]
  output_dimensions: [road_type, vehicle_type, ghg, scope]
  output_nodes:
  - id: bus_emissions_total

- id: bus_emissions_total
  name: Bussiliikenteen kokonaispäästöt
  name_en: Total bus emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [road_type, vehicle_type, ghg, scope]
  output_dimensions: [road_type, vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Buses
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: road_type
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Local Trains

- id: local_train_kilometers
  name: Paikallisjunasuorite
  name_en: Local train kilometers
  type: gpc.DatasetNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [energy_carrier, vehicle_type, scope]
  output_dimensions: [energy_carrier, vehicle_type, scope]
  params:
    gpc_sector: II.2.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Local Trains
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: local_train_emissions
    to_dimensions:
    - id: energy_carrier
    - id: vehicle_type
    - id: scope

- id: local_train_emission_factors
  name: Paikallisjunan päästökerroin
  name_en: Local train emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: g/vkm
  input_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  params:
    gpc_sector: II.2.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Local Trains
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: local_train_emissions

- id: local_train_emissions
  name: Paikallisjunaliikenteen päästöt
  name_en: Local train emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Motorcycles

- id: motorcycle_kilometers
  name: Moottoripyöräsuorite
  name_en: Motorcycle kilometers
  type: gpc.DatasetNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, scope]
  output_dimensions: [vehicle_type, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Motorcycles
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: motorcycle_emissions
    to_dimensions:
    - id: vehicle_type
    - id: scope

- id: motorcycle_emission_factors
  name: Moottoripyörien päästökerroin
  name_en: Motorcycle emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: g/vkm
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Motorcycles
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: motorcycle_emissions

- id: motorcycle_emissions
  name: Moottoripyöräliikenteen päästöt
  name_en: Motorcycle emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  output_nodes:
  - id: motorcycle_emissions_total

- id: motorcycle_emissions_total
  name: Moottoripyöräliikenteen kokonaispäästöt
  name_en: Total motorcycle emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Motorcycles
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Passenger Cars

- id: car_kilometers
  name: Henkilöautosuorite
  name_en: Passenger car kilometers
  type: gpc.DatasetNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [road_type, vehicle_type, scope]
  output_dimensions: [road_type, vehicle_type, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Passenger Cars
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: car_emissions
    to_dimensions:
    - id: road_type
    - id: vehicle_type
    - id: scope

- id: car_emission_factors
  name: Henkilöautoilun päästökerroin
  name_en: Passenger car emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: g/vkm
  input_dimensions: [road_type, vehicle_type, ghg, scope]
  output_dimensions: [road_type, vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Passenger Cars
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: car_emissions

- id: car_emissions
  name: Henkilöautoliikenteen päästöt
  name_en: Passenger car emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [road_type, vehicle_type, ghg, scope]
  output_dimensions: [road_type, vehicle_type, ghg, scope]
  output_nodes:
  - id: car_emissions_total

- id: car_emissions_total
  name: Henkilöautoliikenteen kokonaispäästöt
  name_en: Total passenger car emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [road_type, vehicle_type, ghg, scope]
  output_dimensions: [road_type, vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Passenger Cars
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: road_type
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Trams

- id: tram_kilometers
  name: Ratikkasuorite
  name_en: Tram kilometers
  type: gpc.DatasetNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [energy_carrier, vehicle_type, scope]
  output_dimensions: [energy_carrier, vehicle_type, scope]
  params:
    gpc_sector: II.2.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Trams
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: tram_emissions
    to_dimensions:
    - id: energy_carrier
    - id: vehicle_type
    - id: scope

- id: tram_emission_factors
  name: Ratikan päästökerroin
  name_en: Tram emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: g/vkm
  input_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  params:
    gpc_sector: II.2.2
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Trams
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: tram_emissions

- id: tram_emissions
  name: Ratikkaliikenteen päästöt
  name_en: Tram emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_dimensions: [energy_carrier, vehicle_type, ghg, scope]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Trucks

- id: truck_kilometers
  name: Kuorma-autosuorite
  name_en: Truck kilometers
  type: gpc.DatasetNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, scope]
  output_dimensions: [vehicle_type, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Trucks
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: truck_emissions
    to_dimensions:
    - id: vehicle_type
    - id: scope

- id: truck_emission_factors
  name: Kuorma-autojen päästökerroin
  name_en: Truck emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: g/vkm
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Trucks
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: truck_emissions

- id: truck_emissions
  name: Kuorma-autoliikenteen päästöt
  name_en: Truck emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  output_nodes:
  - id: truck_emissions_total

- id: truck_emissions_total
  name: Kuorma-autoliikenteen kokonaispäästöt
  name_en: Total truck emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Trucks
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- Vans

- id: van_kilometers
  name: Pakettiautosuorite
  name_en: Van kilometers
  type: gpc.DatasetNode
  quantity: mileage
  unit: Mvkm/a
  input_dimensions: [vehicle_type, scope]
  output_dimensions: [vehicle_type, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Vans
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: van_emissions
    to_dimensions:
    - id: vehicle_type
    - id: scope

- id: van_emission_factors
  name: Pakettiautojen päästökerroin
  name_en: Van emission factors
  type: gpc.DatasetNode
  quantity: emission_factor
  unit: g/vkm
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Vans
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: van_emissions

- id: van_emissions
  name: Pakettiautoliikenteen päästöt
  name_en: Van emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  output_nodes:
  - id: van_emissions_total

- id: van_emissions_total
  name: Pakettiautoliikenteen kokonaispäästöt
  name_en: Total van emissions
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [vehicle_type, ghg, scope]
  output_dimensions: [vehicle_type, ghg, scope]
  params:
    gpc_sector: II.1.1
  input_datasets:
  - id: gpc/tampere
    filters:
    - column: Vehicle Type
      value: Vans
      drop_col: false
    forecast_from: 2022
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- INDUSTRY & MACHINERY --------------------------------------------------

- id: industry_and_machinery_emissions
  name: Teollisuuden ja työkoneiden päästöt
  name_en: Industry and machinery emissions
  description: Teollisuuden ja työkoneiden päästöennuste on tehty ekstrapoloimalla
    lineaarisesti vuosien 2010-2018 aikaista päästökehitystä.
  description_en: The emission forecast for industry and machinery has been made by
    linearly extrapolating the emission development during 2010-2018.
  color: '#E8B455'
  type: gpc.DatasetNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [ghg, scope]
  output_dimensions: [ghg, scope]
  params:
    gpc_sector: I.3.1
  input_datasets:
  - id: gpc/tampere
    forecast_from: 2022
  output_nodes:
  - id: net_emissions
    from_dimensions:
    - id: ghg
      flatten: true
    - id: scope
      flatten: true

# ----- City Machinery

# - id: city_machinery_emissions
#   name: Kaupungin työkoneiden päästöt
#   name_en: City machinery emissions
#   type: simple.MultiplicativeNode
#   quantity: emissions
#   unit: kt/a
#   input_dimensions: [fuel]
#   output_dimensions: [fuel]
#   output_nodes:
#   - id: industry_and_machinery_emissions
#     from_dimensions:
#     - id: fuel
#       flatten: true

# - id: city_machinery_fuel_consumption
#   name: Kaupungin työkoneiden polttoaineenkulutus
#   name_en: City machinery fuel consumption
#   type: simple.Activity
#   quantity: fuel_consumption
#   unit: l/a
#   input_datasets:
#   - id: tampere/scenarios/city_machinery
#     column: activity
#     unit: l/a
#     forecast_from: 2023
#   input_dimensions: [fuel]
#   output_dimensions: [fuel]
#   output_nodes:
#   - city_machinery_emissions

# - id: city_machinery_emission_factor
#   name: Dieselin päästökerroin
#   name_en: Diesel emission factor
#   type: simple.AdditiveNode
#   quantity: emission_factor
#   unit: g/l
#   input_datasets:
#   - id: tampere/scenarios/city_machinery
#     column: emission_factor
#     unit: g/l
#     forecast_from: 2023
#   input_dimensions: [fuel]
#   output_dimensions: [fuel]
#   output_nodes:
#   - city_machinery_emissions

# ----- LED STREETLIGHT DETAILED ACTION MODULE --------------------------------

- id: baseline_streetlights
  name: Baseline Streetlights
  type: gpc.DetailedDatasetNode
  quantity: number
  unit: count
  input_dimensions: [streetlight_type]
  output_dimensions: [streetlight_type]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: streetlights

- id: annual_new_streetlights
  name: Annual New Streetlights
  type: gpc.DetailedDatasetNode
  quantity: number
  unit: count/a
  input_dimensions: [streetlight_type]
  output_dimensions: [streetlight_type]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: streetlights
    tags: [cumulative]
  - id: new_streetlight_costs
    to_dimensions:
    - id: streetlight_type

- id: streetlights
  name: Streetlights
  type: simple.AdditiveNode
  quantity: number
  unit: count
  input_dimensions: [streetlight_type]
  output_dimensions: [streetlight_type]
  output_nodes:
  - id: streetlight_energy_consumption
    to_dimensions:
    - id: streetlight_type
  - id: maintenance_costs
    to_dimensions:
    - id: streetlight_type

- id: new_streetlight_unit_costs
  name: New Streetlight Unit Costs
  type: gpc.DetailedDatasetNode
  quantity: unit_price
  unit: EUR/count
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: new_streetlight_costs

- id: new_streetlight_costs
  name: New Streetlight Costs
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]

- id: streetlight_energy_factor
  name: Streetlight Energy Factor
  type: gpc.DetailedDatasetNode
  quantity: energy_factor
  unit: kWh/count/a
  input_dimensions: [streetlight_type, energy_carrier]
  output_dimensions: [streetlight_type, energy_carrier]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: streetlight_energy_consumption
    tags: [non_additive]

- id: streetlight_energy_consumption
  name: Streetlight Energy Consumption
  type: simple.MultiplicativeNode
  quantity: energy
  unit: kWh/a
  input_dimensions: [streetlight_type, energy_carrier]
  output_dimensions: [streetlight_type, energy_carrier]
  output_nodes:
  - id: energy_costs
    to_dimensions:
    - id: streetlight_type
    - id: energy_carrier
  - id: energy_consumption_emissions
    to_dimensions:
    - id: streetlight_type
    - id: energy_carrier

- id: energy_unit_costs
  name: Energy Unit Costs
  type: gpc.DetailedDatasetNode
  quantity: unit_price
  unit: EUR/kWh
  input_dimensions: [cost_type, energy_carrier]
  output_dimensions: [cost_type, energy_carrier]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: energy_costs
    to_dimensions:
    - id: cost_type
    - id: energy_carrier

- id: energy_costs
  name: Energy Costs
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [streetlight_type, cost_type, energy_carrier]
  output_dimensions: [streetlight_type, cost_type, energy_carrier]

- id: maintenance_unit_costs
  name: Maintenance Unit Costs
  type: gpc.DetailedDatasetNode
  quantity: unit_price
  unit: EUR/count/a
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: maintenance_costs
    tags: [non_additive]

- id: maintenance_costs
  name: Maintenance Costs
  type: simple.MultiplicativeNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]

- id: energy_emission_factor
  name: Energy Emission Factor
  type: gpc.DetailedDatasetNode
  quantity: emission_factor
  unit: kg/kWh
  input_dimensions: [energy_carrier, ghg]
  output_dimensions: [energy_carrier, ghg]
  params:
    sector: I.2.2
    action: LED Streetlights
  input_datasets:
  - id: gpc/tampere_detailed_actions
    forecast_from: 2021
  output_nodes:
  - id: energy_consumption_emissions
    to_dimensions:
    - id: energy_carrier
    - id: ghg

- id: energy_consumption_emissions
  name: Energy Consumption Emissions
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: t/a
  input_dimensions: [streetlight_type, energy_carrier, ghg]
  output_dimensions: [streetlight_type, energy_carrier, ghg]

- id: streetlight_total_costs
  name: Streetlight Total Costs
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [streetlight_type, cost_type]
  output_dimensions: [streetlight_type, cost_type]
  input_nodes:
  - id: new_streetlight_costs
  - id: energy_costs
    from_dimensions:
    - id: energy_carrier
      flatten: true
  - id: maintenance_costs

# ----- ECONOMY ---------------------------------------------------------------

- id: aggregate_net_price
  name: Aggregate Net Price
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: []
  output_dimensions: []
  input_nodes:
  - id: net_price
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true

- id: net_price
  name: Net Price
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner]
  output_dimensions: [cost_type, owner]
  is_outcome: true

- id: stationary_price
  name: Stationary Price
  type: simple.AdditiveNode
  color: '#4e79a7'
  quantity: currency
  unit: EUR/a
  input_dimensions: [cost_type, owner]
  output_dimensions: [cost_type, owner]
  output_nodes:
  - id: net_price

# ----- ACTIONS ---------------------------------------------------------------

actions:
- id: change_streetlights_to_led
  name: Change Streetlights to LED
  type: gpc.DatasetActionMFM
  color: '#4e79a7'
  input_dimensions: ['cost_type', 'owner', 'energy_carrier', 'scope']
  output_dimensions: ['cost_type', 'owner', 'energy_carrier', 'scope']
  params:
    action: Change Streetlights to LED
  input_datasets:
  - id: gpc/tampere_simple_actions
    forecast_from: 2025
  output_metrics:
  - id: i62_energy
    unit: GWh/a
    quantity: energy
  - id: i_currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: other_electricity_consumption
    metrics: [i62_energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: stationary_price
    metrics: [i_currency]
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner

- id: build_renewable_electricity_production
  name: Build Renewable Electricity Production (PV)
  type: gpc.DatasetActionMFM
  color: '#4e79a7'
  input_dimensions: ['cost_type', 'owner', 'energy_carrier', 'scope']
  output_dimensions: ['cost_type', 'owner', 'energy_carrier', 'scope']
  params:
    action: Build Renewable Electricity Production (PV)
  input_datasets:
  - id: gpc/tampere_simple_actions
    forecast_from: 2025
  output_metrics:
  - id: i62_energy
    unit: GWh/a
    quantity: energy
  - id: i_currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: other_electricity_consumption
    metrics: [i62_energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: stationary_price
    metrics: [i_currency]
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner

- id: replace_oil_heating
  name: Replace Oil Heating with Water-to-Air Heat Pumps and Geothermal Heating
  type: gpc.DatasetActionMFM
  color: '#4e79a7'
  input_dimensions: ['cost_type', 'owner', 'heating', 'energy_carrier', 'scope']
  output_dimensions: ['cost_type', 'owner', 'heating', 'energy_carrier', 'scope']
  params:
    action: Replace Oil Heating with Water-to-Air Heat Pumps and Geothermal Heating
  input_datasets:
  - id: gpc/tampere_simple_actions
    forecast_from: 2025
  output_metrics:
  - id: i11_energy
    unit: kWh/a
    quantity: energy
  - id: i_currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: oil_heating_energy_consumption
    metrics: [i11_energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: stationary_price
    metrics: [i_currency]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner

- id: energy_efficiency_renovations_in_buildings
  name: Energy Efficiency Renovations in Buildings
  type: gpc.DatasetActionMFM
  color: '#4e79a7'
  input_dimensions: ['cost_type', 'owner', 'heating', 'energy_carrier', 'scope']
  output_dimensions: ['cost_type', 'owner', 'heating', 'energy_carrier', 'scope']
  params:
    action: Energy Efficiency Renovations in Buildings
  input_datasets:
  - id: gpc/tampere_simple_actions
    forecast_from: 2025
  output_metrics:
  - id: i12_energy
    unit: GWh/a
    quantity: energy
  - id: i62_energy
    unit: GWh/a
    quantity: energy
  - id: i_currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: district_heating_energy_consumption
    metrics: [i12_energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: other_electricity_consumption
    metrics: [i62_energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: stationary_price
    metrics: [i_currency]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner

- id: energy_efficiency_of_new_construction
  name: Energy Efficiency of New Construction
  type: gpc.DatasetActionMFM
  color: '#4e79a7'
  input_dimensions: ['cost_type', 'owner', 'heating', 'energy_carrier', 'scope']
  output_dimensions: ['cost_type', 'owner', 'heating', 'energy_carrier', 'scope']
  params:
    action: Energy Efficiency of New Construction
  input_datasets:
  - id: gpc/tampere_simple_actions
    forecast_from: 2025
  output_metrics:
  - id: i12_energy
    unit: GWh/a
    quantity: energy
  - id: i62_energy
    unit: GWh/a
    quantity: energy
  - id: i_currency
    unit: EUR/a
    quantity: currency
  output_nodes:
  - id: district_heating_energy_consumption
    metrics: [i12_energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    to_dimensions:
    - id: heating
    - id: energy_carrier
    - id: scope
  - id: other_electricity_consumption
    metrics: [i62_energy]
    from_dimensions:
    - id: cost_type
      flatten: true
    - id: owner
      flatten: true
    - id: heating
      flatten: true
    to_dimensions:
    - id: energy_carrier
    - id: scope
  - id: stationary_price
    metrics: [i_currency]
    from_dimensions:
    - id: heating
      flatten: true
    - id: energy_carrier
      flatten: true
    - id: scope
      flatten: true
    to_dimensions:
    - id: cost_type
    - id: owner

# - id: i22_streetlight_replacement_action
#   name: I.2.2 Streetlight Replacement Action
#   type: gpc.StockReplacementAction
#   quantity: number
#   unit: count/a
#   input_dimensions: [streetlight_type] #, cost_type]
#   output_dimensions: [streetlight_type] #, cost_type]
#   params:
#     sector: I.2.2
#     action: LED Streetlights
#   input_datasets:
#   - id: gpc/tampere_detailed_actions
#     forecast_from: 2021
#   input_nodes:
#   - id: i22_baseline_streetlights
#     tags: [baseline]
#   - id: i22_annual_new_streetlights
#     tags: [new]
#   # output_metrics:
#   # - id: currency
#   #   unit: [unit]
#   #   quantity: currency
#   # - id: number
#   #   unit: [unit]
#   #   quantity: number
#   output_nodes:
#   - id: i22_streetlights

# - id: other_renewable_district_heating
#   name: Kaukolämmön tuotannossa lisätään uusiutuvaa energiaa
#   name_en: Increase share of renewables in district heat production
#   type: simple.CumulativeAdditiveAction
#   quantity: energy
#   group: energy
#   output_nodes:
#   - district_heating_emission_factor
#   forecast_values: [[2024, -8], [2025, -16], [2026, -4], [2027, -4], [2028, -7], [
#       2029, -14], [2030, -6]]
#   unit: g/kWh

# - id: private_building_energy_renovation
#   name: Korjausrakentaminen yksityisissä kiinteistöissä
#   name_en: Energy renovation of privately owned buildings
#   unit: GWh/a
#   type: simple.AdditiveAction
#   quantity: energy
#   group: buildings
#   description: Keskeisimmät kohderyhmät energianeuvonnalle ovat yli 20 vuotta vanhat
#     kerrostalot sekä öljy- ja sähkölämmitteiset pientalot.
#   description_en: The most important target groups for energy advice are apartment
#     buildings that are more than 20 years old and detached houses that are heated
#     by oil and electricity.
#   input_datasets:
#   - id: tampere/scenarios/energy_renovation_changes
#     forecast_from: 2023
#     column: energy
#   output_dimensions: [energy_consumption]
#   output_nodes:
#   - id: district_heating_consumption
#     from_dimensions:
#     - id: energy_consumption
#       categories: [district_heating]
#       flatten: true
#   - id: other_electricity_consumption
#     from_dimensions:
#     - id: energy_consumption
#       categories: [other_electricity]
#       flatten: true
#   - id: direct_electric_heating_electricity_use
#     from_dimensions:
#     - id: energy_consumption
#       categories: [direct_electric_heating]
#       flatten: true

# - id: distributed_renewable_energy
#   name: Hajautettu uusiutuva energia
#   name_en: Distributed renewable energy production
#   unit: GWh/a
#   type: simple.LinearCumulativeAdditiveAction
#   quantity: energy
#   group: energy
#   description: Rakennusten katoille asennetaan aurinkosähkötuotantoa. 2016 tehdyn
#     uusiutuvan energian kuntakatselmuksen mukaan käyttämätön kokonaispotentiaali rakennusten
#     katoilla on 800-900 GWh (ei huomioi kaikkia rajoitteita).
#   description_en: Photovoltaic production will be installed on the roofs of the buildings.
#     According to the 2016 municipal review of renewable energy, the unused potential
#     on the roofs of buildings is 800-900 GWh (does not take into account all restrictions).
#   output_nodes:
#   - renewable_electricity_consumption_reduction
#   forecast_values: [[2022, 0], [2030, -850]]
#   params:
#   - id: target_year_level
#     values:
#       default: 17
#     min_value: 0
#     max_value: 850
#     step: 1
#     unit: GWh/a
#     description: Aurinkosähköjärjestelmien vuosituotanto vuonna 2030
#     description_en: PV energy production in 2030
#     is_visible: true
#     is_customizable: false

# - id: oil_heated_private_buildings_to_geothermal
#   name: Öljylämmityksestä luopuminen yksityisessä rakennuskannassa
#   name_en: Private oil heated buildings to geothermal
#   type: simple.AdditiveAction
#   unit: GWh/a
#   quantity: energy
#   group: buildings
#   description: Yksityiset kiinteistöt vaihtavat öljylämmityksen maalämpöön. 95 % tarvittavasta
#     lämmöstä tuotetaan COP 3:lla, loput on suorasähköä. Perustuu Juho Rinta-Rahkon
#     arvioon Tampereen korjausrakentamisen ja energianeuvonnan potentiaalista. Öljylämmitystä
#     jää jäljelle palvelurakennuksiin ja teollisuusrakennuksiin.
#   description_en: Private properties change from oil heating to geothermal energy.
#     95% of the required heat is produced at COP 3 level, the rest is direct electricity.
#     This is based on Juho Rinta-Rahko's assessment of the potential of renovation
#     and energy consulting in Tampere. Some oil heating will remain in service buildings
#     and industrial buildings.
#   input_datasets:
#   - id: tampere/scenarios/private_oil_heating_change
#     forecast_from: 2023
#     column: energy
#   output_dimensions: [energy_consumption]
#   output_nodes:
#   - id: oil_heating_energy_use
#     from_dimensions:
#     - id: energy_consumption
#       categories: [oil_heating]
#       flatten: true
#   - id: geothermal_heating_electricity_use
#     from_dimensions:
#     - id: energy_consumption
#       categories: [geothermal_heating_electricity]
#       flatten: true

# - id: oil_heated_municipal_buildings_to_heat_pump
#   name: Öljylämmityksestä luopuminen kaupungin rakennuskannassa
#   name_en: Oil-heated municipal buildings to heat pumps
#   type: simple.AdditiveAction
#   quantity: energy
#   unit: GWh/a
#   group: buildings
#   description: Kaupungin kiinteistöt kuluttavat lähtötilanteessa öljyä 367 378 l/v
#     eli n. 3 674 MWh eli 3,67 GWh. Öljyä korvataan näillä näkymin VILPeillä, joiden
#     COP on noin 2,5, kun ne tuottavat kaiken tarvittavan lämmön. Bioöljyä on ajateltu
#     pidettävän varalla, mutta sen osuus energiankulutuksesta on merkityksetön.
#   description_en: The city's properties currently consume 367 378 l / y of oil, or
#     about 3 674 MWh, or 3.67 GWh. With these prospects, oil will be replaced by water-air
#     heat pumps with a COP of about 2.5 when they produce all the heat they need. Bio-oil
#     has been thought to be held in reserve, but its share of energy consumption is
#     insignificant.
#   input_datasets:
#   - id: tampere/scenarios/public_oil_heating_change
#     forecast_from: 2023
#     column: energy
#   output_dimensions: [energy_consumption]
#   output_nodes:
#   - id: oil_heating_energy_use
#     from_dimensions:
#     - id: energy_consumption
#       categories: [oil_heating]
#       flatten: true
#   - id: direct_electric_heating_electricity_use  # FIXME Should this raher be geothermal?
#     from_dimensions:
#     - id: energy_consumption
#       categories: [geothermal_heating_electricity]
#       flatten: true

# - id: cleaner_electricity_production
#   name: Kansallinen sähköntuotanto puhdistuu
#   name_en: Shift to low-carbon in national electricity production
#   decision_level: nation
#   quantity: emission_factor
#   output_nodes:
#   - electricity_production_emission_factor
#   type: simple.LinearCumulativeAdditiveAction
#   historical_values: [[2021, 0], [2022, -5]]
#   forecast_values: [[2023, -10], [2030, -42]]
#   forecast_from: 2023
#   unit: g/kWh
#   group: energy
#   params:
#   - id: target_year_level
#     values:
#       default: -42
#     min_value: -80
#     max_value: 0
#     step: 1
#     unit: g/kWh
#     description: Sähköntuotannon päästökertoimen muutos
#     description_en: Change in electricity production emission factor

# - id: converting_street_lighting_to_led
#   name: Katuvalaistuksen vaihtaminen LED-valaisimiksi
#   name_en: Converting street lighting to LED lamps
#   type: simple.LinearCumulativeAdditiveAction
#   unit: GWh/a
#   quantity: energy
#   group: energy
#   description: Kaupungin katuvalaistus muutetaan ledeiksi ja valojen älykäs ohjaus
#     otetaan käyttöön vuoteen 2025 mennessä.
#   description_en: The city’s street lighting will be transformed into LEDs and intelligent
#     light control will be deployed by 2025.
#   forecast_values: [[2021, 0], [2025, -4.2]]   # 7000 light bulbs * (250 W - 50 W)/bulb * 3000 h/a # Tampereen taustamuistio, https://www.quora.com/How-much-power-does-a-regular-street-light-consume?share=1
#   output_nodes:
#   - other_electricity_consumption

# - id: tram_phase_3
#   name: Ratikan rakennusvaihe 3 (2028-2030)
#   name_en: Tram construction phase 3 (2028-2030)
#   type: simple.AdditiveAction
#   unit: Mvkm/a
#   quantity: mileage
#   group: transportation
#   description: Raitiotien kolmas rakennusvaihe. Ensimmäinen ja toinen rakennusvaihe
#     on toteutettava, jotta tämä olisi mielekäs.
#   description_en: The third construction phase of the tramway. The first and second
#     construction phases need to be implemented for this action to make sense.
#   input_datasets:
#   - id: tampere/scenarios/mode_changes_after_tram
#     column: vehicle_mileage
#     forecast_from: 2023
#     filters:
#     - dimension: tram_phase
#       categories: [phase3]
#       flatten: true
#   output_dimensions: [vehicle]
#   output_nodes:
#   - id: tram_kilometers
#     from_dimensions:
#     - id: vehicle
#       categories: [tram]
#       flatten: true
#   - id: car_kilometers_streets
#     from_dimensions:
#     - id: vehicle
#       categories: [car]
#       flatten: true
#   - id: bus_kilometers_streets
#     from_dimensions:
#     - id: vehicle
#       categories: [bus]
#       flatten: true

# - id: renewable_diesel_in_city_machinery
#   name: Uusiutuvan dieselin käyttö kaupungin työkoneissa
#   name_en: Renewable diesel in city machinery
#   type: shift.ShiftAction
#   unit: l/a
#   quantity: fuel_consumption
#   group: transportation
#   description: Kaupungin omat työkoneet siirtyvät lineaarisesti käyttämään uusiutuvaa
#     dieseliä niin, että vuonna 2030 käytetään ainoastaan sitä.
#   description_en: The city’s own work machinery will move gradually to use renewable
#     diesel so that in 2030 only it will be used.
#   output_nodes:
#   - city_machinery_fuel_consumption
#   params:
#   - id: shift
#     unit: l/a
#     is_customizable: false
#     value:
#     - source:
#         categories:
#           fuel: diesel_fossil
#       dests:
#       - categories:
#           fuel: diesel_renewable
#       amounts:
#       - year: 2023
#         source_amount: 0
#         dest_amounts: [1]
#       - year: 2024
#         source_amount: -64619.1
#         dest_amounts: [1]
#       - year: 2030
#         source_amount: -64619.1
#         dest_amounts: [1]
#       - year: 2031
#         source_amount: 0
#         dest_amounts: [1]

# - id: energy_conversion_in_buses
#   name: Bussiliikenteen käyttövoimamuutos
#   name_en: Energy conversion in buses
#   type: simple.AdditiveAction
#   quantity: emission_factor
#   unit: g/vkm
#   group: transportation
#   input_datasets:
#   - id: tampere/scenarios/emission_factors/bau
#     column: Bus street difference to constant fuel share
#     forecast_from: 2023
#     dropna: true
#     unit: g/vkm
#   output_nodes:
#   - bus_emission_factor_streets


pages:
- id: home
  name: Hiilineutraali Tampere 2030 -päästöskenaario
  name_en: Climate neutral Tampere 2030 emission scenario
  path: /
  type: emission
  outcome_node: net_emissions
  lead_title: Tampereen päästöskenaariot
  lead_title_en: Tampere emission scenarios
  lead_paragraph: Tampereen päästöskenaariot visualisoi Tampereen kasvihuonekaasupäästöjen
    kehityksen. Voit tarkastella, mistä Tampereen kaupungin alueen päästöt syntyvät
    ja kuinka niiden ennustetaan muuttuvan vuoteen 2030 mennessä. Valittavana on peruskehitys-skenaario,
    Hiilineutraali Tampere 2030 -tiekartan mukainen skenaario ja skenaario, jota voit
    itse muokata. Hiilineutraaliksi pääseminen edellyttää vielä lisää toimia, ja niiden
    riittävyyttä arvioidaan jatkossa tämän työkalun avulla.
  lead_paragraph_en: Tampere's emission scenarios visualize the development of Tampere's
    greenhouse gas emissions. You can look at where emissions from the Tampere city
    area come from and how they are projected to change by 2030. There is a basic
    development scenario to choose from, a scenario according to the Carbon Neutral
    Tampere 2030 roadmap and a scenario that you can edit yourself. Further efforts
    are needed to become carbon neutral, and their adequacy will be assessed in the
    future using this tool.

scenarios:
- id: baseline
  name: Nykykehitys
  name_en: Baseline
# params:
# - id: cleaner_electricity_production.enabled
#   value: true

- id: default
  default: true
  name: Hiilineutraali Tampere 2030 -tiekartta
  name_en: Carbon-neutral Tampere 2030 roadmap
  all_actions_enabled: true
