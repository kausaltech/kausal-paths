# log 2025-08-27
# Trend-Szenario and MASTERPLAN-Szenario are taken from Zielwerte Masterplan V3.4
#  https://docs.google.com/spreadsheets/d/1KRb2OxOsz9DHG31R6KkE5pxQqz9MUcwF/edit?gid=1016792586#gid=1016792586
# Comparison: Sheets Kerndaten and action add have identical data. Only the calculated values differ. --> Use Kerndaten.
# The new action impacts from action impact 20250815.xlsx are used.
# https://docs.google.com/spreadsheets/d/1pW5Un-rUGLyM8FbMdsRELq4W9Q_ZNx_b/edit?gid=1524147948#gid=1524147948
# Comparison showed that energietraeger_GHD.xlsx and other 4 energy files from KlimaSchutz-Planer are very close although not identical to Zielwerte Masterplan V3.4.xlsx. So, the Masterplan data is now used.
# Procedure:
# Use the Actual values when available and Masterplan Scenario values for forecasts.
# 1 Sum up all action impacts as emissions. Plain GenericNode
# 2 Split the total impact to sectors or energy carriers by using the Masterplan scenario variable. Total impact has tag skip_dim_test, scenario variable has tag use_as_shares.
# 3 Compute the impact in correct units by dividiing the emission impact by energy or emission factor.
# 4 Add the scenario emission factor or energy, respectively.

id: potsdam-gpc
default_language: de
supported_languages: []
site_url: https://potsdam-gpc.paths.staging.kausal.tech
dataset_repo:
  url: https://github.com/kausaltech/dvctest.git
  commit: b5c49954d267477c7cd4c058ce495c4af941cb70
  dvc_remote: kausal-s3
name: Klimaschutz-Monitor-Potsdam Treibhausgasinventar
owner: Stadt Potsdam
theme_identifier: de-potsdam
target_year: 2045
model_end_year: 2050
reference_year: 1995
minimum_historical_year: 1995
maximum_historical_year: 2024
emission_unit: kt/a
emission_forecast_from: 2025
emission_dimensions: [energy_carrier, sector]
features:
  baseline_visible_in_graphs: true
  use_datasets_from_db: true
  show_explanations: true

include:
- file: frameworks/standard_dims.yaml
  allow_override: true

params:
- id: weather_correction
  label_de: Wetterkorrektur durchführen?
  value: true
  is_customizable: true
  is_visible: true

action_groups:
- id: stationary
  name: Wärme
  name_en: Heat
  color: '#989898'
- id: electricity
  name: Strom
  name_en: Electricity
  color: '#007C78'
- id: transport
  name: Verkehr
  name_en: Transport
  color: '#0505A0'
- id: afolu
  name: AFOLU
  name_en: AFOLU
  color: '#cccccc'
- id: heat_generation_networks
  name: Ausbau Erneuerbare Energien in der Wärmeerzeugung (Wärmenetze)
  name_en: Expansion of Renewable Energy in Heat Generation (District Heating)
  color: '#D4691A'
- id: heat_generation_individual
  name: Ausbau Erneuerbare Energien in der Wärmeerzeugung (Einzelversorgung)
  name_en: Expansion of Renewable Energy in Heat Generation (Individual Supply)
  color: '#FF8C42'
- id: heat_consumption
  name: Änderung im Wärmeverbrauch (Wärmenetze)
  name_en: Changes in Heat Consumption (District Heating)
  color: '#B85450'
# - id: heat_consumption_individual
#   name: Änderung im Wärmeverbrauch (Einzelversorgung)
#   name_en: Changes in Heat Consumption (Individual Supply)
#   color: '#E67E22'
- id: electricity_generation
  name: Ausbau Erneuerbare Energien in der Stromerzeugung
  name_en: Expansion of Renewable Energy in Electricity Generation
  color: '#007C78'
- id: electricity_consumption
  name: Änderung im Stromverbrauch
  name_en: Changes in Electricity Consumption
  color: '#00A693'
- id: transport_energy_expansion
  name: Ausbau Erneuerbare Energien im Verkehr
  name_en: Expansion of Renewable Energy in Transport
  color: '#0505A0'
- id: transport_consumption
  name: Änderung im Energieverbrauch im Verkehr
  name_en: Changes in Energy Consumption in Transport
  color: '#2E4BC6'

dimensions:

- id: decision
  label_en: Decision
  label_de: Entscheidung
  categories:
  - id: district_heating_until_2030
    label_en: Action Package EWP District Heating until 2030 (min. 30% RE)
    label_de: Maßnahmepaket EWP Fernwärme bis 2030 (min. 30% EE)
  - id: district_heating_2030_2040
    label_en: Further EWP district heating measures 2030-2040 (+ further 50% RE 
      = 80% RE)
    label_de: weitere Maßnahmen EWP Fernwärme 2030-2040 (+ weitere 50% EE = 80% 
      EE)
  - id: district_heating_2040_2045
    label_en: Further EWP district heating measures 2040-2045 (+ further 20% RE 
      = 100% RE)
    label_de: weitere Maßnahmen EWP Fernwärme 2040-2045 (+ weitere 20% EE = 100%
      EE)
  - id: local_heating_networks_2045
    label_en: Local heating network measures until 2045 (100% RE)
    label_de: Maßnahmen Nahwärmenetze bis 2045 (100% EE)
  - id: re_expansion_masterplan_2045
    label_en: RE expansion according to Masterplan 100% Climate Protection until
      2045
    label_de: EE-Ausbau laut Masterplan 100% Klimaschutz bis 2045
  - id: re_expansion_masterplan_kwp
    label_en: RE expansion according to KWP (additional to Masterplan target)
    label_de: EE-Ausbau laut KWP (zusätzlich zu Masterplanziel)
  - id: district_heating_kwp_expansion_areas
    label_en: Expansion of heating networks until 2045 (KWP expansion areas)
    label_de: Ausbau der Wärmenetze bis 2045 (KWP-Ausbaugebiete)
  - id: district_heating_kwp_test_areas
    label_en: Expansion of heating networks until 2045 (additionally KWP test 
      areas)
    label_de: Ausbau der Wärmenetze bis 2045 (zusätzlich KWP-Prüfgebiete)
  - id: decentralized_heat_reduction_replacement
    label_en: Reduction of decentralized heat consumption through replacement 
      with heating networks
    label_de: Reduktion des dezentralen Wärmeverbrauchs durch Ersatz mit 
      Wärmenetzen
  - id: district_heating_reduction_renovation
    label_en: Reduction of heat consumption through building renovation (local 
      and district heating areas)
    label_de: Reduktion des Wärmeverbrauchs durch Gebäudesanierung (Nah- und 
      Fernwärmegebiete)
  - id: decentralized_heat_reduction_renovation
    label_en: Reduction of heat consumption through building renovation 
      (decentralized)
    label_de: Reduktion des Wärmeverbrauchs durch Gebäudesanierung (dezentral)
  - id: pv_rooftop_expansion
    label_en: Expansion of PV rooftop systems according to Masterplan
    label_de: Ausbau PV Dachanlagen laut Masterplan
  - id: ground_mounted_pv_expansion
    label_en: Expansion of ground-mounted systems according to Masterplan
    label_de: Ausbau Freiflächenanlagen laut Masterplan
  - id: wind_power_potential
    label_en: Wind power plant potential (assumption 8 plants)
    label_de: Potential Windkraftanlagen (Annahme 8 Anlagen)
  - id: electricity_consumption_reduction
    label_en: Reduction of electricity consumption households and commercial
    label_de: Reduktion Stromverbrauch HH und Gewerbe
  - id: improved_federal_grid_mix
    label_en: Improved federal grid mix for residual electricity demand
    label_de: Verbesserter Bundesmix für Reststrombedarf
  - id: fossil_fuel_replacement
    label_en: Replacement of fossil fuels with RE electricity and e-fuels
    label_de: Ersatz fossiler brennstoffe durch EE-Strom und E-Fuels
  - id: local_transport_energy_reduction
    label_en: Reduction of total energy consumption local transport
    label_de: Reduktion Gesamtenergieverbrauch Binnenverkehr
  - id: baseline
    label_en: Baseline
    label_de: Baseline

- id: scenario
  label_de: Szenario
  label_en: Scenario
  categories:
  - id: trend_scenario
    label_de: Trend-Szenario
    label_en: Trend scenario
    aliases: [trend_szenario]
  - id: masterplan_scenario
    label_de: Masterplan-Szenario
    label_en: Masterplan scenario
    aliases: [masterplan_szenario]
  - id: actual
    label_de: Aktual
    label_en: Actual
    aliases: [aktual]

# Temporarily return energietrager

- id: energietrager
  label_en: Energy Carriers
  label_de: Energieträger
  categories:
  - id: strom
    label_en: Electricity
    label_de: Strom
    aliases: [electricity, strom_fahrstrom]
  - id: fahrstrom
    label_en: Traction Power
    label_de: Fahrstrom
  - id: heizstrom
    label_en: Heating Electricity
    label_de: Heizstrom
    aliases: [heating_electricity]
  - id: fernwarme
    label_en: District Heating
    label_de: Fernwärme
    aliases: [district_heating]
  - id: nahwarme
    label_en: Local Heating
    label_de: Nahwärme
    aliases: [local_heating]
  - id: gas
    label_en: Gas
    label_de: Gas
    aliases: [natural_gas]
  - id: biogas
    label_en: Biogas
    label_de: Biogas
    aliases: [cng_bio]
  - id: heizol
    label_en: Heating Oil
    label_de: Heizöl
    aliases: [heating_oil]
  - id: kohle
    label_en: Coal
    label_de: Kohle
    aliases: [hard_coal]
  - id: brown_coal
    label_en: Brown coal
    label_de: Braunkohle
  - id: biomasse
    label_en: Biomass
    label_de: Biomasse
    aliases: [biomass]
  - id: solarthermie
    label_en: Solar Thermal
    label_de: Solarthermie
    aliases: [solar_thermal]
  - id: umweltwarme
    label_en: Ambient Heat
    label_de: Umweltwärme
    aliases: [environmental_heat]
  - id: other_renewables
    label_en: Other renewables
    label_de: Sonstige erneuerbare Energien
  - id: benzin_fossil
    label_en: Fossil Gasoline
    label_de: Benzin fossil
    aliases: [petrol]
  - id: benzin_biogen
    label_en: Biogenic Gasoline
    label_de: Benzin biogen
    aliases: [bio_petrol]
  - id: diesel_fossil
    label_en: Fossil Diesel
    label_de: Diesel fossil
    aliases: [diesel]
  - id: kerosene
    label_de: Kerosene
    label_en: Kerosene
  - id: diesel_biogen
    label_en: Biogenic Diesel
    label_de: Diesel biogen
    aliases: [biodiesel]
  - id: cng_fossil
    label_en: Fossil CNG (Compressed Natural Gas)
    label_de: CNG fossil
  - id: lpg
    label_en: LPG (Liquefied Petroleum Gas)
    label_de: LPG
  - id: wasserstoff
    label_en: Hydrogen
    label_de: Wasserstoff
  - id: other_conventional
    label_en: Other conventional
    label_de: Sonstige konventionelle Energien
    aliases: [other_conventional]
  - id: total
    label_en: Total
    label_de: Gesamt
    aliases: [total]

emission_sectors:

- id: net_emissions
  name: Net Emissionen
  is_outcome: true

- id: electricity_emissions
  name: Strom Emissionen
  part_of: net_emissions
  input_nodes:
  - id: corrected_emissions
    from_dimensions:
    - id: sector
      categories: [electricity]

- id: heating_emissions
  name: Wärme Emissionen
  part_of: net_emissions
  input_nodes:
  - id: corrected_emissions
    from_dimensions:
    - id: sector
      categories: [heating]

- id: transport_emissions
  name: Verkehr Emissionen
  part_of: net_emissions
  input_nodes:
  - id: corrected_emissions
    from_dimensions:
    - id: sector
      categories: [transport]

nodes:

- id: weather_correction
  name: Witterungsbereinigung
  name_en: Weather Correction
  type: generic.GenericNode
  quantity: ratio
  unit: dimensionless
  input_datasets:
  - id: gpc/potsdam
    forecast_from: 2023
    tags: [baseline]
    column: weather_correction
    filters:
    - column: scope
  params:
  - id: operations
    value: do_correction
  - id: do_correction
    ref: weather_correction
  # output_nodes:
  # - id: heating_fuel_consumption
  #   tags: [non_additive]
  #   to_dimensions: []
  # - id: heating_grid_energy_consumption
  #   tags: [non_additive]
  #   to_dimensions: []

- id: scenario_energy
  name: Szenario Energie Daten
  name_en: Scenario energy data
  type: generic.GenericNode
  quantity: energy
  unit: MWh/a
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]
  input_datasets:
  - id: potsdam/szenarien
    tags: [baseline]
    forecast_from: 2024
    column: energy
    filters:
    - column: scenario
      values: [masterplan_szenario, aktual]

- id: trend_scenario_energy
  name: Trend-Szenario Energie
  name_en: Trend scenario energy
  type: generic.GenericNode
  quantity: energy
  unit: MWh/a
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]
  input_datasets:
  - id: potsdam/szenarien
    tags: [baseline]
    forecast_from: 2024
    column: energy
    filters:
    - column: scenario
      values: [trend_szenario, aktual]

- id: trend_scenario_emissions
  name: Trend-Szenario Emissionen
  name_en: Trend scenario emissions
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]
  input_datasets:
  - id: potsdam/szenarien
    tags: [baseline]
    forecast_from: 2024
    column: emissions
    filters:
    - column: scenario
      values: [trend_szenario, aktual]

- id: trend_scenario_emission_factor
  name: Trend-Szenario Emissionfaktor
  name_en: Trend scenario emission factor
  type: generic.GenericNode
  quantity: emission_factor
  unit: g/kWh
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]
  input_nodes:
  - id: trend_scenario_emissions
  - id: trend_scenario_energy
    tags: [geometric_inverse]
  params:
    operations: multiply,drop_nans

- id: sector_index
  name: Sektor Index
  name_en: Sector index
  type: generic.GenericNode
  quantity: ratio
  unit: dimensionless
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]
  input_datasets:
  - id: potsdam/sector_index
    tags: [baseline]
    column: sector_index

- id: scenario_emissions_data
  name: Masterplan-Szenario Emissionen Daten
  name_en: Scenario emissions
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]
  input_datasets:
  - id: potsdam/szenarien
    tags: [baseline]
    forecast_from: 2024
    column: emissions
    filters:
    - column: scenario
      values: [masterplan_szenario, aktual]

- id: emission_change_due_to_energy
  name: Emissionsänderung durch Energieeinsparung
  name_en: Emission change due to energy
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]

- id: emission_change_due_to_ef
  name: Emissionsänderung durch Emissionsfaktor
  name_en: Emission change due to emission factor
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]

- id: scenario_emission_factor
  name: Szenario Emissionfaktor
  name_en: Scenario emission factor
  type: generic.GenericNode
  quantity: emission_factor
  unit: t/MWh
  input_dimensions: [sector, energy_carrier]
  output_dimensions: [sector, energy_carrier]
  input_nodes:
  - id: scenario_emissions_data
  - id: scenario_energy
    tags: [geometric_inverse]
  params:
    operations: multiply,drop_nans,drop_infs

- id: emission_factor_correction
  name: Emissionsfaktor-Korrektur
  name_en: Emission factor correction
  type: generic.GenericNode
  quantity: emission_factor
  unit: g/kWh
  input_dimensions: [energy_carrier, sector]
  output_dimensions: [energy_carrier, sector]
  input_nodes:
  - id: scenario_energy
    tags: [geometric_inverse]
  - id: emission_change_due_to_ef
  params:
    operations: multiply,drop_infs

- id: corrected_emission_factor
  name: Korrigierter Emissionsfaktor
  name_en: Corrected emission factor
  type: generic.GenericNode
  quantity: emission_factor
  unit: g/kWh
  input_dimensions: [energy_carrier, sector]
  output_dimensions: [energy_carrier, sector]
  input_nodes:
  - id: trend_scenario_emission_factor
  - id: emission_factor_correction

- id: energy_correction
  name: Energie-Korrektur
  name_en: Energy correction
  type: generic.GenericNode
  quantity: energy
  unit: MWh/a
  input_dimensions: [energy_carrier, sector]
  output_dimensions: [energy_carrier, sector]
  input_nodes:
  - id: scenario_emission_factor
    tags: [geometric_inverse]
  - id: emission_change_due_to_energy

- id: corrected_energy
  name: Korrigierte Energie
  name_en: Corrected energy
  type: generic.GenericNode
  quantity: energy
  unit: MWh/a
  input_dimensions: [energy_carrier, sector]
  output_dimensions: [energy_carrier, sector]
  input_nodes:
  - id: trend_scenario_energy
  - id: energy_correction

- id: corrected_emissions
  name: Korrigierter Emissionen
  name_en: Corrected emissions
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [energy_carrier, sector]
  output_dimensions: [energy_carrier, sector]
  input_nodes:
  - id: corrected_energy
  - id: corrected_emission_factor

##### COSTS

# - id: total_energy_costs
#   name: Energiepreise
#   name_en: Total cost
#   type: generic.GenericNode
#   quantity: unit_price
#   unit: EUR/MWh
#   input_dimensions: [energietrager]
#   output_dimensions: [energietrager]
#   input_datasets:
#   - id: potsdam/energy_prices
#     tags: [baseline]
#     filters:
#     - dimension: sector
#       flatten: true

# - id: energy_prices
#   name: Energiepreise
#   name_en: Energy prices
#   type: generic.GenericNode
#   quantity: unit_price
#   unit: EUR/MWh
#   input_dimensions: [sector, energy_carrier]
#   output_dimensions: [sector, energy_carrier]
#   input_datasets:
#   - id: potsdam/energy_prices
#     tags: [baseline]
#     filters:
#     - rename_col: energietrager
#       value: energy_carrier

# - id: total_energy_costs
#   name: Endenergiekosten Gesamt
#   name_en: Final Energy Costs Over All Sectors
#   type: generic.GenericNode
#   quantity: currency
#   unit: MEUR/a
#   input_nodes:
#   - id: masterplan_scenario_energy
#   - id: energy_prices

# SUMMARY IMPACTS

- id: heat_generation_networks
  name: Ausbau Erneuerbare Energien in der Wärmeerzeugung (Wärmenetze)
  name_en: Expansion of Renewable Energy in Heat Generation (District Heating)
  color: '#D4691A'
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  output_nodes:
  - id: emission_change_due_to_ef
    to_dimensions:
    - id: sector
      categories: [heating]
    - id: energy_carrier
      categories: [district_heating]

- id: heat_generation_individual
  name: Ausbau Erneuerbare Energien in der Wärmeerzeugung (Einzelversorgung)
  name_en: Expansion of Renewable Energy in Heat Generation (Individual Supply)
  color: '#FF8C42'
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  output_nodes:
  - id: emission_change_due_to_ef
    to_dimensions:
    - id: sector
      categories: [heating]
    - id: energy_carrier
      categories: [district_heating]

- id: heat_consumption
  name: Änderung im Wärmeverbrauch (Wärmenetze)
  name_en: Changes in Heat Consumption (District Heating)
  color: '#B85450'
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  output_nodes:
  - id: emission_change_due_to_energy
    to_dimensions:
    - id: sector
      categories: [heating]
    - id: energy_carrier
      categories: [natural_gas]

- id: electricity_generation
  name: Ausbau Erneuerbare Energien in der Stromerzeugung
  name_en: Expansion of Renewable Energy in Electricity Generation
  color: '#007C78'
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  output_nodes:
  - id: emission_change_due_to_ef
    to_dimensions:
    - id: sector
      categories: [electricity]
    - id: energy_carrier
      categories: [electricity]

- id: electricity_consumption
  name: Änderung im Stromverbrauch
  name_en: Changes in Electricity Consumption
  color: '#00A693'
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  output_nodes:
  - id: emission_change_due_to_energy
    to_dimensions:
    - id: sector
      categories: [electricity]
    - id: energy_carrier
      categories: [electricity]

- id: transport_energy_expansion
  name: Ausbau Erneuerbare Energien im Verkehr
  name_en: Expansion of Renewable Energy in Transport
  color: '#0505A0'
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  output_nodes:
  - id: emission_change_due_to_ef
    to_dimensions:
    - id: sector
      categories: [transport]
    - id: energy_carrier
      categories: [diesel]

- id: transport_consumption
  name: Änderung im Energieverbrauch im Verkehr
  name_en: Changes in Energy Consumption in Transport
  color: '#2E4BC6'
  type: generic.GenericNode
  quantity: emissions
  unit: kt/a
  output_nodes:
  - id: emission_change_due_to_energy
    to_dimensions:
    - id: sector
      categories: [transport]
    - id: energy_carrier
      categories: [diesel]

actions:

# NEW ACTIONS from action impact 250801.xlsx
# https://docs.google.com/spreadsheets/d/15aMuO2-GmvYw8IXe3pgSN6LvfdEqDPI6/edit?gid=2009060009#gid=2009060009

- id: district_heating_until_2030 # Split by energy carrier and sector. Affect emission factor
  name: Maßnahmepaket EWP Fernwärme bis 2030 (min. 30% EE)
  name_en: Action Package EWP District Heating until 2030 (min. 30% RE)
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: heat_generation_networks
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: district_heating_until_2030
  output_nodes:
  - id: heat_generation_networks

- id: district_heating_2030_2040 # Split by energy carrier and sector. Affect emission factor
  name: weitere Maßnahmen EWP Fernwärme 2030-2040 (+ weitere 50% EE = 80% EE)
  name_en: Further EWP district heating measures 2030-2040 (+ further 50% RE = 
    80% RE)
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: heat_generation_networks
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: district_heating_2030_2040
  output_nodes:
  - id: heat_generation_networks

- id: district_heating_2040_2045 # Split by energy carrier and sector. Affect emission factor
  name: weitere Maßnahmen EWP Fernwärme 2040-2045 (+ weitere 20% EE = 100% EE)
  name_en: Further EWP district heating measures 2040-2045 (+ further 20% RE = 
    100% RE)
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: heat_generation_networks
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: district_heating_2040_2045
  output_nodes:
  - id: heat_generation_networks

- id: local_heating_networks_2045 # Split by energy carrier and sector. Affect emission factor
  name: Maßnahmen Nahwärmenetze bis 2045 (100% EE)
  name_en: Local heating network measures until 2045 (100% RE)
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: heat_generation_networks
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: local_heating_networks_2045
  output_nodes:
  - id: heat_generation_networks

- id: re_expansion_masterplan_2045 # Split by energy carrier and sector. Affect emission factor
  name: EE-Ausbau laut Masterplan 100% Klimaschutz bis 2045
  name_en: RE expansion according to Masterplan 100% Climate Protection until 
    2045
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: heat_generation_individual
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: re_expansion_masterplan_2045
  output_nodes:
  - id: heat_generation_individual

- id: re_expansion_masterplan_kwp # Split by energy carrier and sector. Affect emission factor
  name: EE-Ausbau laut KWP (zusätzlich zu Masterplanziel)
  name_en: RE expansion according to KWP (additional to Masterplan target)
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: heat_generation_individual
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: re_expansion_masterplan_kwp
  output_nodes:
  - id: heat_generation_individual

- id: district_heating_reduction_renovation # Split by sector. Affect distric heating emission factor
  name: Reduktion des Wärmeverbrauchs durch Gebäudesanierung (Nah- und 
    Fernwärmegebiete)
  name_en: Reduction of heat consumption through building renovation (local and 
    district heating areas)
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: heat_consumption
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: district_heating_reduction_renovation
  output_nodes:
  - id: heat_consumption

- id: decentralized_heat_reduction_renovation # Split by energy carrier and sector. Affect energy
  name: Reduktion des Wärmeverbrauchs durch Gebäudesanierung (dezentral)
  name_en: Reduction of heat consumption through building renovation 
    (decentralized)
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: heat_consumption
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: decentralized_heat_reduction_renovation
  output_nodes:
  - id: heat_consumption

- id: pv_rooftop_expansion # Split by sector. Affect electricity emission factor Alternative: reduce electricity consumption
  name: Ausbau PV Dachanlagen laut Masterplan
  name_en: Expansion of PV rooftop systems according to Masterplan
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: electricity_generation
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: pv_rooftop_expansion
  output_nodes:
  - id: electricity_generation

- id: ground_mounted_pv_expansion # Split by sector. Affect electricity emission factor
  name: Ausbau Freiflächenanlagen laut Masterplan
  name_en: Expansion of ground-mounted systems according to Masterplan
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: electricity_generation
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: ground_mounted_pv_expansion
  output_nodes:
  - id: electricity_generation

- id: wind_power_potential # Split by sector. Affect electricity emission factor
  name: Potential Windkraftanlagen (Annahme 8 Anlagen)
  name_en: Wind power plant potential (assumption 8 plants)
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: electricity_generation
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: wind_power_potential
  output_nodes:
  - id: electricity_generation

- id: electricity_consumption_reduction # Split by sector, Affect electricity
  name: Reduktion Stromverbrauch HH und Gewerbe
  name_en: Reduction of electricity consumption households and commercial
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: electricity_consumption
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: electricity_consumption_reduction
  output_nodes:
  - id: electricity_consumption

- id: improved_federal_grid_mix # Split by sector. Affect electricity emission factor
  name: Verbesserter Bundesmix für Reststrombedarf
  name_en: Improved federal grid mix for residual electricity demand
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: electricity_generation
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: improved_federal_grid_mix
  output_nodes:
  - id: electricity_generation

- id: fossil_fuel_replacement # ?? Optimize?
  name: Ersatz fossiler brennstoffe durch EE-Strom und E-Fuels
  name_en: Replacement of fossil fuels with RE electricity and e-fuels
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: transport_energy_expansion
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: fossil_fuel_replacement
  output_nodes:
  - id: transport_energy_expansion

- id: local_transport_energy_reduction # Split by energy carrier, affect energy
  name: Reduktion Gesamtenergieverbrauch Binnenverkehr
  name_en: Reduction of total energy consumption local transport
  type: simple.GenericAction
  quantity: emissions
  unit: kt/a
  group: transport_consumption
  input_datasets:
  - id: potsdam/action_impact
    tags: [baseline]
    forecast_from: 2025
    column: action_impact
    filters:
    - column: decision
      value: local_transport_energy_reduction
  output_nodes:
  - id: transport_consumption

pages:
- id: home
  name: Klimaschutz-Monitor Potsdam Treibhausgasinventar
  name_en: Climate Protection Monitor Potsdam Greenhouse Gas Inventory
  path: /
  type: emission
  outcome_node: net_emissions
  lead_title: Potsdam Zielwerte Klimaschutz
  lead_paragraph: Die Treibhausgasemissionen in Potsdam sinken kontinuierlich, 
    pro Kopf relativ deutlich. In der Vergangenheit konnten die Minderungsziele 
    weitgehend erreicht werden. Die hier abgebildeten Ziele des Masterplan 100% 
    Klimaschutz sind jedoch noch ambitionierter als die bisherigen. Der 
    Ausschlag nach unten im Jahr 2020 dürfte auf die Maßnahmen zur 
    Covid19-Pandemie zurückzuführen sein.

scenarios:

- id: baseline
  name: Business as Usual
  # name_en: Business as Usual

- id: default
  default: true
  all_actions_enabled: true
  name: Masterplan 100% Klimaschutz
  # name_en: Climate Protection Plan
  params:
  - id: district_heating_2040_2045.enabled
    value: false
  - id: re_expansion_masterplan_kwp.enabled
    value: false

- id: additional_actions
  name: Masterplan + Kommunale Wärmeplanung
  # name_en: Master plan + Community Heating Plan
  all_actions_enabled: true
  params:
  - id: re_expansion_masterplan_2045.enabled
    value: false

- id: emission_factors_only
  name: Nur Emissionsfaktor-Maßnahmen
  # name_en: Emission Factor Actions Only
  params:
  # Enable emission-factor-based actions
  - id: district_heating_until_2030.enabled
    value: true
  - id: district_heating_2030_2040.enabled
    value: true
  - id: district_heating_2040_2045.enabled
    value: true
  - id: local_heating_networks_2045.enabled
    value: true
  - id: re_expansion_masterplan_2045.enabled
    value: true
  - id: re_expansion_masterplan_kwp.enabled
    value: true
  - id: pv_rooftop_expansion.enabled
    value: true
  - id: ground_mounted_pv_expansion.enabled
    value: true
  - id: wind_power_potential.enabled
    value: true
  - id: improved_federal_grid_mix.enabled
    value: true
  - id: fossil_fuel_replacement.enabled
    value: true
  # Disable energy-based actions
  - id: district_heating_reduction_renovation.enabled
    value: false
  - id: decentralized_heat_reduction_renovation.enabled
    value: false
  - id: electricity_consumption_reduction.enabled
    value: false
  - id: local_transport_energy_reduction.enabled
    value: false

- id: energy_savings_only
  name: Nur Energieeinspar-Maßnahmen
  # name_en: Energy Savings Actions Only
  params:
  # Disable emission-factor-based actions
  - id: district_heating_until_2030.enabled
    value: false
  - id: district_heating_2030_2040.enabled
    value: false
  - id: district_heating_2040_2045.enabled
    value: false
  - id: local_heating_networks_2045.enabled
    value: false
  - id: re_expansion_masterplan_2045.enabled
    value: false
  - id: re_expansion_masterplan_kwp.enabled
    value: false
  - id: pv_rooftop_expansion.enabled
    value: false
  - id: ground_mounted_pv_expansion.enabled
    value: false
  - id: wind_power_potential.enabled
    value: false
  - id: improved_federal_grid_mix.enabled
    value: false
  - id: fossil_fuel_replacement.enabled
    value: false
  # Enable energy-based actions
  - id: district_heating_reduction_renovation.enabled
    value: true
  - id: decentralized_heat_reduction_renovation.enabled
    value: true
  - id: electricity_consumption_reduction.enabled
    value: true
  - id: local_transport_energy_reduction.enabled
    value: true
